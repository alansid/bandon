(self.webpackChunkbandon=self.webpackChunkbandon||[]).push([[179],{8255:Be=>{function ge(P){return Promise.resolve().then(()=>{var h=new Error("Cannot find module '"+P+"'");throw h.code="MODULE_NOT_FOUND",h})}ge.keys=()=>[],ge.resolve=ge,ge.id=8255,Be.exports=ge},7716:(Be,ge,P)=>{"use strict";P.d(ge,{deG:()=>fF,tb:()=>DE,AFp:()=>w_,ip1:()=>Tf,CZH:()=>da,hGG:()=>tD,z2F:()=>Rc,sBO:()=>_0,Sil:()=>es,_Vd:()=>Xs,EJc:()=>TE,SBq:()=>Ei,qLn:()=>nl,vpe:()=>Qi,gxx:()=>Wu,tBr:()=>Ss,XFs:()=>Re,OlP:()=>rn,zs3:()=>Ft,ZZ4:()=>Qh,aQg:()=>Jh,soG:()=>Jt,YKP:()=>mI,v3s:()=>P_,h0i:()=>ta,PXZ:()=>xR,R0b:()=>Er,FiY:()=>Vo,Lbi:()=>TR,g9A:()=>Mf,Qsj:()=>rI,FYo:()=>Kh,JOm:()=>Li,Tiy:()=>wl,q3G:()=>on,tp0:()=>Bn,EAV:()=>zE,Rgc:()=>pc,dDg:()=>T_,DyG:()=>Ld,q4F:()=>xy,GfV:()=>Ry,s_b:()=>na,ifc:()=>Fe,eFA:()=>k_,G48:()=>RR,Gpc:()=>G,f3M:()=>hg,X6Q:()=>R_,_c5:()=>UR,VLi:()=>xE,c2e:()=>SE,zSh:()=>gh,wAp:()=>$e,vHH:()=>pe,EiD:()=>Nu,mCW:()=>Ka,qzn:()=>Ya,JVY:()=>kb,pB0:()=>Ou,eBb:()=>bg,L6k:()=>vg,LAX:()=>yo,cg1:()=>ml,Tjo:()=>JE,kL8:()=>Vh,yhl:()=>Fb,dqk:()=>Lt,sIi:()=>_h,CqO:()=>Im,QGY:()=>Sh,F4k:()=>yC,RDi:()=>FS,AaK:()=>W,z3N:()=>mo,qOj:()=>qw,TTD:()=>du,_Bn:()=>Ty,xp6:()=>Wg,uIk:()=>Kw,ekj:()=>Ah,Suo:()=>o_,Xpm:()=>Ct,lG2:()=>Lp,Yz7:()=>wt,cJS:()=>bn,oAB:()=>au,Yjl:()=>Yv,Y36:()=>Eh,_UZ:()=>gC,GkF:()=>mC,BQk:()=>Mm,ynx:()=>Tm,qZA:()=>Sm,TgZ:()=>Dh,EpF:()=>Am,n5z:()=>Cb,Ikx:()=>Zr,LFG:()=>jt,$8M:()=>Eb,NdJ:()=>Rm,CRH:()=>yf,oxw:()=>bC,Hsn:()=>CC,F$t:()=>wC,Q6J:()=>fC,VKq:()=>sf,iGM:()=>uE,CHM:()=>Yp,LSH:()=>Mg,kYT:()=>$v,Udp:()=>OC,WFA:()=>xm,d8E:()=>To,YNc:()=>WM,_uU:()=>xh,Oqu:()=>PC,hij:()=>gl,Gf:()=>mf});var h=P(9765),ie=P(5319),fe=P(7574),le=P(6682),de=P(8819);function $(s){for(let l in s)if(s[l]===$)return l;throw Error("Could not find renamed property on target object.")}function J(s,l){for(const u in l)l.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=l[u])}function W(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(W).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const l=s.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function z(s,l){return null==s||""===s?null===l?"":l:null==l||""===l?s:s+" "+l}const k=$({__forward_ref__:$});function G(s){return s.__forward_ref__=G,s.toString=function(){return W(this())},s}function O(s){return U(s)?s():s}function U(s){return"function"==typeof s&&s.hasOwnProperty(k)&&s.__forward_ref__===G}class pe extends Error{constructor(l,u){super(function(s,l){return`${s?`NG0${s}: `:""}${l}`}(l,u)),this.code=l}}function we(s){return"string"==typeof s?s:null==s?"":String(s)}function Me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():we(s)}function Ht(s,l){const u=l?` in ${l}`:"";throw new pe("201",`No provider for ${Me(s)} found${u}`)}function mt(s,l){null==s&&function(s,l,u,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${u} ${d} ${l} <=Actual]`))}(l,s,null,"!=")}function wt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function bn(s){return{providers:s.providers||[],imports:s.imports||[]}}function gr(s){return ru(s,yt)||ru(s,Ir)}function ru(s,l){return s.hasOwnProperty(l)?s[l]:null}function ou(s){return s&&(s.hasOwnProperty(_t)||s.hasOwnProperty(Yn))?s[_t]:null}const yt=$({\u0275prov:$}),_t=$({\u0275inj:$}),Ir=$({ngInjectableDef:$}),Yn=$({ngInjectorDef:$});var Re=(()=>((Re=Re||{})[Re.Default=0]="Default",Re[Re.Host=1]="Host",Re[Re.Self=2]="Self",Re[Re.SkipSelf=4]="SkipSelf",Re[Re.Optional=8]="Optional",Re))();let qt;function en(s){const l=qt;return qt=s,l}function su(s,l,u){const d=gr(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&Re.Optional?null:void 0!==l?l:void Ht(W(s),"Injector")}function io(s){return{toString:s}.toString()}var Ln=(()=>((Ln=Ln||{})[Ln.OnPush=0]="OnPush",Ln[Ln.Default=1]="Default",Ln))(),Fe=(()=>((Fe=Fe||{})[Fe.Emulated=0]="Emulated",Fe[Fe.None=2]="None",Fe[Fe.ShadowDom=3]="ShadowDom",Fe))();const tt="undefined"!=typeof globalThis&&globalThis,Pp="undefined"!=typeof window&&window,Ia="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,li="undefined"!=typeof global&&global,Lt=tt||li||Pp||Ia,kt={},B=[],V=$({\u0275cmp:$}),K=$({\u0275dir:$}),ue=$({\u0275pipe:$}),Q=$({\u0275mod:$}),Se=$({\u0275loc:$}),He=$({\u0275fac:$}),pt=$({__NG_ELEMENT_ID__:$});let xt=0;function Ct(s){return io(()=>{const u={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Ln.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||B,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Fe.Emulated,id:"c",styles:s.styles||B,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.directives,g=s.features,y=s.pipes;return d.id+=xt++,d.inputs=qv(s.inputs,u),d.outputs=qv(s.outputs),g&&g.forEach(v=>v(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(mr):null,d.pipeDefs=y?()=>("function"==typeof y?y():y).map(yr):null,d})}function mr(s){return Kn(s)||function(s){return s[K]||null}(s)}function yr(s){return function(s){return s[ue]||null}(s)}const hs={};function au(s){return io(()=>{const l={type:s.type,bootstrap:s.bootstrap||B,declarations:s.declarations||B,imports:s.imports||B,exports:s.exports||B,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(hs[s.id]=s.type),l})}function $v(s,l){return io(()=>{const u=Hr(s,!0);u.declarations=l.declarations||B,u.imports=l.imports||B,u.exports=l.exports||B})}function qv(s,l){if(null==s)return kt;const u={};for(const d in s)if(s.hasOwnProperty(d)){let p=s[d],g=p;Array.isArray(p)&&(g=p[1],p=p[0]),u[p]=d,l&&(l[p]=g)}return u}const Lp=Ct;function Yv(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Kn(s){return s[V]||null}function Hr(s,l){const u=s[Q]||null;if(!u&&!0===l)throw new Error(`Type ${W(s)} does not have '\u0275mod' property.`);return u}function so(s){return Array.isArray(s)&&"object"==typeof s[1]}function Gr(s){return Array.isArray(s)&&!0===s[1]}function jp(s){return 0!=(8&s.flags)}function vd(s){return 2==(2&s.flags)}function bd(s){return 1==(1&s.flags)}function Oi(s){return null!==s.template}function fi(s){return 0!=(512&s[2])}function ms(s,l){return s.hasOwnProperty(He)?s[He]:null}class RS{constructor(l,u,d){this.previousValue=l,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function du(){return Hp}function Hp(s){return s.type.prototype.ngOnChanges&&(s.setInput=OS),xS}function xS(){const s=Xv(this),l=null==s?void 0:s.current;if(l){const u=s.previous;if(u===kt)s.previous=l;else for(let d in l)u[d]=l[d];s.current=null,this.ngOnChanges(l)}}function OS(s,l,u,d){const p=Xv(s)||function(s,l){return s[Zv]=l}(s,{previous:kt,current:null}),g=p.current||(p.current={}),y=p.previous,v=this.declaredInputs[u],b=y[v];g[v]=new RS(b&&b.currentValue,l,y===kt),s[d]=l}du.ngInherit=!0;const Zv="__ngSimpleChanges__";function Xv(s){return s[Zv]||null}let wd;function FS(s){wd=s}function tn(s){return!!s.listen}const Na={createRenderer:(s,l)=>void 0!==wd?wd:"undefined"!=typeof document?document:void 0};function Wt(s){for(;Array.isArray(s);)s=s[0];return s}function Cd(s,l){return Wt(l[s])}function zr(s,l){return Wt(l[s.index])}function $p(s,l){return s.data[l]}function xr(s,l){const u=l[s];return so(u)?u:u[0]}function VS(s){return 4==(4&s[2])}function ob(s){return 128==(128&s[2])}function ys(s,l){return null==l?null:s[l]}function sb(s){s[18]=0}function qp(s,l){s[5]+=l;let u=s,d=s[3];for(;null!==d&&(1===l&&1===u[5]||-1===l&&0===u[5]);)d[5]+=l,u=d,d=d[3]}const Je={lFrame:WS(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function GS(){return Je.bindingsEnabled}function ye(){return Je.lFrame.lView}function gt(){return Je.lFrame.tView}function Yp(s){return Je.lFrame.contextLView=s,s[8]}function Kt(){let s=Wp();for(;null!==s&&64===s.type;)s=s.parent;return s}function Wp(){return Je.lFrame.currentTNode}function $r(s,l){const u=Je.lFrame;u.currentTNode=s,u.isParent=l}function Dd(){return Je.lFrame.isParent}function Sd(){Je.lFrame.isParent=!1}function Td(){return Je.isInCheckNoChangesMode}function Md(s){Je.isInCheckNoChangesMode=s}function ao(){return Je.lFrame.bindingIndex++}function lb(s,l){const u=Je.lFrame;u.bindingIndex=u.bindingRootIndex=s,Kp(l)}function Kp(s){Je.lFrame.currentDirectiveIndex=s}function Qp(s){const l=Je.lFrame.currentDirectiveIndex;return-1===l?null:s[l]}function ub(){return Je.lFrame.currentQueryIndex}function fu(s){Je.lFrame.currentQueryIndex=s}function cb(s){const l=s[1];return 2===l.type?l.declTNode:1===l.type?s[6]:null}function db(s,l,u){if(u&Re.SkipSelf){let p=l,g=s;for(;!(p=p.parent,null!==p||u&Re.Host||(p=cb(g),null===p||(g=g[15],10&p.type))););if(null===p)return!1;l=p,s=g}const d=Je.lFrame=hb();return d.currentTNode=l,d.lView=s,!0}function Ad(s){const l=hb(),u=s[1];Je.lFrame=l,l.currentTNode=u.firstChild,l.lView=s,l.tView=u,l.contextLView=s,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function hb(){const s=Je.lFrame,l=null===s?null:s.child;return null===l?WS(s):l}function WS(s){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=l),l}function fb(){const s=Je.lFrame;return Je.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const KS=fb;function pu(){const s=fb();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Qn(){return Je.lFrame.selectedIndex}function vs(s){Je.lFrame.selectedIndex=s}function cn(){const s=Je.lFrame;return $p(s.tView,s.selectedIndex)}function Id(s,l){for(let u=l.directiveStart,d=l.directiveEnd;u<d;u++){const g=s.data[u].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:v,ngAfterViewInit:b,ngAfterViewChecked:E,ngOnDestroy:D}=g;y&&(s.contentHooks||(s.contentHooks=[])).push(-u,y),v&&((s.contentHooks||(s.contentHooks=[])).push(u,v),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,v)),b&&(s.viewHooks||(s.viewHooks=[])).push(-u,b),E&&((s.viewHooks||(s.viewHooks=[])).push(u,E),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,E)),null!=D&&(s.destroyHooks||(s.destroyHooks=[])).push(u,D)}}function Va(s,l,u){pb(s,l,3,u)}function Rd(s,l,u,d){(3&s[2])===u&&pb(s,l,u,d)}function Jp(s,l){let u=s[2];(3&u)===l&&(u&=2047,u+=1,s[2]=u)}function pb(s,l,u,d){const g=null!=d?d:-1,y=l.length-1;let v=0;for(let b=void 0!==d?65535&s[18]:0;b<y;b++)if("number"==typeof l[b+1]){if(v=l[b],null!=d&&v>=d)break}else l[b]<0&&(s[18]+=65536),(v<g||-1==g)&&(tT(s,u,l,b),s[18]=(4294901760&s[18])+b+2),b++}function tT(s,l,u,d){const p=u[d]<0,g=u[d+1],v=s[p?-u[d]:u[d]];if(p){if(s[2]>>11<s[18]>>16&&(3&s[2])===l){s[2]+=2048;try{g.call(v)}finally{}}}else try{g.call(v)}finally{}}class xd{constructor(l,u,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function eg(s,l,u){const d=tn(s);let p=0;for(;p<u.length;){const g=u[p];if("number"==typeof g){if(0!==g)break;p++;const y=u[p++],v=u[p++],b=u[p++];d?s.setAttribute(l,v,b,y):l.setAttributeNS(y,v,b)}else{const y=g,v=u[++p];Fi(y)?d&&s.setProperty(l,y,v):d?s.setAttribute(l,y,v):l.setAttribute(y,v),p++}}return p}function gb(s){return 3===s||4===s||6===s}function Fi(s){return 64===s.charCodeAt(0)}function Od(s,l){if(null!==l&&0!==l.length)if(null===s||0===s.length)s=l.slice();else{let u=-1;for(let d=0;d<l.length;d++){const p=l[d];"number"==typeof p?u=p:0===u||mb(s,u,p,null,-1===u||2===u?l[++d]:null)}}return s}function mb(s,l,u,d,p){let g=0,y=s.length;if(-1===l)y=-1;else for(;g<s.length;){const v=s[g++];if("number"==typeof v){if(v===l){y=-1;break}if(v>l){y=g-1;break}}}for(;g<s.length;){const v=s[g];if("number"==typeof v)break;if(v===u){if(null===d)return void(null!==p&&(s[g+1]=p));if(d===s[g+1])return void(s[g+2]=p)}g++,null!==d&&g++,null!==p&&g++}-1!==y&&(s.splice(y,0,l),g=y+1),s.splice(g++,0,u),null!==d&&s.splice(g++,0,d),null!==p&&s.splice(g++,0,p)}function Fd(s){return-1!==s}function bs(s){return 32767&s}function mu(s,l){let u=function(s){return s>>16}(s),d=l;for(;u>0;)d=d[15],u--;return d}let yb=!0;function kd(s){const l=yb;return yb=s,l}let cF=0;function yu(s,l){const u=Gt(s,l);if(-1!==u)return u;const d=l[1];d.firstCreatePass&&(s.injectorIndex=l.length,vb(d.data,s),vb(l,null),vb(d.blueprint,null));const p=Pe(s,l),g=s.injectorIndex;if(Fd(p)){const y=bs(p),v=mu(p,l),b=v[1].data;for(let E=0;E<8;E++)l[g+E]=v[y+E]|b[y+E]}return l[g+8]=p,g}function vb(s,l){s.push(0,0,0,0,0,0,0,0,l)}function Gt(s,l){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===l[s.injectorIndex+8]?-1:s.injectorIndex}function Pe(s,l){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,d=null,p=l;for(;null!==p;){const g=p[1],y=g.type;if(d=2===y?g.declTNode:1===y?p[6]:null,null===d)return-1;if(u++,p=p[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function rt(s,l,u){!function(s,l,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(pt)&&(d=u[pt]),null==d&&(d=u[pt]=cF++);const p=255&d;l.data[s+(p>>5)]|=1<<p}(s,l,u)}function vr(s,l,u){if(u&Re.Optional)return s;Ht(l,"NodeInjector")}function _u(s,l,u,d){if(u&Re.Optional&&void 0===d&&(d=null),0==(u&(Re.Self|Re.Host))){const p=s[9],g=en(void 0);try{return p?p.get(l,d,u&Re.Optional):su(l,d,u&Re.Optional)}finally{en(g)}}return vr(d,l,u)}function vu(s,l,u,d=Re.Default,p){if(null!==s){const g=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const l=s.hasOwnProperty(pt)?s[pt]:void 0;return"number"==typeof l?l>=0?255&l:iT:l}(u);if("function"==typeof g){if(!db(l,s,d))return d&Re.Host?vr(p,u,d):_u(l,u,d,p);try{const y=g(d);if(null!=y||d&Re.Optional)return y;Ht(u)}finally{KS()}}else if("number"==typeof g){let y=null,v=Gt(s,l),b=-1,E=d&Re.Host?l[16][6]:null;for((-1===v||d&Re.SkipSelf)&&(b=-1===v?Pe(s,l):l[v+8],-1!==b&&tg(d,!1)?(y=l[1],v=bs(b),l=mu(b,l)):v=-1);-1!==v;){const D=l[1];if(wb(g,v,D.data)){const M=oT(v,l,u,y,d,E);if(M!==sr)return M}b=l[v+8],-1!==b&&tg(d,l[1].data[v+8]===E)&&wb(g,v,l)?(y=D,v=bs(b),l=mu(b,l)):v=-1}}}return _u(l,u,d,p)}const sr={};function iT(){return new Ba(Kt(),ye())}function oT(s,l,u,d,p,g){const y=l[1],v=y.data[s+8],D=Nd(v,y,u,null==d?vd(v)&&yb:d!=y&&0!=(3&v.type),p&Re.Host&&g===v);return null!==D?nn(l,y,D,v):sr}function Nd(s,l,u,d,p){const g=s.providerIndexes,y=l.data,v=1048575&g,b=s.directiveStart,D=g>>20,R=p?v+D:s.directiveEnd;for(let L=d?v:v+D;L<R;L++){const H=y[L];if(L<b&&u===H||L>=b&&H.type===u)return L}if(p){const L=y[b];if(L&&Oi(L)&&L.type===u)return b}return null}function nn(s,l,u,d){let p=s[u];const g=l.data;if(function(s){return s instanceof xd}(p)){const y=p;y.resolving&&function(s,l){throw new pe("200",`Circular dependency in DI detected for ${s}`)}(Me(g[u]));const v=kd(y.canSeeViewProviders);y.resolving=!0;const b=y.injectImpl?en(y.injectImpl):null;db(s,d,Re.Default);try{p=s[u]=y.factory(void 0,g,s,d),l.firstCreatePass&&u>=d.directiveStart&&function(s,l,u){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:g}=l.type.prototype;if(d){const y=Hp(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,y)}p&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,p),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,g))}(u,g[u],l)}finally{null!==b&&en(b),kd(v),y.resolving=!1,KS()}}return p}function wb(s,l,u){return!!(u[l+(s>>5)]&1<<s)}function tg(s,l){return!(s&Re.Self||s&Re.Host&&l)}class Ba{constructor(l,u){this._tNode=l,this._lView=u}get(l,u){return vu(this._tNode,this._lView,l,void 0,u)}}function Cb(s){return io(()=>{const l=s.prototype.constructor,u=l[He]||ng(l),d=Object.prototype;let p=Object.getPrototypeOf(s.prototype).constructor;for(;p&&p!==d;){const g=p[He]||ng(p);if(g&&g!==u)return g;p=Object.getPrototypeOf(p)}return g=>new g})}function ng(s){return U(s)?()=>{const l=ng(O(s));return l&&l()}:ms(s)}function Eb(s){return function(s,l){if("class"===l)return s.classes;if("style"===l)return s.styles;const u=s.attrs;if(u){const d=u.length;let p=0;for(;p<d;){const g=u[p];if(gb(g))break;if(0===g)p+=2;else if("number"==typeof g)for(p++;p<d&&"string"==typeof u[p];)p++;else{if(g===l)return u[p+1];p+=2}}}return null}(Kt(),s)}const uo="__parameters__";function co(s,l,u){return io(()=>{const d=function(s){return function(...u){if(s){const d=s(...u);for(const p in d)this[p]=d[p]}}}(l);function p(...g){if(this instanceof p)return d.apply(this,g),this;const y=new p(...g);return v.annotation=y,v;function v(b,E,D){const M=b.hasOwnProperty(uo)?b[uo]:Object.defineProperty(b,uo,{value:[]})[uo];for(;M.length<=D;)M.push(null);return(M[D]=M[D]||[]).push(y),b}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=s,p.annotationCls=p,p})}class rn{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=wt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const fF=new rn("AnalyzeForEntryComponents"),Ld=Function;function Yr(s,l){void 0===l&&(l=s);for(let u=0;u<s.length;u++){let d=s[u];Array.isArray(d)?(l===s&&(l=s.slice(0,u)),Yr(d,l)):l!==s&&l.push(d)}return l}function Ni(s,l){s.forEach(u=>Array.isArray(u)?Ni(u,l):l(u))}function Cu(s,l,u){l>=s.length?s.push(u):s.splice(l,0,u)}function Es(s,l){return l>=s.length-1?s.pop():s.splice(l,1)[0]}function Lo(s,l){const u=[];for(let d=0;d<s;d++)u.push(l);return u}function En(s,l,u){let d=Ua(s,l);return d>=0?s[1|d]=u:(d=~d,function(s,l,u,d){let p=s.length;if(p==l)s.push(u,d);else if(1===p)s.push(d,s[0]),s[0]=u;else{for(p--,s.push(s[p-1],s[p]);p>l;)s[p]=s[p-2],p--;s[l]=u,s[l+1]=d}}(s,d,l,u)),d}function Rn(s,l){const u=Ua(s,l);if(u>=0)return s[1|u]}function Ua(s,l){return function(s,l,u){let d=0,p=s.length>>u;for(;p!==d;){const g=d+(p-d>>1),y=s[g<<u];if(l===y)return g<<u;y>l?p=g:d=g+1}return~(p<<u)}(s,l,1)}const Du={},lg="__NG_DI_FLAG__",Ga="ngTempTokenPath",Ab=/\n/gm,ug="__source",cg=$({provide:String,useValue:$});let za;function it(s){const l=za;return za=s,l}function fT(s,l=Re.Default){if(void 0===za)throw new Error("inject() must be called from an injection context");return null===za?su(s,void 0,l):za.get(s,l&Re.Optional?null:void 0,l)}function jt(s,l=Re.Default){return(qt||fT)(O(s),l)}const hg=jt;function Ds(s){const l=[];for(let u=0;u<s.length;u++){const d=O(s[u]);if(Array.isArray(d)){if(0===d.length)throw new Error("Arguments array must have arguments.");let p,g=Re.Default;for(let y=0;y<d.length;y++){const v=d[y],b=pT(v);"number"==typeof b?-1===b?p=v.token:g|=b:p=v}l.push(jt(p,g))}else l.push(jt(d))}return l}function Su(s,l){return s[lg]=l,s.prototype[lg]=l,s}function pT(s){return s[lg]}function _i(s,l,u,d){const p=s[Ga];throw l[ug]&&p.unshift(l[ug]),s.message=function(s,l,u,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let p=W(l);if(Array.isArray(l))p=l.map(W).join(" -> ");else if("object"==typeof l){let g=[];for(let y in l)if(l.hasOwnProperty(y)){let v=l[y];g.push(y+":"+("string"==typeof v?JSON.stringify(v):W(v)))}p=`{${g.join(", ")}}`}return`${u}${d?"("+d+")":""}[${p}]: ${s.replace(Ab,"\n  ")}`}("\n"+s.message,p,u,d),s.ngTokenPath=p,s[Ga]=null,s}const Ss=Su(co("Inject",s=>({token:s})),-1),Vo=Su(co("Optional"),8),Bn=Su(co("SkipSelf"),4);let Au;function go(s){var l;return(null===(l=function(){if(void 0===Au&&(Au=null,Lt.trustedTypes))try{Au=Lt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Au}())||void 0===l?void 0:l.createHTML(s))||s}class As{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class vT extends As{getTypeName(){return"HTML"}}class bT extends As{getTypeName(){return"Style"}}class Hd extends As{getTypeName(){return"Script"}}class wT extends As{getTypeName(){return"URL"}}class CT extends As{getTypeName(){return"ResourceURL"}}function mo(s){return s instanceof As?s.changingThisBreaksApplicationSecurity:s}function Ya(s,l){const u=Fb(s);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function Fb(s){return s instanceof As&&s.getTypeName()||null}function kb(s){return new vT(s)}function vg(s){return new bT(s)}function bg(s){return new Hd(s)}function yo(s){return new wT(s)}function Ou(s){return new CT(s)}class Nb{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(go(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class ET{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=go(l),u;const d=this.inertDocument.createElement("body");return d.innerHTML=go(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const u=l.attributes;for(let p=u.length-1;0<p;p--){const y=u.item(p).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&l.removeAttribute(y)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Pb=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Gd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ka(s){return(s=String(s)).match(Pb)||s.match(Gd)?s:"unsafe:"+s}function vi(s){const l={};for(const u of s.split(","))l[u]=!0;return l}function Is(...s){const l={};for(const u of s)for(const d in u)u.hasOwnProperty(d)&&(l[d]=!0);return l}const $d=vi("area,br,col,hr,img,wbr"),Lb=vi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fu=vi("rp,rt"),Cg=Is($d,Is(Lb,vi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Is(Fu,vi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Is(Fu,Lb)),Qa=vi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Rs=vi("srcset"),Eg=Is(Qa,Rs,vi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),TT=vi("script,style,template");class Dg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let p=this.checkClobberedElement(u,u.nextSibling);if(p){u=p;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Cg.hasOwnProperty(u))return this.sanitizedSomething=!0,!TT.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=l.attributes;for(let p=0;p<d.length;p++){const g=d.item(p),y=g.name,v=y.toLowerCase();if(!Eg.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let b=g.value;Qa[v]&&(b=Ka(b)),Rs[v]&&(s=b,b=(s=String(s)).split(",").map(l=>Ka(l.trim())).join(", ")),this.buf.push(" ",y,'="',Bb(b),'"')}var s;return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Cg.hasOwnProperty(u)&&!$d.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(Bb(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const MT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,AT=/([^\#-~ |!])/g;function Bb(s){return s.replace(/&/g,"&amp;").replace(MT,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(AT,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ku;function Nu(s,l){let u=null;try{ku=ku||function(s){const l=new ET(s);return function(){try{return!!(new window.DOMParser).parseFromString(go(""),"text/html")}catch(s){return!1}}()?new Nb(l):l}(s);let d=l?String(l):"";u=ku.getInertBodyElement(d);let p=5,g=d;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,d=g,g=u.innerHTML,u=ku.getInertBodyElement(d)}while(d!==g);return go((new Dg).sanitizeChildren(Sg(u)||u))}finally{if(u){const d=Sg(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Sg(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var on=(()=>((on=on||{})[on.NONE=0]="NONE",on[on.HTML=1]="HTML",on[on.STYLE=2]="STYLE",on[on.SCRIPT=3]="SCRIPT",on[on.URL=4]="URL",on[on.RESOURCE_URL=5]="RESOURCE_URL",on))();function Mg(s){const l=function(){const s=ye();return s&&s[12]}();return l?l.sanitize(on.URL,s)||"":Ya(s,"URL")?mo(s):Ka(we(s))}const Xa="__ngContext__";function jn(s,l){s[Xa]=l}function Rg(s){const l=function(s){return s[Xa]||null}(s);return l?Array.isArray(l)?l:l.lView:null}function xs(s){return s.ngOriginalError}function NT(s,...l){s.error(...l)}class nl{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l),d=this._findContext(l),p=(s=l)&&s.ngErrorLogger||NT;var s;p(this._console,"ERROR",l),u&&p(this._console,"ORIGINAL ERROR",u),d&&p(this._console,"ERROR CONTEXT",d)}_findContext(l){return l?l.ngDebugContext||this._findContext(xs(l)):null}_findOriginalError(l){let u=l&&xs(l);for(;u&&xs(u);)u=xs(u);return u||null}}const Qb=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Lt))();function Pi(s){return s instanceof Function?s():s}var Li=(()=>((Li=Li||{})[Li.Important=1]="Important",Li[Li.DashCase=2]="DashCase",Li))();function Qd(s,l){return undefined(s,l)}function ju(s){const l=s[3];return Gr(l)?l[3]:l}function Jd(s){return Lg(s[13])}function tw(s){return Lg(s[4])}function Lg(s){for(;null!==s&&!Gr(s);)s=s[4];return s}function Os(s,l,u,d,p){if(null!=d){let g,y=!1;Gr(d)?g=d:so(d)&&(y=!0,d=d[0]);const v=Wt(d);0===s&&null!==u?null==p?sw(l,u,v):Uo(l,u,v,p||null,!0):1===s&&null!==u?Uo(l,u,v,p||null,!0):2===s?function(s,l,u){const d=th(s,l);d&&function(s,l,u,d){tn(s)?s.removeChild(l,u,d):l.removeChild(u)}(s,d,l,u)}(l,v,y):3===s&&l.destroyNode(v),null!=g&&function(s,l,u,d,p){const g=u[7];g!==Wt(u)&&Os(l,s,d,g,p);for(let v=10;v<u.length;v++){const b=u[v];ks(b[1],b,s,l,d,g)}}(l,s,g,u,p)}}function Vg(s,l,u){return tn(s)?s.createElement(l,u):null===u?s.createElement(l):s.createElementNS(u,l)}function Xd(s,l){const u=s[9],d=u.indexOf(l),p=l[3];1024&l[2]&&(l[2]&=-1025,qp(p,-1)),u.splice(d,1)}function eh(s,l){if(s.length<=10)return;const u=10+l,d=s[u];if(d){const p=d[17];null!==p&&p!==s&&Xd(p,d),l>0&&(s[u-1][4]=d[4]);const g=Es(s,10+l);!function(s,l){ks(s,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const y=g[19];null!==y&&y.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function rw(s,l){if(!(256&l[2])){const u=l[11];tn(u)&&u.destroyNode&&ks(s,l,u,3,null,null),function(s){let l=s[13];if(!l)return jo(s[1],s);for(;l;){let u=null;if(so(l))u=l[13];else{const d=l[10];d&&(u=d)}if(!u){for(;l&&!l[4]&&l!==s;)so(l)&&jo(l[1],l),l=l[3];null===l&&(l=s),so(l)&&jo(l[1],l),u=l&&l[4]}l=u}}(l)}}function jo(s,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function(s,l){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let d=0;d<u.length;d+=2){const p=l[u[d]];if(!(p instanceof xd)){const g=u[d+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const v=p[g[y]],b=g[y+1];try{b.call(v)}finally{}}else try{g.call(p)}finally{}}}}(s,l),function(s,l){const u=s.cleanup,d=l[7];let p=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const y=u[g+1],v="function"==typeof y?y(l):Wt(l[y]),b=d[p=u[g+2]],E=u[g+3];"boolean"==typeof E?v.removeEventListener(u[g],b,E):E>=0?d[p=E]():d[p=-E].unsubscribe(),g+=2}else{const y=d[p=u[g+1]];u[g].call(y)}if(null!==d){for(let g=p+1;g<d.length;g++)d[g]();l[7]=null}}(s,l),1===l[1].type&&tn(l[11])&&l[11].destroy();const u=l[17];if(null!==u&&Gr(l[3])){u!==l[3]&&Xd(u,l);const d=l[19];null!==d&&d.detachView(s)}}}function iw(s,l,u){return function(s,l,u){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return u[0];if(2&d.flags){const p=s.data[d.directiveStart].encapsulation;if(p===Fe.None||p===Fe.Emulated)return null}return zr(d,u)}(s,l.parent,u)}function Uo(s,l,u,d,p){tn(s)?s.insertBefore(l,u,d,p):l.insertBefore(u,d,p)}function sw(s,l,u){tn(s)?s.appendChild(l,u):l.appendChild(u)}function aw(s,l,u,d,p){null!==d?Uo(s,l,u,d,p):sw(s,l,u)}function th(s,l){return tn(s)?s.parentNode(l):l.parentNode}function rh(s,l,u){return Fs(s,l,u)}let Fs=function(s,l,u){return 40&s.type?zr(s,u):null};function Uu(s,l,u,d){const p=iw(s,d,l),g=l[11],v=rh(d.parent||l[6],d,l);if(null!=p)if(Array.isArray(u))for(let b=0;b<u.length;b++)aw(g,p,u[b],v,!1);else aw(g,p,u,v,!1)}function oh(s,l){if(null!==l){const u=l.type;if(3&u)return zr(l,s);if(4&u)return Hg(-1,s[l.index]);if(8&u){const d=l.child;if(null!==d)return oh(s,d);{const p=s[l.index];return Gr(p)?Hg(-1,p):Wt(p)}}if(32&u)return Qd(l,s)()||Wt(s[l.index]);{const d=Ug(s,l);return null!==d?Array.isArray(d)?d[0]:oh(ju(s[16]),d):oh(s,l.next)}}return null}function Ug(s,l){return null!==l?s[16][6].projection[l.projection]:null}function Hg(s,l){const u=10+s+1;if(u<l.length){const d=l[u],p=d[1].firstChild;if(null!==p)return oh(d,p)}return l[7]}function sh(s,l,u,d,p,g,y){for(;null!=u;){const v=d[u.index],b=u.type;if(y&&0===l&&(v&&jn(Wt(v),d),u.flags|=4),64!=(64&u.flags))if(8&b)sh(s,l,u.child,d,p,g,!1),Os(l,s,p,v,g);else if(32&b){const E=Qd(u,d);let D;for(;D=E();)Os(l,s,p,D,g);Os(l,s,p,v,g)}else 16&b?Ho(s,l,d,u,p,g):Os(l,s,p,v,g);u=y?u.projectionNext:u.next}}function ks(s,l,u,d,p,g){sh(u,d,s.firstChild,l,p,g,!1)}function Ho(s,l,u,d,p,g){const y=u[16],b=y[6].projection[d.projection];if(Array.isArray(b))for(let E=0;E<b.length;E++)Os(l,s,p,b[E],g);else sh(s,l,b,y[3],p,g,!0)}function cw(s,l,u){tn(s)?s.setAttribute(l,"style",u):l.style.cssText=u}function zg(s,l,u){tn(s)?""===u?s.removeAttribute(l,"class"):s.setAttribute(l,"class",u):l.className=u}function $g(s,l,u){let d=s.length;for(;;){const p=s.indexOf(l,u);if(-1===p)return p;if(0===p||s.charCodeAt(p-1)<=32){const g=l.length;if(p+g===d||s.charCodeAt(p+g)<=32)return p}u=p+1}}const dw="ng-template";function eM(s,l,u){let d=0;for(;d<s.length;){let p=s[d++];if(u&&"class"===p){if(p=s[d],-1!==$g(p.toLowerCase(),l,0))return!0}else if(1===p){for(;d<s.length&&"string"==typeof(p=s[d++]);)if(p.toLowerCase()===l)return!0;return!1}}return!1}function qg(s){return 4===s.type&&s.value!==dw}function tM(s,l,u){return l===(4!==s.type||u?s.value:dw)}function nM(s,l,u){let d=4;const p=s.attrs||[],g=function(s){for(let l=0;l<s.length;l++)if(gb(s[l]))return l;return s.length}(p);let y=!1;for(let v=0;v<l.length;v++){const b=l[v];if("number"!=typeof b){if(!y)if(4&d){if(d=2|1&d,""!==b&&!tM(s,b,u)||""===b&&1===l.length){if(bi(d))return!1;y=!0}}else{const E=8&d?b:l[++v];if(8&d&&null!==s.attrs){if(!eM(s.attrs,E,u)){if(bi(d))return!1;y=!0}continue}const M=Yg(8&d?"class":b,p,qg(s),u);if(-1===M){if(bi(d))return!1;y=!0;continue}if(""!==E){let R;R=M>g?"":p[M+1].toLowerCase();const L=8&d?R:null;if(L&&-1!==$g(L,E,0)||2&d&&E!==R){if(bi(d))return!1;y=!0}}}}else{if(!y&&!bi(d)&&!bi(b))return!1;if(y&&bi(b))continue;y=!1,d=b|1&d}}return bi(d)||y}function bi(s){return 0==(1&s)}function Yg(s,l,u,d){if(null===l)return-1;let p=0;if(d||!u){let g=!1;for(;p<l.length;){const y=l[p];if(y===s)return p;if(3===y||6===y)g=!0;else{if(1===y||2===y){let v=l[++p];for(;"string"==typeof v;)v=l[++p];continue}if(4===y)break;if(0===y){p+=4;continue}}p+=g?1:2}return-1}return function(s,l){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const d=s[u];if("number"==typeof d)return-1;if(d===l)return u;u++}return-1}(l,s)}function hw(s,l,u=!1){for(let d=0;d<l.length;d++)if(nM(s,l[d],u))return!0;return!1}function OF(s,l){e:for(let u=0;u<l.length;u++){const d=l[u];if(s.length===d.length){for(let p=0;p<s.length;p++)if(s[p]!==d[p])continue e;return!0}}return!1}function pw(s,l){return s?":not("+l.trim()+")":l}function oM(s){let l=s[0],u=1,d=2,p="",g=!1;for(;u<s.length;){let y=s[u];if("string"==typeof y)if(2&d){const v=s[++u];p+="["+y+(v.length>0?'="'+v+'"':"")+"]"}else 8&d?p+="."+y:4&d&&(p+=" "+y);else""!==p&&!bi(y)&&(l+=pw(g,p),p=""),d=y,g=g||!bi(d);u++}return""!==p&&(l+=pw(g,p)),l}const Xe={};function Wg(s){dn(gt(),ye(),Qn()+s,Td())}function dn(s,l,u,d){if(!d)if(3==(3&l[2])){const g=s.preOrderCheckHooks;null!==g&&Va(l,g,u)}else{const g=s.preOrderHooks;null!==g&&Rd(l,g,0,u)}vs(u)}function Wr(s,l){return s<<17|l<<2}function Vi(s){return s>>17&32767}function Ps(s){return 2|s}function Bi(s){return(131068&s)>>2}function Kg(s,l){return-131069&s|l<<2}function Qg(s){return 1|s}function zo(s,l){const u=s.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const p=u[d],g=u[d+1];if(-1!==g){const y=s.data[g];fu(p),y.contentQueries(2,l[g],g)}}}function Bs(s,l,u,d,p,g,y,v,b,E){const D=l.blueprint.slice();return D[0]=p,D[2]=140|d,sb(D),D[3]=D[15]=s,D[8]=u,D[10]=y||s&&s[10],D[11]=v||s&&s[11],D[12]=b||s&&s[12]||null,D[9]=E||s&&s[9]||null,D[6]=g,D[16]=2==l.type?s[16]:D,D}function sl(s,l,u,d,p){let g=s.data[l];if(null===g)g=function(s,l,u,d,p){const g=Wp(),y=Dd(),b=s.data[l]=function(s,l,u,d,p,g){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,u,l,d,p);return null===s.firstChild&&(s.firstChild=b),null!==g&&(y?null==g.child&&null!==b.parent&&(g.child=b):null===g.next&&(g.next=b)),b}(s,l,u,d,p),Je.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=d,g.attrs=p;const y=function(){const s=Je.lFrame,l=s.currentTNode;return s.isParent?l:l.parent}();g.injectorIndex=null===y?-1:y.injectorIndex}return $r(g,!0),g}function bo(s,l,u,d){if(0===u)return-1;const p=l.length;for(let g=0;g<u;g++)l.push(d),s.blueprint.push(d),s.data.push(null);return p}function ji(s,l,u){Ad(l);try{const d=s.viewQuery;null!==d&&Nw(1,d,u);const p=s.template;null!==p&&Ui(s,l,p,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&zo(s,l),s.staticViewQueries&&Nw(2,s.viewQuery,u);const g=s.components;null!==g&&function(s,l){for(let u=0;u<l.length;u++)fh(s,l[u])}(l,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{l[2]&=-5,pu()}}function js(s,l,u,d){const p=l[2];if(256==(256&p))return;Ad(l);const g=Td();try{sb(l),function(s){Je.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&Ui(s,l,u,2,d);const y=3==(3&p);if(!g)if(y){const E=s.preOrderCheckHooks;null!==E&&Va(l,E,null)}else{const E=s.preOrderHooks;null!==E&&Rd(l,E,0,null),Jp(l,0)}if(function(s){for(let l=Jd(s);null!==l;l=tw(l)){if(!l[2])continue;const u=l[9];for(let d=0;d<u.length;d++){const p=u[d],g=p[3];0==(1024&p[2])&&qp(g,1),p[2]|=1024}}}(l),function(s){for(let l=Jd(s);null!==l;l=tw(l))for(let u=10;u<l.length;u++){const d=l[u],p=d[1];ob(d)&&js(p,d,p.template,d[8])}}(l),null!==s.contentQueries&&zo(s,l),!g)if(y){const E=s.contentCheckHooks;null!==E&&Va(l,E)}else{const E=s.contentHooks;null!==E&&Rd(l,E,1),Jp(l,1)}!function(s,l){const u=s.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const p=u[d];if(p<0)vs(~p);else{const g=p,y=u[++d],v=u[++d];lb(y,g),v(2,l[g])}}}finally{vs(-1)}}(s,l);const v=s.components;null!==v&&function(s,l){for(let u=0;u<l.length;u++)xw(s,l[u])}(l,v);const b=s.viewQuery;if(null!==b&&Nw(2,b,d),!g)if(y){const E=s.viewCheckHooks;null!==E&&Va(l,E)}else{const E=s.viewHooks;null!==E&&Rd(l,E,2),Jp(l,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,qp(l[3],-1))}finally{pu()}}function sM(s,l,u,d){const p=l[10],g=!Td(),y=VS(l);try{g&&!y&&p.begin&&p.begin(),y&&ji(s,l,d),js(s,l,u,d)}finally{g&&!y&&p.end&&p.end()}}function Ui(s,l,u,d,p){const g=Qn(),y=2&d;try{vs(-1),y&&l.length>20&&dn(s,l,20,Td()),u(d,p)}finally{vs(g)}}function aM(s,l,u){if(jp(l)){const p=l.directiveEnd;for(let g=l.directiveStart;g<p;g++){const y=s.data[g];y.contentQueries&&y.contentQueries(1,u[g],g)}}}function Us(s,l,u){!GS()||(function(s,l,u,d){const p=u.directiveStart,g=u.directiveEnd;s.firstCreatePass||yu(u,l),jn(d,l);const y=u.initialInputs;for(let v=p;v<g;v++){const b=s.data[v],E=Oi(b);E&&ZF(l,u,b);const D=nn(l,s,v,u);jn(D,l),null!==y&&hh(0,v-p,D,b,0,y),E&&(xr(u.index,l)[8]=D)}}(s,l,u,zr(u,l)),128==(128&u.flags)&&function(s,l,u){const d=u.directiveStart,p=u.directiveEnd,y=u.index,v=Je.lFrame.currentDirectiveIndex;try{vs(y);for(let b=d;b<p;b++){const E=s.data[b],D=l[b];Kp(b),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&dm(E,D)}}finally{vs(-1),Kp(v)}}(s,l,u))}function am(s,l,u=zr){const d=l.localNames;if(null!==d){let p=l.index+1;for(let g=0;g<d.length;g+=2){const y=d[g+1],v=-1===y?u(l,s):s[y];s[p++]=v}}}function $u(s){const l=s.tView;return null===l||l.incompleteFirstPass?s.tView=ch(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):l}function ch(s,l,u,d,p,g,y,v,b,E){const D=20+d,M=D+p,R=function(s,l){const u=[];for(let d=0;d<l;d++)u.push(d<s?null:Xe);return u}(D,M),L="function"==typeof E?E():E;return R[1]={type:s,blueprint:R,template:u,queries:null,viewQuery:v,declTNode:l,data:R.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:b,consts:L,incompleteFirstPass:!1}}function uM(s,l,u,d){const p=Pw(l);null===u?p.push(d):(p.push(u),s.firstCreatePass&&Lw(s).push(d,p.length-1))}function Tw(s,l,u){for(let d in s)if(s.hasOwnProperty(d)){const p=s[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(l,p):u[d]=[l,p]}return u}function Fr(s,l,u,d,p,g,y,v){const b=zr(l,u);let D,E=l.inputs;!v&&null!=E&&(D=E[d])?(wM(s,u,D,d,p),vd(l)&&function(s,l){const u=xr(l,s);16&u[2]||(u[2]|=64)}(u,l.index)):3&l.type&&(d=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),p=null!=y?y(p,l.value||"",d):p,tn(g)?g.setProperty(b,d,p):Fi(d)||(b.setProperty?b.setProperty(d,p):b[d]=p))}function cm(s,l,u,d){let p=!1;if(GS()){const g=function(s,l,u){const d=s.directiveRegistry;let p=null;if(d)for(let g=0;g<d.length;g++){const y=d[g];hw(u,y.selectors,!1)&&(p||(p=[]),rt(yu(u,l),s,y.type),Oi(y)?(fM(s,u),p.unshift(y)):p.push(y))}return p}(s,l,u),y=null===d?null:{"":-1};if(null!==g){p=!0,pM(u,s.data.length,g.length);for(let D=0;D<g.length;D++){const M=g[D];M.providersResolver&&M.providersResolver(M)}let v=!1,b=!1,E=bo(s,l,g.length,null);for(let D=0;D<g.length;D++){const M=g[D];u.mergedAttrs=Od(u.mergedAttrs,M.hostAttrs),gM(s,u,l,E,M),JF(E,M,y),null!==M.contentQueries&&(u.flags|=8),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(u.flags|=128);const R=M.type.prototype;!v&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),v=!0),!b&&(R.ngOnChanges||R.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),b=!0),E++}!function(s,l){const d=l.directiveEnd,p=s.data,g=l.attrs,y=[];let v=null,b=null;for(let E=l.directiveStart;E<d;E++){const D=p[E],M=D.inputs,R=null===g||qg(l)?null:mM(M,g);y.push(R),v=Tw(M,E,v),b=Tw(D.outputs,E,b)}null!==v&&(v.hasOwnProperty("class")&&(l.flags|=16),v.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=y,l.inputs=v,l.outputs=b}(s,u)}y&&function(s,l,u){if(l){const d=s.localNames=[];for(let p=0;p<l.length;p+=2){const g=u[l[p+1]];if(null==g)throw new pe("301",`Export of name '${l[p+1]}' not found!`);d.push(l[p],g)}}}(u,d,y)}return u.mergedAttrs=Od(u.mergedAttrs,u.attrs),p}function Aw(s,l,u,d,p,g){const y=g.hostBindings;if(y){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const b=~l.index;(function(s){let l=s.length;for(;l>0;){const u=s[--l];if("number"==typeof u&&u<0)return u}return 0})(v)!=b&&v.push(b),v.push(d,p,y)}}function dm(s,l){null!==s.hostBindings&&s.hostBindings(1,l)}function fM(s,l){l.flags|=2,(s.components||(s.components=[])).push(l.index)}function JF(s,l,u){if(u){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)u[l.exportAs[d]]=s;Oi(l)&&(u[""]=s)}}function pM(s,l,u){s.flags|=1,s.directiveStart=l,s.directiveEnd=l+u,s.providerIndexes=l}function gM(s,l,u,d,p){s.data[d]=p;const g=p.factory||(p.factory=ms(p.type)),y=new xd(g,Oi(p),null);s.blueprint[d]=y,u[d]=y,Aw(s,l,0,d,bo(s,u,p.hostVars,Xe),p)}function ZF(s,l,u){const d=zr(l,s),p=$u(u),g=s[10],y=Yu(s,Bs(s,p,null,u.onPush?64:16,d,l,g,g.createRenderer(d,u),null,null));s[l.index]=y}function Qr(s,l,u,d,p,g){const y=zr(s,l);!function(s,l,u,d,p,g,y){if(null==g)tn(s)?s.removeAttribute(l,p,u):l.removeAttribute(p);else{const v=null==y?we(g):y(g,d||"",p);tn(s)?s.setAttribute(l,p,v,u):u?l.setAttributeNS(u,p,v):l.setAttribute(p,v)}}(l[11],y,g,s.value,u,d,p)}function hh(s,l,u,d,p,g){const y=g[l];if(null!==y){const v=d.setInput;for(let b=0;b<y.length;){const E=y[b++],D=y[b++],M=y[b++];null!==v?d.setInput(u,M,E,D):u[D]=M}}}function mM(s,l){let u=null,d=0;for(;d<l.length;){const p=l[d];if(0!==p)if(5!==p){if("number"==typeof p)break;s.hasOwnProperty(p)&&(null===u&&(u=[]),u.push(p,s[p],l[d+1])),d+=2}else d+=2;else d+=4}return u}function yM(s,l,u,d){return new Array(s,!0,!1,l,null,0,d,u,null,null)}function xw(s,l){const u=xr(l,s);if(ob(u)){const d=u[1];80&u[2]?js(d,u,d.template,u[8]):u[5]>0&&Ow(u)}}function Ow(s){for(let d=Jd(s);null!==d;d=tw(d))for(let p=10;p<d.length;p++){const g=d[p];if(1024&g[2]){const y=g[1];js(y,g,y.template,g[8])}else g[5]>0&&Ow(g)}const u=s[1].components;if(null!==u)for(let d=0;d<u.length;d++){const p=xr(u[d],s);ob(p)&&p[5]>0&&Ow(p)}}function fh(s,l){const u=xr(l,s),d=u[1];(function(s,l){for(let u=l.length;u<s.blueprint.length;u++)l.push(s.blueprint[u])})(d,u),ji(d,u,u[8])}function Yu(s,l){return s[13]?s[14][4]=l:s[13]=l,s[14]=l,l}function Fw(s){for(;s;){s[2]|=64;const l=ju(s);if(fi(s)&&!l)return s;s=l}return null}function gm(s,l,u){const d=l[10];d.begin&&d.begin();try{js(s,l,s.template,u)}catch(p){throw bM(l,p),p}finally{d.end&&d.end()}}function kw(s){!function(s){for(let l=0;l<s.components.length;l++){const u=s.components[l],d=Rg(u),p=d[1];sM(p,d,p.template,u)}}(s[8])}function Nw(s,l,u){fu(0),l(s,u)}const vM=(()=>Promise.resolve(null))();function Pw(s){return s[7]||(s[7]=[])}function Lw(s){return s.cleanup||(s.cleanup=[])}function Vw(s,l,u){return(null===s||Oi(s))&&(u=function(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(u[l.index])),u[11]}function bM(s,l){const u=s[9],d=u?u.get(nl,null):null;d&&d.handleError(l)}function wM(s,l,u,d,p){for(let g=0;g<u.length;){const y=u[g++],v=u[g++],b=l[y],E=s.data[y];null!==E.setInput?E.setInput(b,p,d,v):b[v]=p}}function Hi(s,l,u){const d=Cd(l,s);!function(s,l,u){tn(s)?s.setValue(l,u):l.textContent=u}(s[11],d,u)}function ph(s,l,u){let d=u?s.styles:null,p=u?s.classes:null,g=0;if(null!==l)for(let y=0;y<l.length;y++){const v=l[y];"number"==typeof v?g=v:1==g?p=z(p,v):2==g&&(d=z(d,v+": "+l[++y]+";"))}u?s.styles=d:s.stylesWithoutHost=d,u?s.classes=p:s.classesWithoutHost=p}const Wu=new rn("INJECTOR",-1);class CM{get(l,u=Du){if(u===Du){const d=new Error(`NullInjectorError: No provider for ${W(l)}!`);throw d.name="NullInjectorError",d}return u}}const gh=new rn("Set Injector scope."),mh={},ok={};let Bw;function EM(){return void 0===Bw&&(Bw=new CM),Bw}function DM(s,l=null,u=null,d){return new ak(s,u,l||EM(),d)}class ak{constructor(l,u,d,p=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];u&&Ni(u,v=>this.processProvider(v,l,u)),Ni([l],v=>this.processInjectorType(v,[],g)),this.records.set(Wu,Ku(void 0,this));const y=this.records.get(gh);this.scope=null!=y?y.value:null,this.source=p||("object"==typeof l?null:W(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,u=Du,d=Re.Default){this.assertNotDestroyed();const p=it(this),g=en(void 0);try{if(!(d&Re.SkipSelf)){let v=this.records.get(l);if(void 0===v){const b=("function"==typeof(s=l)||"object"==typeof s&&s instanceof rn)&&gr(l);v=b&&this.injectableDefInScope(b)?Ku(jw(l),mh):null,this.records.set(l,v)}if(null!=v)return this.hydrate(l,v)}return(d&Re.Self?EM():this.parent).get(l,u=d&Re.Optional&&u===Du?null:u)}catch(y){if("NullInjectorError"===y.name){if((y[Ga]=y[Ga]||[]).unshift(W(l)),p)throw y;return _i(y,l,"R3InjectorError",this.source)}throw y}finally{en(g),it(p)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((d,p)=>l.push(W(p))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(l,u,d){if(!(l=O(l)))return!1;let p=ou(l);const g=null==p&&l.ngModule||void 0,y=void 0===g?l:g,v=-1!==d.indexOf(y);if(void 0!==g&&(p=ou(g)),null==p)return!1;if(null!=p.imports&&!v){let D;d.push(y);try{Ni(p.imports,M=>{this.processInjectorType(M,u,d)&&(void 0===D&&(D=[]),D.push(M))})}finally{}if(void 0!==D)for(let M=0;M<D.length;M++){const{ngModule:R,providers:L}=D[M];Ni(L,H=>this.processProvider(H,R,L||B))}}this.injectorDefTypes.add(y);const b=ms(y)||(()=>new y);this.records.set(y,Ku(b,mh));const E=p.providers;if(null!=E&&!v){const D=l;Ni(E,M=>this.processProvider(M,D,E))}return void 0!==g&&void 0!==l.providers}processProvider(l,u,d){let p=Qu(l=O(l))?l:O(l&&l.provide);const g=TM(s=l)?Ku(void 0,s.useValue):Ku(SM(s),mh);var s;if(Qu(l)||!0!==l.multi)this.records.get(p);else{let y=this.records.get(p);y||(y=Ku(void 0,mh,!0),y.factory=()=>Ds(y.multi),this.records.set(p,y)),p=l,y.multi.push(l)}this.records.set(p,g)}hydrate(l,u){return u.value===mh&&(u.value=ok,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(s=u.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var s}injectableDefInScope(l){if(!l.providedIn)return!1;const u=O(l.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function jw(s){const l=gr(s),u=null!==l?l.factory:ms(s);if(null!==u)return u;if(s instanceof rn)throw new Error(`Token ${W(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const l=s.length;if(l>0){const d=Lo(l,"?");throw new Error(`Can't resolve all parameters for ${W(s)}: (${d.join(", ")}).`)}const u=function(s){const l=s&&(s[yt]||s[Ir]);if(l){const u=function(s){if(s.hasOwnProperty("name"))return s.name;const l=(""+s).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Error("unreachable")}function SM(s,l,u){let d;if(Qu(s)){const p=O(s);return ms(p)||jw(p)}if(TM(s))d=()=>O(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Ds(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))d=()=>jt(O(s.useExisting));else{const p=O(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return ms(p)||jw(p);d=()=>new p(...Ds(s.deps))}return d}function Ku(s,l,u=!1){return{factory:s,value:l,multi:u?[]:void 0}}function TM(s){return null!==s&&"object"==typeof s&&cg in s}function Qu(s){return"function"==typeof s}const MM=function(s,l,u){return function(s,l=null,u=null,d){const p=DM(s,l,u,d);return p._resolveInjectorDefTypes(),p}({name:u},l,s,u)};class Ft{static create(l,u){return Array.isArray(l)?MM(l,u,""):MM(l.providers,l.parent,l.name||"")}}function Mk(s,l){Id(Rg(s)[1],Kt())}function qw(s){let l=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const d=[s];for(;l;){let p;if(Oi(s))p=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Error("Directives cannot inherit Components");p=l.\u0275dir}if(p){if(u){d.push(p);const y=s;y.inputs=Yw(s.inputs),y.declaredInputs=Yw(s.declaredInputs),y.outputs=Yw(s.outputs);const v=p.hostBindings;v&&xk(s,v);const b=p.viewQuery,E=p.contentQueries;if(b&&Ik(s,b),E&&Rk(s,E),J(s.inputs,p.inputs),J(s.declaredInputs,p.declaredInputs),J(s.outputs,p.outputs),Oi(p)&&p.data.animation){const D=s.data;D.animation=(D.animation||[]).concat(p.data.animation)}}const g=p.features;if(g)for(let y=0;y<g.length;y++){const v=g[y];v&&v.ngInherit&&v(s),v===qw&&(u=!1)}}l=Object.getPrototypeOf(l)}!function(s){let l=0,u=null;for(let d=s.length-1;d>=0;d--){const p=s[d];p.hostVars=l+=p.hostVars,p.hostAttrs=Od(p.hostAttrs,u=Od(u,p.hostAttrs))}}(d)}function Yw(s){return s===kt?{}:s===B?[]:s}function Ik(s,l){const u=s.viewQuery;s.viewQuery=u?(d,p)=>{l(d,p),u(d,p)}:l}function Rk(s,l){const u=s.contentQueries;s.contentQueries=u?(d,p,g)=>{l(d,p,g),u(d,p,g)}:l}function xk(s,l){const u=s.hostBindings;s.hostBindings=u?(d,p)=>{l(d,p),u(d,p)}:l}Ft.THROW_IF_NOT_FOUND=Du,Ft.NULL=new CM,Ft.\u0275prov=wt({token:Ft,providedIn:"any",factory:()=>jt(Wu)}),Ft.__NG_ELEMENT_ID__=-1;let mm=null;function Ju(){if(!mm){const s=Lt.Symbol;if(s&&s.iterator)mm=s.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const d=l[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(mm=d)}}}return mm}function _h(s){return!!Ww(s)&&(Array.isArray(s)||!(s instanceof Map)&&Ju()in s)}function Ww(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ur(s,l,u){return!Object.is(s[l],u)&&(s[l]=u,!0)}function Kw(s,l,u,d){const p=ye();return ur(p,ao(),l)&&(gt(),Qr(cn(),p,s,l,u,d)),Kw}function WM(s,l,u,d,p,g,y,v){const b=ye(),E=gt(),D=s+20,M=E.firstCreatePass?function(s,l,u,d,p,g,y,v,b){const E=l.consts,D=sl(l,s,4,y||null,ys(E,v));cm(l,u,D,ys(E,b)),Id(l,D);const M=D.tViews=ch(2,D,d,p,g,l.directiveRegistry,l.pipeRegistry,null,l.schemas,E);return null!==l.queries&&(l.queries.template(l,D),M.queries=l.queries.embeddedTView(D)),D}(D,E,b,l,u,d,p,g,y):E.data[D];$r(M,!1);const R=b[11].createComment("");Uu(E,b,R,M),jn(R,b),Yu(b,b[D]=yM(R,b,R,M)),bd(M)&&Us(E,b,M),null!=y&&am(b,M,v)}function Eh(s,l=Re.Default){const u=ye();return null===u?jt(s,l):vu(Kt(),u,O(s),l)}function fC(s,l,u){const d=ye();return ur(d,ao(),l)&&Fr(gt(),cn(),d,s,l,d[11],u,!1),fC}function pC(s,l,u,d,p){const y=p?"class":"style";wM(s,u,l.inputs[y],y,d)}function Dh(s,l,u,d){const p=ye(),g=gt(),y=20+s,v=p[11],b=p[y]=Vg(v,l,Je.lFrame.currentNamespace),E=g.firstCreatePass?function(s,l,u,d,p,g,y){const v=l.consts,E=sl(l,s,2,p,ys(v,g));return cm(l,u,E,ys(v,y)),null!==E.attrs&&ph(E,E.attrs,!1),null!==E.mergedAttrs&&ph(E,E.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,E),E}(y,g,p,0,l,u,d):g.data[y];$r(E,!0);const D=E.mergedAttrs;null!==D&&eg(v,b,D);const M=E.classes;null!==M&&zg(v,b,M);const R=E.styles;null!==R&&cw(v,b,R),64!=(64&E.flags)&&Uu(g,p,b,E),0===Je.lFrame.elementDepthCount&&jn(b,p),Je.lFrame.elementDepthCount++,bd(E)&&(Us(g,p,E),aM(g,E,p)),null!==d&&am(p,E)}function Sm(){let s=Kt();Dd()?Sd():(s=s.parent,$r(s,!1));const l=s;Je.lFrame.elementDepthCount--;const u=gt();u.firstCreatePass&&(Id(u,s),jp(s)&&u.queries.elementEnd(s)),null!=l.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(l)&&pC(u,l,ye(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(l)&&pC(u,l,ye(),l.stylesWithoutHost,!1)}function gC(s,l,u,d){Dh(s,l,u,d),Sm()}function Tm(s,l,u){const d=ye(),p=gt(),g=s+20,y=p.firstCreatePass?function(s,l,u,d,p){const g=l.consts,y=ys(g,d),v=sl(l,s,8,"ng-container",y);return null!==y&&ph(v,y,!0),cm(l,u,v,ys(g,p)),null!==l.queries&&l.queries.elementStart(l,v),v}(g,p,d,l,u):p.data[g];$r(y,!0);const v=d[g]=d[11].createComment("");Uu(p,d,v,y),jn(v,d),bd(y)&&(Us(p,d,y),aM(p,y,d)),null!=u&&am(d,y)}function Mm(){let s=Kt();const l=gt();Dd()?Sd():(s=s.parent,$r(s,!1)),l.firstCreatePass&&(Id(l,s),jp(s)&&l.queries.elementEnd(s))}function mC(s,l,u){Tm(s,l,u),Mm()}function Am(){return ye()}function Sh(s){return!!s&&"function"==typeof s.then}function yC(s){return!!s&&"function"==typeof s.subscribe}const Im=yC;function Rm(s,l,u,d){const p=ye(),g=gt(),y=Kt();return cA(g,p,p[11],y,s,l,!!u,d),Rm}function xm(s,l){const u=Kt(),d=ye(),p=gt();return cA(p,d,Vw(Qp(p.data),u,d),u,s,l,!1),xm}function cA(s,l,u,d,p,g,y,v){const b=bd(d),D=s.firstCreatePass&&Lw(s),M=l[8],R=Pw(l);let L=!0;if(3&d.type||v){const Y=zr(d,l),me=v?v(Y):Y,N=R.length,ee=v?je=>v(Wt(je[d.index])):d.index;if(tn(u)){let je=null;if(!v&&b&&(je=function(s,l,u,d){const p=s.cleanup;if(null!=p)for(let g=0;g<p.length-1;g+=2){const y=p[g];if(y===u&&p[g+1]===d){const v=l[7],b=p[g+2];return v.length>b?v[b]:null}"string"==typeof y&&(g+=2)}return null}(s,l,p,d.index)),null!==je)(je.__ngLastListenerFn__||je).__ngNextListenerFn__=g,je.__ngLastListenerFn__=g,L=!1;else{g=vC(d,l,M,g,!1);const ut=u.listen(me,p,g);R.push(g,ut),D&&D.push(p,ee,N,N+1)}}else g=vC(d,l,M,g,!0),me.addEventListener(p,g,y),R.push(g),D&&D.push(p,ee,N,y)}else g=vC(d,l,M,g,!1);const H=d.outputs;let ae;if(L&&null!==H&&(ae=H[p])){const Y=ae.length;if(Y)for(let me=0;me<Y;me+=2){const _e=l[ae[me]][ae[me+1]].subscribe(g),St=R.length;R.push(g,_e),D&&D.push(p,d.index,St,-(St+1))}}}function dA(s,l,u,d){try{return!1!==u(d)}catch(p){return bM(s,p),!1}}function vC(s,l,u,d,p){return function g(y){if(y===Function)return d;const v=2&s.flags?xr(s.index,l):l;0==(32&l[2])&&Fw(v);let b=dA(l,0,d,y),E=g.__ngNextListenerFn__;for(;E;)b=dA(l,0,E,y)&&b,E=E.__ngNextListenerFn__;return p&&!1===b&&(y.preventDefault(),y.returnValue=!1),b}}function bC(s=1){return function(s){return(Je.lFrame.contextLView=function(s,l){for(;s>0;)l=l[15],s--;return l}(s,Je.lFrame.contextLView))[8]}(s)}function hA(s,l){let u=null;const d=function(s){const l=s.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(s);for(let p=0;p<l.length;p++){const g=l[p];if("*"!==g){if(null===d?hw(s,g,!0):OF(d,g))return p}else u=p}return u}function wC(s){const l=ye()[16][6];if(!l.projection){const d=l.projection=Lo(s?s.length:1,null),p=d.slice();let g=l.child;for(;null!==g;){const y=s?hA(g,s):0;null!==y&&(p[y]?p[y].projectionNext=g:d[y]=g,p[y]=g),g=g.next}}}function CC(s,l=0,u){const d=ye(),p=gt(),g=sl(p,20+s,16,null,u||null);null===g.projection&&(g.projection=l),Sd(),64!=(64&g.flags)&&function(s,l,u){Ho(l[11],0,l,u,iw(s,u,l),rh(u.parent||l[6],u,l))}(p,d,g)}function TC(s,l,u,d,p){const g=s[u+1],y=null===l;let v=d?Vi(g):Bi(g),b=!1;for(;0!==v&&(!1===b||y);){const D=s[v+1];Qk(s[v],l)&&(b=!0,s[v+1]=d?Qg(D):Ps(D)),v=d?Vi(D):Bi(D)}b&&(s[u+1]=d?Ps(g):Qg(g))}function Qk(s,l){return null===s||null==l||(Array.isArray(s)?s[1]:s)===l||!(!Array.isArray(s)||"string"!=typeof l)&&Ua(s,l)>=0}function OC(s,l,u){return $i(s,l,u,!1),OC}function Ah(s,l){return $i(s,l,null,!0),Ah}function $i(s,l,u,d){const p=ye(),g=gt(),y=function(s){const l=Je.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+s,u}(2);g.firstUpdatePass&&function(s,l,u,d){const p=s.data;if(null===p[u+1]){const g=p[Qn()],y=function(s,l){return l>=s.expandoStartIndex}(s,u);(function(s,l){return 0!=(s.flags&(l?16:32))})(g,d)&&null===l&&!y&&(l=!1),l=function(s,l,u,d){const p=Qp(s);let g=d?l.residualClasses:l.residualStyles;if(null===p)0===(d?l.classBindings:l.styleBindings)&&(u=fl(u=sc(null,s,l,u,d),l.attrs,d),g=null);else{const y=l.directiveStylingLast;if(-1===y||s[y]!==p)if(u=sc(p,s,l,u,d),null===g){let b=function(s,l,u){const d=u?l.classBindings:l.styleBindings;if(0!==Bi(d))return s[Vi(d)]}(s,l,d);void 0!==b&&Array.isArray(b)&&(b=sc(null,s,l,b[1],d),b=fl(b,l.attrs,d),function(s,l,u,d){s[Vi(u?l.classBindings:l.styleBindings)]=d}(s,l,d,b))}else g=function(s,l,u){let d;const p=l.directiveEnd;for(let g=1+l.directiveStylingLast;g<p;g++)d=fl(d,s[g].hostAttrs,u);return fl(d,l.attrs,u)}(s,l,d)}return void 0!==g&&(d?l.residualClasses=g:l.residualStyles=g),u}(p,g,l,d),function(s,l,u,d,p,g){let y=g?l.classBindings:l.styleBindings,v=Vi(y),b=Bi(y);s[d]=u;let D,E=!1;if(Array.isArray(u)){const M=u;D=M[1],(null===D||Ua(M,D)>0)&&(E=!0)}else D=u;if(p)if(0!==b){const R=Vi(s[v+1]);s[d+1]=Wr(R,v),0!==R&&(s[R+1]=Kg(s[R+1],d)),s[v+1]=function(s,l){return 131071&s|l<<17}(s[v+1],d)}else s[d+1]=Wr(v,0),0!==v&&(s[v+1]=Kg(s[v+1],d)),v=d;else s[d+1]=Wr(b,0),0===v?v=d:s[b+1]=Kg(s[b+1],d),b=d;E&&(s[d+1]=Ps(s[d+1])),TC(s,D,d,!0),TC(s,D,d,!1),function(s,l,u,d,p){const g=p?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof l&&Ua(g,l)>=0&&(u[d+1]=Qg(u[d+1]))}(l,D,s,d,g),y=Wr(v,b),g?l.classBindings=y:l.styleBindings=y}(p,g,l,u,y,d)}}(g,s,y,d),l!==Xe&&ur(p,y,l)&&function(s,l,u,d,p,g,y,v){if(!(3&l.type))return;const b=s.data,E=b[v+1];pl(function(s){return 1==(1&s)}(E)?Rh(b,l,u,p,Bi(E),y):void 0)||(pl(g)||function(s){return 2==(2&s)}(E)&&(g=Rh(b,null,u,p,v,y)),function(s,l,u,d,p){const g=tn(s);if(l)p?g?s.addClass(u,d):u.classList.add(d):g?s.removeClass(u,d):u.classList.remove(d);else{let y=-1===d.indexOf("-")?void 0:Li.DashCase;if(null==p)g?s.removeStyle(u,d,y):u.style.removeProperty(d);else{const v="string"==typeof p&&p.endsWith("!important");v&&(p=p.slice(0,-10),y|=Li.Important),g?s.setStyle(u,d,p,y):u.style.setProperty(d,p,v?"important":"")}}}(d,y,Cd(Qn(),u),p,g))}(g,g.data[Qn()],p,p[11],s,p[y+1]=function(s,l){return null==s||("string"==typeof l?s+=l:"object"==typeof s&&(s=W(mo(s)))),s}(l,u),d,y)}function sc(s,l,u,d,p){let g=null;const y=u.directiveEnd;let v=u.directiveStylingLast;for(-1===v?v=u.directiveStart:v++;v<y&&(g=l[v],d=fl(d,g.hostAttrs,p),g!==s);)v++;return null!==s&&(u.directiveStylingLast=v),d}function fl(s,l,u){const d=u?1:2;let p=-1;if(null!==l)for(let g=0;g<l.length;g++){const y=l[g];"number"==typeof y?p=y:p===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),En(s,y,!!u||l[++g]))}return void 0===s?null:s}function Rh(s,l,u,d,p,g){const y=null===l;let v;for(;p>0;){const b=s[p],E=Array.isArray(b),D=E?b[1]:b,M=null===D;let R=u[p+1];R===Xe&&(R=M?B:void 0);let L=M?Rn(R,d):D===d?R:void 0;if(E&&!pl(L)&&(L=Rn(b,d)),pl(L)&&(v=L,y))return v;const H=s[p+1];p=y?Vi(H):Bi(H)}if(null!==l){let b=g?l.residualClasses:l.residualStyles;null!=b&&(v=Rn(b,d))}return v}function pl(s){return void 0!==s}function xh(s,l=""){const u=ye(),d=gt(),p=s+20,g=d.firstCreatePass?sl(d,p,1,l,null):d.data[p],y=u[p]=function(s,l){return tn(s)?s.createText(l):s.createTextNode(l)}(u[11],l);Uu(d,u,y,g),$r(g,!1)}function PC(s){return gl("",s,""),PC}function gl(s,l,u){const d=ye(),p=function(s,l,u,d){return ur(s,ao(),u)?l+we(u)+d:Xe}(d,s,l,u);return p!==Xe&&Hi(d,Qn(),p),gl}function Zr(s,l,u){const d=ye();return ur(d,ao(),l)&&Fr(gt(),cn(),d,s,l,d[11],u,!0),Zr}function To(s,l,u){const d=ye();if(ur(d,ao(),l)){const g=gt(),y=cn();Fr(g,y,d,s,l,Vw(Qp(g.data),y,d),u,!0)}return To}const Ci=void 0;var ey=["en",[["a","p"],["AM","PM"],Ci],[["AM","PM"],Ci,Ci],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ci,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ci,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ci,"{1} 'at' {0}",Ci],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const l=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let qs={};function ml(s){const l=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=GC(l);if(u)return u;const d=l.split("-")[0];if(u=GC(d),u)return u;if("en"===d)return ey;throw new Error(`Missing locale data for the locale "${s}".`)}function Vh(s){return ml(s)[$e.PluralCase]}function GC(s){return s in qs||(qs[s]=Lt.ng&&Lt.ng.common&&Lt.ng.common.locales&&Lt.ng.common.locales[s]),qs[s]}var $e=(()=>(($e=$e||{})[$e.LocaleId=0]="LocaleId",$e[$e.DayPeriodsFormat=1]="DayPeriodsFormat",$e[$e.DayPeriodsStandalone=2]="DayPeriodsStandalone",$e[$e.DaysFormat=3]="DaysFormat",$e[$e.DaysStandalone=4]="DaysStandalone",$e[$e.MonthsFormat=5]="MonthsFormat",$e[$e.MonthsStandalone=6]="MonthsStandalone",$e[$e.Eras=7]="Eras",$e[$e.FirstDayOfWeek=8]="FirstDayOfWeek",$e[$e.WeekendRange=9]="WeekendRange",$e[$e.DateFormat=10]="DateFormat",$e[$e.TimeFormat=11]="TimeFormat",$e[$e.DateTimeFormat=12]="DateTimeFormat",$e[$e.NumberSymbols=13]="NumberSymbols",$e[$e.NumberFormats=14]="NumberFormats",$e[$e.CurrencyCode=15]="CurrencyCode",$e[$e.CurrencySymbol=16]="CurrencySymbol",$e[$e.CurrencyName=17]="CurrencyName",$e[$e.Currencies=18]="Currencies",$e[$e.Directionality=19]="Directionality",$e[$e.PluralCase=20]="PluralCase",$e[$e.ExtraData=21]="ExtraData",$e))();const jh="en-US";let ry=jh;function iy(s){mt(s,"Expected localeId to be defined"),"string"==typeof s&&(ry=s.toLowerCase().replace(/_/g,"-"))}function Cy(s,l,u,d,p){if(s=O(s),Array.isArray(s))for(let g=0;g<s.length;g++)Cy(s[g],l,u,d,p);else{const g=gt(),y=ye();let v=Qu(s)?s:O(s.provide),b=SM(s);const E=Kt(),D=1048575&E.providerIndexes,M=E.directiveStart,R=E.providerIndexes>>20;if(Qu(s)||!s.multi){const L=new xd(b,p,Eh),H=Dy(v,l,p?D:D+R,M);-1===H?(rt(yu(E,y),g,v),qh(g,s,l.length),l.push(v),E.directiveStart++,E.directiveEnd++,p&&(E.providerIndexes+=1048576),u.push(L),y.push(L)):(u[H]=L,y[H]=L)}else{const L=Dy(v,l,D+R,M),H=Dy(v,l,D,D+R),ae=L>=0&&u[L],Y=H>=0&&u[H];if(p&&!Y||!p&&!ae){rt(yu(E,y),g,v);const me=function(s,l,u,d,p){const g=new xd(s,u,Eh);return g.multi=[],g.index=l,g.componentProviders=0,Ey(g,p,d&&!u),g}(p?u0:KA,u.length,p,d,b);!p&&Y&&(u[H].providerFactory=me),qh(g,s,l.length,0),l.push(v),E.directiveStart++,E.directiveEnd++,p&&(E.providerIndexes+=1048576),u.push(me),y.push(me)}else qh(g,s,L>-1?L:H,Ey(u[p?H:L],b,!p&&d));!p&&d&&Y&&u[H].componentProviders++}}}function qh(s,l,u,d){const p=Qu(l);if(p||function(s){return!!s.useClass}(l)){const y=(l.useClass||l).prototype.ngOnDestroy;if(y){const v=s.destroyHooks||(s.destroyHooks=[]);if(!p&&l.multi){const b=v.indexOf(u);-1===b?v.push(u,[d,y]):v[b+1].push(d,y)}else v.push(u,y)}}}function Ey(s,l,u){return u&&s.componentProviders++,s.multi.push(l)-1}function Dy(s,l,u,d){for(let p=u;p<d;p++)if(l[p]===s)return p;return-1}function KA(s,l,u,d){return Sy(this.multi,[])}function u0(s,l,u,d){const p=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,v=nn(u,u[1],this.providerFactory.index,d);g=v.slice(0,y),Sy(p,g);for(let b=y;b<v.length;b++)g.push(v[b])}else g=[],Sy(p,g);return g}function Sy(s,l){for(let u=0;u<s.length;u++)l.push((0,s[u])());return l}function Ty(s,l=[]){return u=>{u.providersResolver=(d,p)=>function(s,l,u){const d=gt();if(d.firstCreatePass){const p=Oi(s);Cy(u,d.data,d.blueprint,p,!0),Cy(l,d.data,d.blueprint,p,!1)}}(d,p?p(s):s,l)}}class Ay{}const Yh="ngComponent";class JA{resolveComponentFactory(l){throw function(s){const l=Error(`No component factory found for ${W(s)}. Did you add it to @NgModule.entryComponents?`);return l[Yh]=s,l}(l)}}class Xs{}function Wh(...s){}function ea(s,l){return new Ei(zr(s,l))}Xs.NULL=new JA;const eI=function(){return ea(Kt(),ye())};let Ei=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=eI,s})();function tI(s){return s instanceof Ei?s.nativeElement:s}class Kh{}let rI=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>iI(),s})();const iI=function(){const s=ye(),u=xr(Kt().index,s);return function(s){return s[11]}(so(u)?u:s)};let wl=(()=>{class s{}return s.\u0275prov=wt({token:s,providedIn:"root",factory:()=>null}),s})();class Ry{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const xy=new Ry("12.2.2");class Oy{constructor(){}supports(l){return _h(l)}create(l){return new aI(l)}}const sI=(s,l)=>l;class aI{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||sI}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,d=this._removalsHead,p=0,g=null;for(;u||d;){const y=!d||u&&u.currentIndex<p0(d,p,g)?u:d,v=p0(y,p,g),b=y.currentIndex;if(y===d)p--,d=d._nextRemoved;else if(u=u._next,null==y.previousIndex)p++;else{g||(g=[]);const E=v-p,D=b-p;if(E!=D){for(let R=0;R<E;R++){const L=R<g.length?g[R]:g[R]=0,H=L+R;D<=H&&H<E&&(g[R]=L+1)}g[y.previousIndex]=D-E}}v!==b&&l(y,v,b)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!_h(l))throw new Error(`Error trying to diff '${W(l)}'. Only arrays and iterables are allowed`);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let p,g,y,u=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let v=0;v<this.length;v++)g=l[v],y=this._trackByFn(v,g),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,g,y,v)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,y,v),d=!0),u=u._next}else p=0,function(s,l){if(Array.isArray(s))for(let u=0;u<s.length;u++)l(s[u]);else{const u=s[Ju()]();let d;for(;!(d=u.next()).done;)l(d.value)}}(l,v=>{y=this._trackByFn(p,v),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,v,y,p)),Object.is(u.item,v)||this._addIdentityChange(u,v)):(u=this._mismatch(u,v,y,p),d=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,d,p){let g;return null===l?g=this._itTail:(g=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,g,p)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,g,p)):l=this._addAfter(new lI(u,d),g,p),l}_verifyReinsertion(l,u,d,p){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?l=this._reinsertAfter(g,l._prev,p):l.currentIndex!=p&&(l.currentIndex=p,this._addToMoves(l,p)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const p=l._prevRemoved,g=l._nextRemoved;return null===p?this._removalsHead=g:p._nextRemoved=g,null===g?this._removalsTail=p:g._prevRemoved=p,this._insertAfter(l,u,d),this._addToMoves(l,d),l}_moveAfter(l,u,d){return this._unlink(l),this._insertAfter(l,u,d),this._addToMoves(l,d),l}_addAfter(l,u,d){return this._insertAfter(l,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,d){const p=null===u?this._itHead:u._next;return l._next=p,l._prev=u,null===p?this._itTail=l:p._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new f0),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,d=l._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new f0),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class lI{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uI{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const u=l._prevDup,d=l._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class f0{constructor(){this.map=new Map}put(l){const u=l.trackById;let d=this.map.get(u);d||(d=new uI,this.map.set(u,d)),d.add(l)}get(l,u){const p=this.map.get(l);return p?p.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function p0(s,l,u){const d=s.previousIndex;if(null===d)return d;let p=0;return u&&d<u.length&&(p=u[d]),d+l+p}class Mo{constructor(){}supports(l){return l instanceof Map||Ww(l)}create(){return new g0}}class g0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||Ww(l)))throw new Error(`Error trying to diff '${W(l)}'. Only maps and objects are allowed`)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(p,d);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const d=l._prev;return u._next=l,u._prev=d,l._prev=u,d&&(d._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const p=this._records.get(l);this._maybeAddToChanges(p,u);const g=p._prev,y=p._next;return g&&(g._next=y),y&&(y._prev=g),p._next=null,p._prev=null,p}const d=new m0(l);return this._records.set(l,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(d=>u(l[d],d))}}class m0{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Fy(){return new Qh([new Oy])}let Qh=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(null!=d){const p=d.factories.slice();u=u.concat(p)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||Fy()),deps:[[s,new Bn,new Vo]]}}find(u){const d=this.factories.find(p=>p.supports(u));if(null!=d)return d;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(s){return s.name||typeof s}(u)}'`)}}return s.\u0275prov=wt({token:s,providedIn:"root",factory:Fy}),s})();function y0(){return new Jh([new Mo])}let Jh=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(d){const p=d.factories.slice();u=u.concat(p)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||y0()),deps:[[s,new Bn,new Vo]]}}find(u){const d=this.factories.find(p=>p.supports(u));if(d)return d;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return s.\u0275prov=wt({token:s,providedIn:"root",factory:y0}),s})();function Zh(s,l,u,d,p=!1){for(;null!==u;){const g=l[u.index];if(null!==g&&d.push(Wt(g)),Gr(g))for(let v=10;v<g.length;v++){const b=g[v],E=b[1].firstChild;null!==E&&Zh(b[1],b,E,d)}const y=u.type;if(8&y)Zh(s,l,u.child,d);else if(32&y){const v=Qd(u,l);let b;for(;b=v();)d.push(b)}else if(16&y){const v=Ug(l,u);if(Array.isArray(v))d.push(...v);else{const b=ju(l[16]);Zh(b[1],b,v,d,!0)}}u=p?u.projectionNext:u.next}return d}class fc{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return Zh(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Gr(l)){const u=l[8],d=u?u.indexOf(this):-1;d>-1&&(eh(l,d),Es(u,d))}this._attachedToViewContainer=!1}rw(this._lView[1],this._lView)}onDestroy(l){uM(this._lView[1],this._lView,null,l)}markForCheck(){Fw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){gm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,l,u){Md(!0);try{gm(s,l,u)}finally{Md(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var l;this._appRef=null,ks(this._lView[1],l=this._lView,l[11],2,null,null)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=l}}class cI extends fc{constructor(l){super(l),this._view=l}detectChanges(){kw(this._view)}checkNoChanges(){!function(s){Md(!0);try{kw(s)}finally{Md(!1)}}(this._view)}get context(){return null}}const pN=function(s){return function(s,l,u){if(vd(s)&&!u){const d=xr(s.index,l);return new fc(d,d)}return 47&s.type?new fc(l[16],l):null}(Kt(),ye(),16==(16&s))};let _0=(()=>{class s{}return s.__NG_ELEMENT_ID__=pN,s})();const hn=[new Mo],Xh=new Qh([new Oy]),fI=new Jh(hn),yN=function(){return Yi(Kt(),ye())};let pc=(()=>{class s{}return s.__NG_ELEMENT_ID__=yN,s})();const pI=pc,b0=class extends pI{constructor(l,u,d){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(l){const u=this._declarationTContainer.tViews,d=Bs(this._declarationLView,u,l,16,null,u.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(d[19]=g.createEmbeddedView(u)),ji(u,d,l),new fc(d)}};function Yi(s,l){return 4&s.type?new b0(l,s,ea(s,l)):null}class ta{}class mI{}const _I=function(){return wI(Kt(),ye())};let na=(()=>{class s{}return s.__NG_ELEMENT_ID__=_I,s})();const bI=na,w0=class extends bI{constructor(l,u,d){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=d}get element(){return ea(this._hostTNode,this._hostLView)}get injector(){return new Ba(this._hostTNode,this._hostLView)}get parentInjector(){const l=Pe(this._hostTNode,this._hostLView);if(Fd(l)){const u=mu(l,this._hostLView),d=bs(l);return new Ba(u[1].data[d+8],u)}return new Ba(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=C0(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,d){const p=l.createEmbeddedView(u||{});return this.insert(p,d),p}createComponent(l,u,d,p,g){const y=d||this.parentInjector;if(!g&&null==l.ngModule&&y){const b=y.get(ta,null);b&&(g=b)}const v=l.create(y,p,void 0,g);return this.insert(v.hostView,u),v}insert(l,u){const d=l._lView,p=d[1];if(Gr(d[3])){const D=this.indexOf(l);if(-1!==D)this.detach(D);else{const M=d[3],R=new w0(M,M[6],M[3]);R.detach(R.indexOf(l))}}const g=this._adjustIndex(u),y=this._lContainer;!function(s,l,u,d){const p=10+d,g=u.length;d>0&&(u[p-1][4]=l),d<g-10?(l[4]=u[p],Cu(u,10+d,l)):(u.push(l),l[4]=null),l[3]=u;const y=l[17];null!==y&&u!==y&&function(s,l){const u=s[9];l[16]!==l[3][3][16]&&(s[2]=!0),null===u?s[9]=[l]:u.push(l)}(y,l);const v=l[19];null!==v&&v.insertView(s),l[2]|=128}(p,d,y,g);const v=Hg(g,y),b=d[11],E=th(b,y[7]);return null!==E&&function(s,l,u,d,p,g){d[0]=p,d[6]=l,ks(s,d,u,1,p,g)}(p,y[6],b,d,E,v),l.attachToViewContainerRef(),Cu(E0(y),g,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=C0(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),d=eh(this._lContainer,u);d&&(Es(E0(this._lContainer),u),rw(d[1],d))}detach(l){const u=this._adjustIndex(l,-1),d=eh(this._lContainer,u);return d&&null!=Es(E0(this._lContainer),u)?new fc(d):null}_adjustIndex(l,u=0){return null==l?this.length+u:l}};function C0(s){return s[8]}function E0(s){return s[8]||(s[8]=[])}function wI(s,l){let u;const d=l[s.index];if(Gr(d))u=d;else{let p;if(8&s.type)p=Wt(d);else{const g=l[11];p=g.createComment("");const y=zr(s,l);Uo(g,th(g,y),p,function(s,l){return tn(s)?s.nextSibling(l):l.nextSibling}(g,y),!1)}l[s.index]=u=yM(d,l,p,s),Yu(l,u)}return new w0(u,s,l)}const Al={};class ZI extends Xs{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=Kn(l);return new Jy(u,this.ngModule)}}function Qy(s){const l=[];for(let u in s)s.hasOwnProperty(u)&&l.push({propName:s[u],templateName:u});return l}const Y0=new rn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Qb});class Jy extends Ay{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=l.selectors.map(oM).join(","),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Qy(this.componentDef.inputs)}get outputs(){return Qy(this.componentDef.outputs)}create(l,u,d,p){const g=(p=p||this.ngModule)?function(s,l){return{get:(u,d,p)=>{const g=s.get(u,Al,p);return g!==Al||d===Al?g:l.get(u,d,p)}}}(l,p.injector):l,y=g.get(Kh,Na),v=g.get(wl,null),b=y.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",D=d?function(s,l,u){if(tn(s))return s.selectRootElement(l,u===Fe.ShadowDom);let d="string"==typeof l?s.querySelector(l):l;return d.textContent="",d}(b,d,this.componentDef.encapsulation):Vg(y.createRenderer(null,this.componentDef),E,function(s){const l=s.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(E)),M=this.componentDef.onPush?576:528,R=function(s,l){return{components:[],scheduler:s||Qb,clean:vM,playerHandler:l||null,flags:0}}(),L=ch(0,null,null,1,0,null,null,null,null,null),H=Bs(null,L,R,M,null,null,y,b,v,g);let ae,Y;Ad(H);try{const me=function(s,l,u,d,p,g){const y=u[1];u[20]=s;const b=sl(y,20,2,"#host",null),E=b.mergedAttrs=l.hostAttrs;null!==E&&(ph(b,E,!0),null!==s&&(eg(p,s,E),null!==b.classes&&zg(p,s,b.classes),null!==b.styles&&cw(p,s,b.styles)));const D=d.createRenderer(s,l),M=Bs(u,$u(l),null,l.onPush?64:16,u[20],b,d,D,g||null,null);return y.firstCreatePass&&(rt(yu(b,u),y,l.type),fM(y,b),pM(b,u.length,1)),Yu(u,M),u[20]=M}(D,this.componentDef,H,y,b);if(D)if(d)eg(b,D,["ng-version",xy.full]);else{const{attrs:N,classes:ee}=function(s){const l=[],u=[];let d=1,p=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===p?""!==g&&l.push(g,s[++d]):8===p&&u.push(g);else{if(!bi(p))break;p=g}d++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);N&&eg(b,D,N),ee&&ee.length>0&&zg(b,D,ee.join(" "))}if(Y=$p(L,20),void 0!==u){const N=Y.projection=[];for(let ee=0;ee<this.ngContentSelectors.length;ee++){const je=u[ee];N.push(null!=je?Array.from(je):null)}}ae=function(s,l,u,d,p){const g=u[1],y=function(s,l,u){const d=Kt();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),gM(s,d,l,bo(s,l,1,null),u));const p=nn(l,s,d.directiveStart,d);jn(p,l);const g=zr(d,l);return g&&jn(g,l),p}(g,u,l);if(d.components.push(y),s[8]=y,p&&p.forEach(b=>b(y,l)),l.contentQueries){const b=Kt();l.contentQueries(1,y,b.directiveStart)}const v=Kt();return!g.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(vs(v.index),Aw(u[1],v,0,v.directiveStart,v.directiveEnd,l),dm(l,y)),y}(me,this.componentDef,H,R,[Mk]),ji(L,H,null)}finally{pu()}return new Q0(this.componentType,ae,ea(Y,H),H,Y)}}class Q0 extends class{}{constructor(l,u,d,p,g){super(),this.location=d,this._rootLView=p,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new cI(p),this.componentType=l}get injector(){return new Ba(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}const aa=new Map;class Z0 extends ta{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ZI(this);const d=Hr(l),p=l[Se]||null;p&&iy(p),this._bootstrapComponents=Pi(d.bootstrap),this._r3Injector=DM(l,u,[{provide:ta,useValue:this},{provide:Xs,useValue:this.componentFactoryResolver}],W(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,u=Ft.THROW_IF_NOT_FOUND,d=Re.Default){return l===Ft||l===ta||l===Wu?this:this._r3Injector.get(l,u,d)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class bc extends mI{constructor(l){super(),this.moduleType=l,null!==Hr(l)&&function(s){const l=new Set;!function u(d){const p=Hr(d,!0),g=p.id;null!==g&&(function(s,l,u){if(l&&l!==u)throw new Error(`Duplicate module registered for ${s} - ${W(l)} vs ${W(l.name)}`)}(g,aa.get(g),d),aa.set(g,d));const y=Pi(p.imports);for(const v of y)l.has(v)||(l.add(v),u(v))}(s)}(l)}create(l){return new Z0(this.moduleType,l)}}function sf(s,l,u,d){return function(s,l,u,d,p,g){const y=l+u;return ur(s,y,p)?function(s,l,u){return s[l]=u}(s,y+1,g?d.call(g,p):d(p)):function(s,l){const u=s[l];return u===Xe?void 0:u}(s,y+1)}(ye(),function(){const s=Je.lFrame;let l=s.bindingRootIndex;return-1===l&&(l=s.bindingRootIndex=s.tView.bindingStartIndex),l}(),s,l,u,d)}function r_(s){return l=>{setTimeout(s,void 0,l)}}const Qi=class extends h.xQ{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,d){var p,g,y;let v=l,b=u||(()=>null),E=d;if(l&&"object"==typeof l){const M=l;v=null===(p=M.next)||void 0===p?void 0:p.bind(M),b=null===(g=M.error)||void 0===g?void 0:g.bind(M),E=null===(y=M.complete)||void 0===y?void 0:y.bind(M)}this.__isAsync&&(b=r_(b),v&&(v=r_(v)),E&&(E=r_(E)));const D=super.subscribe({next:v,error:b,complete:E});return l instanceof ie.w&&l.add(D),D}};function sE(){return this._results[Ju()]()}class hf{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Ju(),d=hf.prototype;d[u]||(d[u]=sE)}get changes(){return this._changes||(this._changes=new Qi)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const d=this;d.dirty=!1;const p=Yr(l);(this._changesDetected=!function(s,l,u){if(s.length!==l.length)return!1;for(let d=0;d<s.length;d++){let p=s[d],g=l[d];if(u&&(p=u(p),g=u(g)),g!==p)return!1}return!0}(d._results,p,u))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class i_{constructor(l){this.queryList=l,this.matches=null}clone(){return new i_(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ec{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const d=null!==l.contentQueries?l.contentQueries[0]:u.length,p=[];for(let g=0;g<d;g++){const y=u.getByIndex(g);p.push(this.queries[y.indexInDeclarationView].clone())}return new Ec(p)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==wf(l,u).matches&&this.queries[u].setDirty()}}class lE{constructor(l,u,d=null){this.predicate=l,this.flags=u,this.read=d}}class ff{constructor(l=[]){this.queries=l}elementStart(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let d=0;d<this.length;d++){const p=null!==u?u.length:0,g=this.getByIndex(d).embeddedTView(l,p);g&&(g.indexInDeclarationView=d,null!==u?u.push(g):u=[g])}return null!==u?new ff(u):null}template(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Dc{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new Dc(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const g=d[p];this.matchTNodeWithReadOption(l,u,pf(u,g)),this.matchTNodeWithReadOption(l,u,Nd(u,l,g,!1,!1))}else d===pc?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,Nd(u,l,d,!1,!1))}matchTNodeWithReadOption(l,u,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===Ei||p===na||p===pc&&4&u.type)this.addMatch(u.index,-2);else{const g=Nd(u,l,p,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,d)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function pf(s,l){const u=s.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===l)return u[d+1];return null}function Sc(s,l,u,d){return-1===u?function(s,l){return 11&s.type?ea(s,l):4&s.type?Yi(s,l):null}(l,s):-2===u?function(s,l,u){return u===Ei?ea(l,s):u===pc?Yi(l,s):u===na?wI(l,s):void 0}(s,l,d):nn(s,s[1],u,l)}function ua(s,l,u,d){const p=l[19].queries[d];if(null===p.matches){const g=s.data,y=u.matches,v=[];for(let b=0;b<y.length;b+=2){const E=y[b];v.push(E<0?null:Sc(l,g[E],y[b+1],u.metadata.read))}p.matches=v}return p.matches}function ca(s,l,u,d){const p=s.queries.getByIndex(u),g=p.matches;if(null!==g){const y=ua(s,l,p,u);for(let v=0;v<g.length;v+=2){const b=g[v];if(b>0)d.push(y[v/2]);else{const E=g[v+1],D=l[-b];for(let M=10;M<D.length;M++){const R=D[M];R[17]===R[3]&&ca(R[1],R,E,d)}if(null!==D[9]){const M=D[9];for(let R=0;R<M.length;R++){const L=M[R];ca(L[1],L,E,d)}}}}}return d}function uE(s){const l=ye(),u=gt(),d=ub();fu(d+1);const p=wf(u,d);if(s.dirty&&VS(l)===(2==(2&p.metadata.flags))){if(null===p.matches)s.reset([]);else{const g=p.crossesNgTemplate?ca(u,l,d,[]):ua(u,l,p,d);s.reset(g,tI),s.notifyOnChanges()}return!0}return!1}function mf(s,l,u){const d=gt();d.firstCreatePass&&(vf(d,new lE(s,l,u),-1),2==(2&l)&&(d.staticViewQueries=!0)),_f(d,ye(),l)}function o_(s,l,u,d){const p=gt();if(p.firstCreatePass){const g=Kt();vf(p,new lE(l,u,d),g.index),function(s,l){const u=s.contentQueries||(s.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,l)}(p,s),2==(2&u)&&(p.staticContentQueries=!0)}_f(p,ye(),u)}function yf(){return s=ye(),l=ub(),s[19].queries[l].queryList;var s,l}function _f(s,l,u){const d=new hf(4==(4&u));uM(s,l,d,d.destroy),null===l[19]&&(l[19]=new Ec),l[19].queries.push(new i_(d))}function vf(s,l,u){null===s.queries&&(s.queries=new ff),s.queries.track(new Dc(l,u))}function wf(s,l){return s.queries.getByIndex(l)}const Tf=new rn("Application Initializer");let da=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Wh,this.reject=Wh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const g=this.appInits[p]();if(Sh(g))u.push(g);else if(Im(g)){const y=new Promise((v,b)=>{g.subscribe({complete:v,error:b})});u.push(y)}}Promise.all(u).then(()=>{d()}).catch(p=>{this.reject(p)}),0===u.length&&d(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(jt(Tf,8))},s.\u0275prov=wt({token:s,factory:s.\u0275fac}),s})();const w_=new rn("AppId"),SR={provide:w_,useFactory:function(){return`${C_()}${C_()}${C_()}`},deps:[]};function C_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Mf=new rn("Platform Initializer"),TR=new rn("Platform ID"),DE=new rn("appBootstrapListener");let SE=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=wt({token:s,factory:s.\u0275fac}),s})();const Jt=new rn("LocaleId"),TE=new rn("DefaultCurrencyCode");class AE{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}const Mc=function(s){return new bc(s)},et=Mc,Ac=function(s){return Promise.resolve(Mc(s))},If=function(s){const l=Mc(s),d=Pi(Hr(s).declarations).reduce((p,g)=>{const y=Kn(g);return y&&p.push(new Jy(y)),p},[]);return new AE(l,d)},MR=If,Hn=function(s){return Promise.resolve(If(s))};let es=(()=>{class s{constructor(){this.compileModuleSync=et,this.compileModuleAsync=Ac,this.compileModuleAndAllComponentsSync=MR,this.compileModuleAndAllComponentsAsync=Hn}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=wt({token:s,factory:s.\u0275fac}),s})();const AR=(()=>Promise.resolve(0))();function D_(s){"undefined"==typeof Zone?AR.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Er{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qi(!1),this.onMicrotaskEmpty=new Qi(!1),this.onStable=new Qi(!1),this.onError=new Qi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&u,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function(){let s=Lt.requestAnimationFrame,l=Lt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&l){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function(s){const l=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Lt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Of(s),s.isCheckStableRunning=!0,Rf(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Of(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,p,g,y,v)=>{try{return Xn(s),u.invokeTask(p,g,y,v)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&l(),Ff(s)}},onInvoke:(u,d,p,g,y,v,b)=>{try{return Xn(s),u.invoke(p,g,y,v,b)}finally{s.shouldCoalesceRunChangeDetection&&l(),Ff(s)}},onHasTask:(u,d,p,g)=>{u.hasTask(p,g),d===p&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Of(s),Rf(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,d,p,g)=>(u.handleError(p,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(p)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Er.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Er.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,u,d){return this._inner.run(l,u,d)}runTask(l,u,d,p){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+p,l,IR,Wh,Wh);try{return g.runTask(y,u,d)}finally{g.cancelTask(y)}}runGuarded(l,u,d){return this._inner.runGuarded(l,u,d)}runOutsideAngular(l){return this._outer.run(l)}}const IR={};function Rf(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Of(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Xn(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Ff(s){s._nesting--,Rf(s)}class cr{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qi,this.onMicrotaskEmpty=new Qi,this.onStable=new Qi,this.onError=new Qi}run(l,u,d){return l.apply(u,d)}runGuarded(l,u,d){return l.apply(u,d)}runOutsideAngular(l){return l()}runTask(l,u,d,p){return l.apply(u,d)}}let T_=(()=>{class s{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Er.assertNotInAngularZone(),D_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())D_(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,p){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:p})}whenStable(u,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,d,p){return[]}}return s.\u0275fac=function(u){return new(u||s)(jt(Er))},s.\u0275prov=wt({token:s,factory:s.\u0275fac}),s})(),M_=(()=>{class s{constructor(){this._applications=new Map,kf.addToWindow(this)}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return kf.findTestabilityInTree(this,u,d)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=wt({token:s,factory:s.\u0275fac}),s})();class A_{addToWindow(l){}findTestabilityInTree(l,u,d){return null}}function xE(s){kf=s}let kf=new A_,I_=!0,Nf=!1;function R_(){return Nf=!0,I_}function RR(){if(Nf)throw new Error("Cannot enable prod mode after platform setup.");I_=!1}let er;const LE=new rn("AllowMultipleToken");class xR{constructor(l,u){this.name=l,this.token=u}}function k_(s,l,u=[]){const d=`Platform: ${l}`,p=new rn(d);return(g=[])=>{let y=zn();if(!y||y.injector.get(LE,!1))if(s)s(u.concat(g).concat({provide:p,useValue:!0}));else{const v=u.concat(g).concat({provide:p,useValue:!0},{provide:gh,useValue:"platform"});!function(s){if(er&&!er.destroyed&&!er.injector.get(LE,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");er=s.get(xl);const l=s.get(Mf,null);l&&l.forEach(u=>u())}(Ft.create({providers:v,name:d}))}return function(s){const l=zn();if(!l)throw new Error("No platform exists!");if(!l.injector.get(s,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return l}(p)}}function zn(){return er&&!er.destroyed?er:null}let xl=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const v=function(s,l){let u;return u="noop"===s?new cr:("zone.js"===s?void 0:s)||new Er({enableLongStackTrace:R_(),shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),u}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),b=[{provide:Er,useValue:v}];return v.run(()=>{const E=Ft.create({providers:b,parent:this.injector,name:u.moduleType.name}),D=u.create(E),M=D.injector.get(nl,null);if(!M)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const R=v.onError.subscribe({next:L=>{M.handleError(L)}});D.onDestroy(()=>{Ol(this._modules,D),R.unsubscribe()})}),function(s,l,u){try{const d=u();return Sh(d)?d.catch(p=>{throw l.runOutsideAngular(()=>s.handleError(p)),p}):d}catch(d){throw l.runOutsideAngular(()=>s.handleError(d)),d}}(M,v,()=>{const R=D.injector.get(da);return R.runInitializers(),R.donePromise.then(()=>(iy(D.injector.get(Jt,jh)||jh),this._moduleDoBootstrap(D),D))})})}bootstrapModule(u,d=[]){const p=VE({},d);return function(s,l,u){const d=new bc(u);return Promise.resolve(d)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,p))}_moduleDoBootstrap(u){const d=u.injector.get(Rc);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${W(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(jt(Ft))},s.\u0275prov=wt({token:s,factory:s.\u0275fac}),s})();function VE(s,l){return Array.isArray(l)?l.reduce(VE,s):Object.assign(Object.assign({},s),l)}let Rc=(()=>{class s{constructor(u,d,p,g,y){this._zone=u,this._injector=d,this._exceptionHandler=p,this._componentFactoryResolver=g,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new fe.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),b=new fe.y(E=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Er.assertNotInAngularZone(),D_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Er.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{D.unsubscribe(),M.unsubscribe()}});this.isStable=(0,le.T)(v,b.pipe((0,de.B)()))}bootstrap(u,d){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let p;p=u instanceof Ay?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(p.componentType);const g=function(s){return s.isBoundToModule}(p)?void 0:this._injector.get(ta),v=p.create(Ft.NULL,[],d||p.selector,g),b=v.location.nativeElement,E=v.injector.get(T_,null),D=E&&v.injector.get(M_);return E&&D&&D.registerApplication(b,E),v.onDestroy(()=>{this.detachView(v.hostView),Ol(this.components,v),D&&D.unregisterApplication(b)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;Ol(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(DE,[]).concat(this._bootstrapListeners).forEach(p=>p(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(u){return new(u||s)(jt(Er),jt(Ft),jt(nl),jt(Xs),jt(da))},s.\u0275prov=wt({token:s,factory:s.\u0275fac}),s})();function Ol(s,l){const u=s.indexOf(l);u>-1&&s.splice(u,1)}class P_{}class GE{}const V_={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let zE=(()=>{class s{constructor(u,d){this._compiler=u,this._config=d||V_}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[d,p]=u.split("#");return void 0===p&&(p="default"),P(8255)(d).then(g=>g[p]).then(g=>$E(g,d,p)).then(g=>this._compiler.compileModuleAsync(g))}loadFactory(u){let[d,p]=u.split("#"),g="NgFactory";return void 0===p&&(p="default",g=""),P(8255)(this._config.factoryPathPrefix+d+this._config.factoryPathSuffix).then(y=>y[p+g]).then(y=>$E(y,d,p))}}return s.\u0275fac=function(u){return new(u||s)(jt(es),jt(GE,8))},s.\u0275prov=wt({token:s,factory:s.\u0275fac}),s})();function $E(s,l,u){if(!s)throw new Error(`Cannot find '${u}' in '${l}'`);return s}const JE=function(s){return null},UR=k_(null,"core",[{provide:TR,useValue:"unknown"},{provide:xl,deps:[Ft]},{provide:M_,deps:[]},{provide:SE,deps:[]}]),eD=[{provide:Rc,useClass:Rc,deps:[Er,Ft,nl,Xs,da]},{provide:Y0,deps:[Er],useFactory:function(s){let l=[];return s.onStable.subscribe(()=>{for(;l.length;)l.pop()()}),function(u){l.push(u)}}},{provide:da,useClass:da,deps:[[new Vo,Tf]]},{provide:es,useClass:es,deps:[]},SR,{provide:Qh,useFactory:function(){return Xh},deps:[]},{provide:Jh,useFactory:function(){return fI},deps:[]},{provide:Jt,useFactory:function(s){return iy(s=s||"undefined"!=typeof $localize&&$localize.locale||jh),s},deps:[[new Ss(Jt),new Vo,new Bn]]},{provide:TE,useValue:"USD"}];let tD=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(jt(Rc))},s.\u0275mod=au({type:s}),s.\u0275inj=bn({providers:eD}),s})()},57:(Be,ge,P)=>{"use strict";P.d(ge,{hO:()=>Ar,xv:()=>Te,Dh:()=>he,HU:()=>G,GT:()=>pe,sI:()=>Xt,on:()=>bt,ss:()=>O,pX:()=>X,yq:()=>ln});var h=P(7771),ie=P(3637),fe=P(3342),le=P(9673),de=P(6136),$=P(7716),J=P(2329);function W(){}Be=P.hmd(Be);class z{constructor(re,oe=h.N){this.zone=re,this.delegate=oe}now(){return this.delegate.now()}schedule(re,oe,ne){const be=this.zone;return this.delegate.schedule(function(Ge){be.runGuarded(()=>{re.apply(this,[Ge])})},oe,ne)}}class k{constructor(re){this.zone=re,this.task=null}call(re,oe){const ne=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",W,{},W,W)),oe.pipe((0,fe.b)({next:ne,complete:ne,error:ne})).subscribe(re).add(ne)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class G{constructor(re){this.ngZone=re,this.outsideAngular=re.runOutsideAngular(()=>new z(Zone.current)),this.insideAngular=re.run(()=>new z(Zone.current,ie.z))}}function O(te){return function(oe){return(oe=oe.lift(new k(te.ngZone))).pipe((0,le.R)(te.outsideAngular),(0,de.QV)(te.insideAngular))}}const U=["ngOnDestroy"],X=(te,re,oe,ne={})=>new Proxy(te,{get:(be,se)=>oe.runOutsideAngular(()=>{var Ge;if(te[se])return(null===(Ge=null==ne?void 0:ne.spy)||void 0===Ge?void 0:Ge.get)&&ne.spy.get(se,te[se]),te[se];if(U.indexOf(se)>-1)return()=>{};const We=re.toPromise().then(Yt=>{const Ue=Yt&&Yt[se];return"function"==typeof Ue?Ue.bind(Yt):Ue&&Ue.then?Ue.then(mt=>oe.run(()=>mt)):oe.run(()=>Ue)});return new Proxy(()=>{},{get:(Yt,Ue)=>We[Ue],apply:(Yt,Ue,mt)=>We.then(Ie=>{var Oe;const at=Ie&&Ie(...mt);return(null===(Oe=null==ne?void 0:ne.spy)||void 0===Oe?void 0:Oe.apply)&&ne.spy.apply(se,mt,at),at})})})}),pe=(te,re)=>{re.forEach(oe=>{Object.getOwnPropertyNames(oe.prototype||oe).forEach(ne=>{Object.defineProperty(te.prototype,ne,Object.getOwnPropertyDescriptor(oe.prototype||oe,ne))})})},he=new $.OlP("angularfire2.app.options"),Te=new $.OlP("angularfire2.app.nameOrConfig"),Me=new $.GfV("6.1.5");function bt(te,re,oe){const be="object"==typeof oe&&oe||{};be.name=be.name||"string"==typeof oe&&oe||"[DEFAULT]";const Ge=J.Z.apps.filter(We=>We&&We.name===be.name)[0]||re.runOutsideAngular(()=>J.Z.initializeApp(te,be));try{JSON.stringify(te)!==JSON.stringify(Ge.options)&&lt("error",`${Ge.name} Firebase App already initialized with different options${Be.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(We){}return Ge}const ln=()=>{lt("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},lt=(te,...re)=>{(0,$.X6Q)()&&"undefined"!=typeof console&&console[te](...re)};function Xt(te,re,oe,ne,be){const[se,...Ge]=globalThis.\u0275AngularfireInstanceCache.get(te)||[];if(se){try{be.some((We,Yt)=>{const Ue=Ge[Yt];return We&&"object"==typeof We?JSON.stringify(We)!==JSON.stringify(Ue):We!==Ue})&&lt("error",`${re} was already initialized on the ${oe.name} Firebase App instance with different settings.${Be.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(We){}return se}{const We=ne();return globalThis.\u0275AngularfireInstanceCache.set(te,[We,...be]),We}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const $t={provide:class{},useFactory:bt,deps:[he,$.R0b,[new $.FiY,Te]]};let Ar=(()=>{class te{constructor(oe){J.Z.registerVersion("angularfire",Me.full,oe.toString()),J.Z.registerVersion("angular",$.q4F.full)}static initializeApp(oe,ne){return{ngModule:te,providers:[{provide:he,useValue:oe},{provide:Te,useValue:ne}]}}}return te.\u0275fac=function(oe){return new(oe||te)($.LFG($.Lbi))},te.\u0275mod=$.oAB({type:te}),te.\u0275inj=$.cJS({providers:[$t]}),te})()},9759:(Be,ge,P)=>{"use strict";P.d(ge,{Z:()=>mt});var de,lt,h=P(4762),ie=P(4685),fe=P(6034),le=P(300),$=((de={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",de["bad-app-name"]="Illegal App name: '{$appName}",de["duplicate-app"]="Firebase App named '{$appName}' already exists",de["app-deleted"]="Firebase App named '{$appName}' already deleted",de["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",de["invalid-log-argument"]="First argument to `onLog` must be null or a function.",de),J=new ie.LL("app","Firebase",$),W="@firebase/app",Ht="[DEFAULT]",Xt=((lt={})[W]="fire-core",lt["@firebase/analytics"]="fire-analytics",lt["@firebase/app-check"]="fire-app-check",lt["@firebase/auth"]="fire-auth",lt["@firebase/database"]="fire-rtdb",lt["@firebase/functions"]="fire-fn",lt["@firebase/installations"]="fire-iid",lt["@firebase/messaging"]="fire-fcm",lt["@firebase/performance"]="fire-perf",lt["@firebase/remote-config"]="fire-rc",lt["@firebase/storage"]="fire-gcs",lt["@firebase/firestore"]="fire-fst",lt["fire-js"]="fire-js",lt["firebase-wrapper"]="fire-js-all",lt),$t=new le.Yd("@firebase/app"),Ar=function(){function Ie(Oe,at,Pt){var wt=this;this.firebase_=Pt,this.isDeleted_=!1,this.name_=at.name,this.automaticDataCollectionEnabled_=at.automaticDataCollectionEnabled||!1,this.options_=(0,ie.p$)(Oe),this.container=new fe.H0(at.name),this._addComponent(new fe.wA("app",function(){return wt},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(ai){return wt._addComponent(ai)})}return Object.defineProperty(Ie.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Oe){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Oe},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Ie.prototype.delete=function(){var Oe=this;return new Promise(function(at){Oe.checkDestroyed_(),at()}).then(function(){return Oe.firebase_.INTERNAL.removeApp(Oe.name_),Promise.all(Oe.container.getProviders().map(function(at){return at.delete()}))}).then(function(){Oe.isDeleted_=!0})},Ie.prototype._getService=function(Oe,at){var Pt;void 0===at&&(at=Ht),this.checkDestroyed_();var wt=this.container.getProvider(Oe);return!wt.isInitialized()&&"EXPLICIT"===(null===(Pt=wt.getComponent())||void 0===Pt?void 0:Pt.instantiationMode)&&wt.initialize(),wt.getImmediate({identifier:at})},Ie.prototype._removeServiceInstance=function(Oe,at){void 0===at&&(at=Ht),this.container.getProvider(Oe).clearInstance(at)},Ie.prototype._addComponent=function(Oe){try{this.container.addComponent(Oe)}catch(at){$t.debug("Component "+Oe.name+" failed to register with FirebaseApp "+this.name,at)}},Ie.prototype._addOrOverwriteComponent=function(Oe){this.container.addOrOverwriteComponent(Oe)},Ie.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},Ie.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw J.create("app-deleted",{appName:this.name_})},Ie}();Ar.prototype.name&&Ar.prototype.options||Ar.prototype.delete||console.log("dc");var ne=function oe(){var Ie=function(Ie){var Oe={},at=new Map,Pt={__esModule:!0,initializeApp:function(yt,_t){void 0===_t&&(_t={}),("object"!=typeof _t||null===_t)&&(_t={name:_t});var Yn=_t;void 0===Yn.name&&(Yn.name=Ht);var Re=Yn.name;if("string"!=typeof Re||!Re)throw J.create("bad-app-name",{appName:String(Re)});if((0,ie.r3)(Oe,Re))throw J.create("duplicate-app",{appName:Re});var qt=new Ie(yt,Yn,Pt);return Oe[Re]=qt,qt},app:ai,registerVersion:function(yt,_t,Ir){var Yn,Re=null!==(Yn=Xt[yt])&&void 0!==Yn?Yn:yt;Ir&&(Re+="-"+Ir);var qt=Re.match(/\s|\//),Pn=_t.match(/\s|\//);if(qt||Pn){var en=['Unable to register library "'+Re+'" with version "'+_t+'":'];return qt&&en.push('library name "'+Re+'" contains illegal characters (whitespace or "/")'),qt&&Pn&&en.push("and"),Pn&&en.push('version name "'+_t+'" contains illegal characters (whitespace or "/")'),void $t.warn(en.join(" "))}ru(new fe.wA(Re+"-version",function(){return{library:Re,version:_t}},"VERSION"))},setLogLevel:le.Ub,onLog:function(yt,_t){if(null!==yt&&"function"!=typeof yt)throw J.create("invalid-log-argument");(0,le.Am)(yt,_t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:ru,removeApp:function(yt){delete Oe[yt]},components:at,useAsService:function(yt,_t){return"serverAuth"===_t?null:_t}}};function ai(yt){if(!(0,ie.r3)(Oe,yt=yt||Ht))throw J.create("no-app",{appName:yt});return Oe[yt]}function ru(yt){var _t=yt.name;if(at.has(_t))return $t.debug("There were multiple attempts to register component "+_t+"."),"PUBLIC"===yt.type?Pt[_t]:null;if(at.set(_t,yt),"PUBLIC"===yt.type){var Ir=function(Pn){if(void 0===Pn&&(Pn=ai()),"function"!=typeof Pn[_t])throw J.create("invalid-app-argument",{appName:_t});return Pn[_t]()};void 0!==yt.serviceProps&&(0,ie.ZB)(Ir,yt.serviceProps),Pt[_t]=Ir,Ie.prototype[_t]=function(){for(var Pn=[],en=0;en<arguments.length;en++)Pn[en]=arguments[en];return this._getService.bind(this,_t).apply(this,yt.multipleInstances?Pn:[])}}for(var Yn=0,Re=Object.keys(Oe);Yn<Re.length;Yn++)Oe[Re[Yn]]._addComponent(yt);return"PUBLIC"===yt.type?Pt[_t]:null}return Pt.default=Pt,Object.defineProperty(Pt,"apps",{get:function(){return Object.keys(Oe).map(function(yt){return Oe[yt]})}}),ai.App=Ie,Pt}(Ar);return Ie.INTERNAL=(0,h.pi)((0,h.pi)({},Ie.INTERNAL),{createFirebaseNamespace:oe,extendNamespace:function(at){(0,ie.ZB)(Ie,at)},createSubscribe:ie.ne,ErrorFactory:ie.LL,deepExtend:ie.ZB}),Ie}(),be=function(){function Ie(Oe){this.container=Oe}return Ie.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(at){if(function(Ie){var Oe=Ie.getComponent();return"VERSION"===(null==Oe?void 0:Oe.type)}(at)){var Pt=at.getImmediate();return Pt.library+"/"+Pt.version}return null}).filter(function(at){return at}).join(" ")},Ie}();if((0,ie.jU)()&&void 0!==self.firebase){$t.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var We=self.firebase.SDK_VERSION;We&&We.indexOf("LITE")>=0&&$t.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Yt=ne.initializeApp;ne.initializeApp=function(){for(var Ie=[],Oe=0;Oe<arguments.length;Oe++)Ie[Oe]=arguments[Oe];return(0,ie.UG)()&&$t.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Yt.apply(void 0,Ie)};var Ie,Ue=ne;(Ie=Ue).INTERNAL.registerComponent(new fe.wA("platform-logger",function(at){return new be(at)},"PRIVATE")),Ie.registerVersion(W,"0.6.30",undefined),Ie.registerVersion("fire-js","");const mt=Ue},6034:(Be,ge,P)=>{"use strict";P.d(ge,{wA:()=>fe,H0:()=>W});var h=P(4762),ie=P(4685),fe=function(){function z(k,G,O){this.name=k,this.instanceFactory=G,this.type=O,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return z.prototype.setInstantiationMode=function(k){return this.instantiationMode=k,this},z.prototype.setMultipleInstances=function(k){return this.multipleInstances=k,this},z.prototype.setServiceProps=function(k){return this.serviceProps=k,this},z.prototype.setInstanceCreatedCallback=function(k){return this.onInstanceCreated=k,this},z}(),le="[DEFAULT]",de=function(){function z(k,G){this.name=k,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return z.prototype.get=function(k){var G=this.normalizeInstanceIdentifier(k);if(!this.instancesDeferred.has(G)){var O=new ie.BH;if(this.instancesDeferred.set(G,O),this.isInitialized(G)||this.shouldAutoInitialize())try{var U=this.getOrInitializeService({instanceIdentifier:G});U&&O.resolve(U)}catch(X){}}return this.instancesDeferred.get(G).promise},z.prototype.getImmediate=function(k){var G,O=this.normalizeInstanceIdentifier(null==k?void 0:k.identifier),U=null!==(G=null==k?void 0:k.optional)&&void 0!==G&&G;if(!this.isInitialized(O)&&!this.shouldAutoInitialize()){if(U)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:O})}catch(X){if(U)return null;throw X}},z.prototype.getComponent=function(){return this.component},z.prototype.setComponent=function(k){var G,O;if(k.name!==this.name)throw Error("Mismatching Component "+k.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=k,this.shouldAutoInitialize()){if(function(z){return"EAGER"===z.instantiationMode}(k))try{this.getOrInitializeService({instanceIdentifier:le})}catch(bt){}try{for(var U=(0,h.XA)(this.instancesDeferred.entries()),X=U.next();!X.done;X=U.next()){var pe=(0,h.CR)(X.value,2),Te=pe[1],we=this.normalizeInstanceIdentifier(pe[0]);try{var Me=this.getOrInitializeService({instanceIdentifier:we});Te.resolve(Me)}catch(bt){}}}catch(bt){G={error:bt}}finally{try{X&&!X.done&&(O=U.return)&&O.call(U)}finally{if(G)throw G.error}}}},z.prototype.clearInstance=function(k){void 0===k&&(k=le),this.instancesDeferred.delete(k),this.instancesOptions.delete(k),this.instances.delete(k)},z.prototype.delete=function(){return(0,h.mG)(this,void 0,void 0,function(){var k;return(0,h.Jh)(this,function(G){switch(G.label){case 0:return k=Array.from(this.instances.values()),[4,Promise.all((0,h.ev)((0,h.ev)([],(0,h.CR)(k.filter(function(O){return"INTERNAL"in O}).map(function(O){return O.INTERNAL.delete()}))),(0,h.CR)(k.filter(function(O){return"_delete"in O}).map(function(O){return O._delete()}))))];case 1:return G.sent(),[2]}})})},z.prototype.isComponentSet=function(){return null!=this.component},z.prototype.isInitialized=function(k){return void 0===k&&(k=le),this.instances.has(k)},z.prototype.getOptions=function(k){return void 0===k&&(k=le),this.instancesOptions.get(k)||{}},z.prototype.initialize=function(k){var G,O;void 0===k&&(k={});var U=k.options,X=void 0===U?{}:U,pe=this.normalizeInstanceIdentifier(k.instanceIdentifier);if(this.isInitialized(pe))throw Error(this.name+"("+pe+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var he=this.getOrInitializeService({instanceIdentifier:pe,options:X});try{for(var Te=(0,h.XA)(this.instancesDeferred.entries()),we=Te.next();!we.done;we=Te.next()){var Me=(0,h.CR)(we.value,2),ln=Me[1];pe===this.normalizeInstanceIdentifier(Me[0])&&ln.resolve(he)}}catch(Ht){G={error:Ht}}finally{try{we&&!we.done&&(O=Te.return)&&O.call(Te)}finally{if(G)throw G.error}}return he},z.prototype.onInit=function(k,G){var O,U=this.normalizeInstanceIdentifier(G),X=null!==(O=this.onInitCallbacks.get(U))&&void 0!==O?O:new Set;X.add(k),this.onInitCallbacks.set(U,X);var pe=this.instances.get(U);return pe&&k(pe,U),function(){X.delete(k)}},z.prototype.invokeOnInitCallbacks=function(k,G){var O,U,X=this.onInitCallbacks.get(G);if(X)try{for(var pe=(0,h.XA)(X),he=pe.next();!he.done;he=pe.next()){var Te=he.value;try{Te(k,G)}catch(we){}}}catch(we){O={error:we}}finally{try{he&&!he.done&&(U=pe.return)&&U.call(pe)}finally{if(O)throw O.error}}},z.prototype.getOrInitializeService=function(k){var G=k.instanceIdentifier,O=k.options,U=void 0===O?{}:O,X=this.instances.get(G);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:$(G),options:U}),this.instances.set(G,X),this.instancesOptions.set(G,U),this.invokeOnInitCallbacks(X,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,X)}catch(pe){}return X||null},z.prototype.normalizeInstanceIdentifier=function(k){return void 0===k&&(k=le),this.component?this.component.multipleInstances?k:le:k},z.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},z}();function $(z){return z===le?void 0:z}var W=function(){function z(k){this.name=k,this.providers=new Map}return z.prototype.addComponent=function(k){var G=this.getProvider(k.name);if(G.isComponentSet())throw new Error("Component "+k.name+" has already been registered with "+this.name);G.setComponent(k)},z.prototype.addOrOverwriteComponent=function(k){this.getProvider(k.name).isComponentSet()&&this.providers.delete(k.name),this.addComponent(k)},z.prototype.getProvider=function(k){if(this.providers.has(k))return this.providers.get(k);var G=new de(k,this);return this.providers.set(k,G),G},z.prototype.getProviders=function(){return Array.from(this.providers.values())},z}()},300:(Be,ge,P)=>{"use strict";function h(){for(var O=0,U=0,X=arguments.length;U<X;U++)O+=arguments[U].length;var pe=Array(O),he=0;for(U=0;U<X;U++)for(var Te=arguments[U],we=0,Me=Te.length;we<Me;we++,he++)pe[he]=Te[we];return pe}P.d(ge,{in:()=>le,Yd:()=>z,Ub:()=>k,Am:()=>G});var ie,fe=[],le=(()=>{return(O=le||(le={}))[O.DEBUG=0]="DEBUG",O[O.VERBOSE=1]="VERBOSE",O[O.INFO=2]="INFO",O[O.WARN=3]="WARN",O[O.ERROR=4]="ERROR",O[O.SILENT=5]="SILENT",le;var O})(),de={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},$=le.INFO,J=((ie={})[le.DEBUG]="log",ie[le.VERBOSE]="log",ie[le.INFO]="info",ie[le.WARN]="warn",ie[le.ERROR]="error",ie),W=function(O,U){for(var X=[],pe=2;pe<arguments.length;pe++)X[pe-2]=arguments[pe];if(!(U<O.logLevel)){var he=(new Date).toISOString(),Te=J[U];if(!Te)throw new Error("Attempted to log a message with an invalid logType (value: "+U+")");console[Te].apply(console,h(["["+he+"]  "+O.name+":"],X))}},z=function(){function O(U){this.name=U,this._logLevel=$,this._logHandler=W,this._userLogHandler=null,fe.push(this)}return Object.defineProperty(O.prototype,"logLevel",{get:function(){return this._logLevel},set:function(U){if(!(U in le))throw new TypeError('Invalid value "'+U+'" assigned to `logLevel`');this._logLevel=U},enumerable:!1,configurable:!0}),O.prototype.setLogLevel=function(U){this._logLevel="string"==typeof U?de[U]:U},Object.defineProperty(O.prototype,"logHandler",{get:function(){return this._logHandler},set:function(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(U){this._userLogHandler=U},enumerable:!1,configurable:!0}),O.prototype.debug=function(){for(var U=[],X=0;X<arguments.length;X++)U[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,h([this,le.DEBUG],U)),this._logHandler.apply(this,h([this,le.DEBUG],U))},O.prototype.log=function(){for(var U=[],X=0;X<arguments.length;X++)U[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,h([this,le.VERBOSE],U)),this._logHandler.apply(this,h([this,le.VERBOSE],U))},O.prototype.info=function(){for(var U=[],X=0;X<arguments.length;X++)U[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,h([this,le.INFO],U)),this._logHandler.apply(this,h([this,le.INFO],U))},O.prototype.warn=function(){for(var U=[],X=0;X<arguments.length;X++)U[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,h([this,le.WARN],U)),this._logHandler.apply(this,h([this,le.WARN],U))},O.prototype.error=function(){for(var U=[],X=0;X<arguments.length;X++)U[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,h([this,le.ERROR],U)),this._logHandler.apply(this,h([this,le.ERROR],U))},O}();function k(O){fe.forEach(function(U){U.setLogLevel(O)})}function G(O,U){for(var X=function(we){var Me=null;U&&U.level&&(Me=de[U.level]),we.userLogHandler=null===O?null:function(bt,ln){for(var lt=[],Ht=2;Ht<arguments.length;Ht++)lt[Ht-2]=arguments[Ht];var Xt=lt.map(function($t){if(null==$t)return null;if("string"==typeof $t)return $t;if("number"==typeof $t||"boolean"==typeof $t)return $t.toString();if($t instanceof Error)return $t.message;try{return JSON.stringify($t)}catch(Ar){return null}}).filter(function($t){return $t}).join(" ");ln>=(null!=Me?Me:bt.logLevel)&&O({level:le[ln].toLowerCase(),message:Xt,args:lt,type:bt.name})}},pe=0,he=fe;pe<he.length;pe++)X(he[pe])}},4685:(Be,ge,P)=>{"use strict";P.d(ge,{BH:()=>X,LL:()=>Ge,r3:()=>ai,Sg:()=>pe,ne:()=>Yn,p$:()=>G,ZB:()=>O,m9:()=>kt,z$:()=>he,jU:()=>Me,ru:()=>bt,d:()=>lt,w1:()=>Ht,uI:()=>Te,UG:()=>we,b$:()=>ln,G6:()=>Ar,Mn:()=>Xt});var h=P(4762),de=function(B){for(var V=[],K=0,ue=0;ue<B.length;ue++){var Q=B.charCodeAt(ue);Q<128?V[K++]=Q:Q<2048?(V[K++]=Q>>6|192,V[K++]=63&Q|128):55296==(64512&Q)&&ue+1<B.length&&56320==(64512&B.charCodeAt(ue+1))?(Q=65536+((1023&Q)<<10)+(1023&B.charCodeAt(++ue)),V[K++]=Q>>18|240,V[K++]=Q>>12&63|128,V[K++]=Q>>6&63|128,V[K++]=63&Q|128):(V[K++]=Q>>12|224,V[K++]=Q>>6&63|128,V[K++]=63&Q|128)}return V},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(B,V){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var K=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,ue=[],Q=0;Q<B.length;Q+=3){var Se=B[Q],He=Q+1<B.length,pt=He?B[Q+1]:0,xt=Q+2<B.length,Ct=xt?B[Q+2]:0,yr=(15&pt)<<2|Ct>>6,hs=63&Ct;xt||(hs=64,He||(yr=64)),ue.push(K[Se>>2],K[(3&Se)<<4|pt>>4],K[yr],K[hs])}return ue.join("")},encodeString:function(B,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(B):this.encodeByteArray(de(B),V)},decodeString:function(B,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(B):function(B){for(var V=[],K=0,ue=0;K<B.length;){var Q=B[K++];if(Q<128)V[ue++]=String.fromCharCode(Q);else if(Q>191&&Q<224){var Se=B[K++];V[ue++]=String.fromCharCode((31&Q)<<6|63&Se)}else if(Q>239&&Q<365){var xt=((7&Q)<<18|(63&(Se=B[K++]))<<12|(63&(He=B[K++]))<<6|63&B[K++])-65536;V[ue++]=String.fromCharCode(55296+(xt>>10)),V[ue++]=String.fromCharCode(56320+(1023&xt))}else{Se=B[K++];var He=B[K++];V[ue++]=String.fromCharCode((15&Q)<<12|(63&Se)<<6|63&He)}}return V.join("")}(this.decodeStringToByteArray(B,V))},decodeStringToByteArray:function(B,V){this.init_();for(var K=V?this.charToByteMapWebSafe_:this.charToByteMap_,ue=[],Q=0;Q<B.length;){var Se=K[B.charAt(Q++)],pt=Q<B.length?K[B.charAt(Q)]:0,Ct=++Q<B.length?K[B.charAt(Q)]:64,mr=++Q<B.length?K[B.charAt(Q)]:64;if(++Q,null==Se||null==pt||null==Ct||null==mr)throw Error();ue.push(Se<<2|pt>>4),64!==Ct&&(ue.push(pt<<4&240|Ct>>2),64!==mr&&ue.push(Ct<<6&192|mr))}return ue},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},z=function(B){return function(B){var V=de(B);return J.encodeByteArray(V,!0)}(B).replace(/\./g,"")};function G(B){return O(void 0,B)}function O(B,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return V}for(var ue in V)!V.hasOwnProperty(ue)||!U(ue)||(B[ue]=O(B[ue],V[ue]));return B}function U(B){return"__proto__"!==B}var X=function(){function B(){var V=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(K,ue){V.resolve=K,V.reject=ue})}return B.prototype.wrapCallback=function(V){var K=this;return function(ue,Q){ue?K.reject(ue):K.resolve(Q),"function"==typeof V&&(K.promise.catch(function(){}),1===V.length?V(ue):V(ue,Q))}},B}();function pe(B,V){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var ue=V||"demo-project",Q=B.iat||0,Se=B.sub||B.user_id;if(!Se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var He=(0,h.pi)({iss:"https://securetoken.google.com/"+ue,aud:ue,iat:Q,exp:Q+3600,auth_time:Q,sub:Se,user_id:Se,firebase:{sign_in_provider:"custom",identities:{}}},B);return[z(JSON.stringify({alg:"none",type:"JWT"})),z(JSON.stringify(He)),""].join(".")}function he(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Te(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(he())}function we(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(B){return!1}}function Me(){return"object"==typeof self&&self.self===self}function bt(){var B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function ln(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function lt(){return he().indexOf("Electron/")>=0}function Ht(){var B=he();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function Xt(){return he().indexOf("MSAppHost/")>=0}function Ar(){return!we()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var se=function(B){function V(K,ue,Q){var Se=B.call(this,ue)||this;return Se.code=K,Se.customData=Q,Se.name="FirebaseError",Object.setPrototypeOf(Se,V.prototype),Error.captureStackTrace&&Error.captureStackTrace(Se,Ge.prototype.create),Se}return(0,h.ZT)(V,B),V}(Error),Ge=function(){function B(V,K,ue){this.service=V,this.serviceName=K,this.errors=ue}return B.prototype.create=function(V){for(var K=[],ue=1;ue<arguments.length;ue++)K[ue-1]=arguments[ue];var Q=K[0]||{},Se=this.service+"/"+V,He=this.errors[V],pt=He?We(He,Q):"Error",xt=this.serviceName+": "+pt+" ("+Se+").",Ct=new se(Se,xt,Q);return Ct},B}();function We(B,V){return B.replace(Yt,function(K,ue){var Q=V[ue];return null!=Q?String(Q):"<"+ue+"?>"})}var Yt=/\{\$([^}]+)}/g;function ai(B,V){return Object.prototype.hasOwnProperty.call(B,V)}function Yn(B,V){var K=new Re(B,V);return K.subscribe.bind(K)}!function(){function B(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var V=1;V<this.blockSize;++V)this.pad_[V]=0;this.reset()}B.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},B.prototype.compress_=function(V,K){K||(K=0);var ue=this.W_;if("string"==typeof V)for(var Q=0;Q<16;Q++)ue[Q]=V.charCodeAt(K)<<24|V.charCodeAt(K+1)<<16|V.charCodeAt(K+2)<<8|V.charCodeAt(K+3),K+=4;else for(Q=0;Q<16;Q++)ue[Q]=V[K]<<24|V[K+1]<<16|V[K+2]<<8|V[K+3],K+=4;for(Q=16;Q<80;Q++)ue[Q]=4294967295&((Se=ue[Q-3]^ue[Q-8]^ue[Q-14]^ue[Q-16])<<1|Se>>>31);var mr,yr,He=this.chain_[0],pt=this.chain_[1],xt=this.chain_[2],Ct=this.chain_[3],Wn=this.chain_[4];for(Q=0;Q<80;Q++){Q<40?Q<20?(mr=Ct^pt&(xt^Ct),yr=1518500249):(mr=pt^xt^Ct,yr=1859775393):Q<60?(mr=pt&xt|Ct&(pt|xt),yr=2400959708):(mr=pt^xt^Ct,yr=3395469782);var Se=(He<<5|He>>>27)+mr+Wn+yr+ue[Q]&4294967295;Wn=Ct,Ct=xt,xt=4294967295&(pt<<30|pt>>>2),pt=He,He=Se}this.chain_[0]=this.chain_[0]+He&4294967295,this.chain_[1]=this.chain_[1]+pt&4294967295,this.chain_[2]=this.chain_[2]+xt&4294967295,this.chain_[3]=this.chain_[3]+Ct&4294967295,this.chain_[4]=this.chain_[4]+Wn&4294967295},B.prototype.update=function(V,K){if(null!=V){void 0===K&&(K=V.length);for(var ue=K-this.blockSize,Q=0,Se=this.buf_,He=this.inbuf_;Q<K;){if(0===He)for(;Q<=ue;)this.compress_(V,Q),Q+=this.blockSize;if("string"==typeof V){for(;Q<K;)if(Se[He]=V.charCodeAt(Q),++Q,++He===this.blockSize){this.compress_(Se),He=0;break}}else for(;Q<K;)if(Se[He]=V[Q],++Q,++He===this.blockSize){this.compress_(Se),He=0;break}}this.inbuf_=He,this.total_+=K}},B.prototype.digest=function(){var V=[],K=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ue=this.blockSize-1;ue>=56;ue--)this.buf_[ue]=255&K,K/=256;this.compress_(this.buf_);var Q=0;for(ue=0;ue<5;ue++)for(var Se=24;Se>=0;Se-=8)V[Q]=this.chain_[ue]>>Se&255,++Q;return V}}();var Re=function(){function B(V,K){var ue=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(function(){V(ue)}).catch(function(Q){ue.error(Q)})}return B.prototype.next=function(V){this.forEachObserver(function(K){K.next(V)})},B.prototype.error=function(V){this.forEachObserver(function(K){K.error(V)}),this.close(V)},B.prototype.complete=function(){this.forEachObserver(function(V){V.complete()}),this.close()},B.prototype.subscribe=function(V,K,ue){var Se,Q=this;if(void 0===V&&void 0===K&&void 0===ue)throw new Error("Missing Observer.");void 0===(Se=function(B,V){if("object"!=typeof B||null===B)return!1;for(var K=0,ue=["next","error","complete"];K<ue.length;K++){var Q=ue[K];if(Q in B&&"function"==typeof B[Q])return!0}return!1}(V)?V:{next:V,error:K,complete:ue}).next&&(Se.next=en),void 0===Se.error&&(Se.error=en),void 0===Se.complete&&(Se.complete=en);var He=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Q.finalError?Se.error(Q.finalError):Se.complete()}catch(pt){}}),this.observers.push(Se),He},B.prototype.unsubscribeOne=function(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},B.prototype.forEachObserver=function(V){if(!this.finalized)for(var K=0;K<this.observers.length;K++)this.sendOne(K,V)},B.prototype.sendOne=function(V,K){var ue=this;this.task.then(function(){if(void 0!==ue.observers&&void 0!==ue.observers[V])try{K(ue.observers[V])}catch(Q){"undefined"!=typeof console&&console.error&&console.error(Q)}})},B.prototype.close=function(V){var K=this;this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(function(){K.observers=void 0,K.onNoObservers=void 0}))},B}();function en(){}function kt(B){return B&&B._delegate?B._delegate:B}},2329:(Be,ge,P)=>{"use strict";P.d(ge,{Z:()=>h.Z});var h=P(9759);h.Z.registerVersion("firebase","8.10.0","app"),h.Z.SDK_VERSION="8.10.0"},7574:(Be,ge,P)=>{"use strict";P.d(ge,{y:()=>G});var h=P(7393),fe=P(9181),le=P(6490),$=P(6554),J=P(4487);var k=P(2494);let G=(()=>{class U{constructor(pe){this._isScalar=!1,pe&&(this._subscribe=pe)}lift(pe){const he=new U;return he.source=this,he.operator=pe,he}subscribe(pe,he,Te){const{operator:we}=this,Me=function(U,X,pe){if(U){if(U instanceof h.L)return U;if(U[fe.b])return U[fe.b]()}return U||X||pe?new h.L(U,X,pe):new h.L(le.c)}(pe,he,Te);if(Me.add(we?we.call(Me,this.source):this.source||k.v.useDeprecatedSynchronousErrorHandling&&!Me.syncErrorThrowable?this._subscribe(Me):this._trySubscribe(Me)),k.v.useDeprecatedSynchronousErrorHandling&&Me.syncErrorThrowable&&(Me.syncErrorThrowable=!1,Me.syncErrorThrown))throw Me.syncErrorValue;return Me}_trySubscribe(pe){try{return this._subscribe(pe)}catch(he){k.v.useDeprecatedSynchronousErrorHandling&&(pe.syncErrorThrown=!0,pe.syncErrorValue=he),function(U){for(;U;){const{closed:X,destination:pe,isStopped:he}=U;if(X||he)return!1;U=pe&&pe instanceof h.L?pe:null}return!0}(pe)?pe.error(he):console.warn(he)}}forEach(pe,he){return new(he=O(he))((Te,we)=>{let Me;Me=this.subscribe(bt=>{try{pe(bt)}catch(ln){we(ln),Me&&Me.unsubscribe()}},we,Te)})}_subscribe(pe){const{source:he}=this;return he&&he.subscribe(pe)}[$.L](){return this}pipe(...pe){return 0===pe.length?this:function(U){return 0===U.length?J.y:1===U.length?U[0]:function(pe){return U.reduce((he,Te)=>Te(he),pe)}}(pe)(this)}toPromise(pe){return new(pe=O(pe))((he,Te)=>{let we;this.subscribe(Me=>we=Me,Me=>Te(Me),()=>he(we))})}}return U.create=X=>new U(X),U})();function O(U){if(U||(U=k.v.Promise||Promise),!U)throw new Error("no Promise impl found");return U}},6490:(Be,ge,P)=>{"use strict";P.d(ge,{c:()=>fe});var h=P(2494),ie=P(4449);const fe={closed:!0,next(le){},error(le){if(h.v.useDeprecatedSynchronousErrorHandling)throw le;(0,ie.z)(le)},complete(){}}},9765:(Be,ge,P)=>{"use strict";P.d(ge,{Yc:()=>J,xQ:()=>W});var h=P(7574),ie=P(7393),fe=P(5319),le=P(7971),de=P(8858),$=P(9181);class J extends ie.L{constructor(G){super(G),this.destination=G}}let W=(()=>{class k extends h.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[$.b](){return new J(this)}lift(O){const U=new z(this,this);return U.operator=O,U}next(O){if(this.closed)throw new le.N;if(!this.isStopped){const{observers:U}=this,X=U.length,pe=U.slice();for(let he=0;he<X;he++)pe[he].next(O)}}error(O){if(this.closed)throw new le.N;this.hasError=!0,this.thrownError=O,this.isStopped=!0;const{observers:U}=this,X=U.length,pe=U.slice();for(let he=0;he<X;he++)pe[he].error(O);this.observers.length=0}complete(){if(this.closed)throw new le.N;this.isStopped=!0;const{observers:O}=this,U=O.length,X=O.slice();for(let pe=0;pe<U;pe++)X[pe].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(O){if(this.closed)throw new le.N;return super._trySubscribe(O)}_subscribe(O){if(this.closed)throw new le.N;return this.hasError?(O.error(this.thrownError),fe.w.EMPTY):this.isStopped?(O.complete(),fe.w.EMPTY):(this.observers.push(O),new de.W(this,O))}asObservable(){const O=new h.y;return O.source=this,O}}return k.create=(G,O)=>new z(G,O),k})();class z extends W{constructor(G,O){super(),this.destination=G,this.source=O}next(G){const{destination:O}=this;O&&O.next&&O.next(G)}error(G){const{destination:O}=this;O&&O.error&&this.destination.error(G)}complete(){const{destination:G}=this;G&&G.complete&&this.destination.complete()}_subscribe(G){const{source:O}=this;return O?this.source.subscribe(G):fe.w.EMPTY}}},8858:(Be,ge,P)=>{"use strict";P.d(ge,{W:()=>ie});var h=P(5319);class ie extends h.w{constructor(le,de){super(),this.subject=le,this.subscriber=de,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const le=this.subject,de=le.observers;if(this.subject=null,!de||0===de.length||le.isStopped||le.closed)return;const $=de.indexOf(this.subscriber);-1!==$&&de.splice($,1)}}},7393:(Be,ge,P)=>{"use strict";P.d(ge,{L:()=>J});var h=P(9105),ie=P(6490),fe=P(5319),le=P(9181),de=P(2494),$=P(4449);class J extends fe.w{constructor(k,G,O){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ie.c;break;case 1:if(!k){this.destination=ie.c;break}if("object"==typeof k){k instanceof J?(this.syncErrorThrowable=k.syncErrorThrowable,this.destination=k,k.add(this)):(this.syncErrorThrowable=!0,this.destination=new W(this,k));break}default:this.syncErrorThrowable=!0,this.destination=new W(this,k,G,O)}}[le.b](){return this}static create(k,G,O){const U=new J(k,G,O);return U.syncErrorThrowable=!1,U}next(k){this.isStopped||this._next(k)}error(k){this.isStopped||(this.isStopped=!0,this._error(k))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(k){this.destination.next(k)}_error(k){this.destination.error(k),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:k}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=k,this}}class W extends J{constructor(k,G,O,U){super(),this._parentSubscriber=k;let X,pe=this;(0,h.m)(G)?X=G:G&&(X=G.next,O=G.error,U=G.complete,G!==ie.c&&(pe=Object.create(G),(0,h.m)(pe.unsubscribe)&&this.add(pe.unsubscribe.bind(pe)),pe.unsubscribe=this.unsubscribe.bind(this))),this._context=pe,this._next=X,this._error=O,this._complete=U}next(k){if(!this.isStopped&&this._next){const{_parentSubscriber:G}=this;de.v.useDeprecatedSynchronousErrorHandling&&G.syncErrorThrowable?this.__tryOrSetError(G,this._next,k)&&this.unsubscribe():this.__tryOrUnsub(this._next,k)}}error(k){if(!this.isStopped){const{_parentSubscriber:G}=this,{useDeprecatedSynchronousErrorHandling:O}=de.v;if(this._error)O&&G.syncErrorThrowable?(this.__tryOrSetError(G,this._error,k),this.unsubscribe()):(this.__tryOrUnsub(this._error,k),this.unsubscribe());else if(G.syncErrorThrowable)O?(G.syncErrorValue=k,G.syncErrorThrown=!0):(0,$.z)(k),this.unsubscribe();else{if(this.unsubscribe(),O)throw k;(0,$.z)(k)}}}complete(){if(!this.isStopped){const{_parentSubscriber:k}=this;if(this._complete){const G=()=>this._complete.call(this._context);de.v.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?(this.__tryOrSetError(k,G),this.unsubscribe()):(this.__tryOrUnsub(G),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(k,G){try{k.call(this._context,G)}catch(O){if(this.unsubscribe(),de.v.useDeprecatedSynchronousErrorHandling)throw O;(0,$.z)(O)}}__tryOrSetError(k,G,O){if(!de.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{G.call(this._context,O)}catch(U){return de.v.useDeprecatedSynchronousErrorHandling?(k.syncErrorValue=U,k.syncErrorThrown=!0,!0):((0,$.z)(U),!0)}return!1}_unsubscribe(){const{_parentSubscriber:k}=this;this._context=null,this._parentSubscriber=null,k.unsubscribe()}}},5319:(Be,ge,P)=>{"use strict";P.d(ge,{w:()=>$});var h=P(9796),ie=P(1555),fe=P(9105);const de=(()=>{function W(z){return Error.call(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((k,G)=>`${G+1}) ${k.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z,this}return W.prototype=Object.create(Error.prototype),W})();class ${constructor(z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,z&&(this._ctorUnsubscribe=!0,this._unsubscribe=z)}unsubscribe(){let z;if(this.closed)return;let{_parentOrParents:k,_ctorUnsubscribe:G,_unsubscribe:O,_subscriptions:U}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,k instanceof $)k.remove(this);else if(null!==k)for(let X=0;X<k.length;++X)k[X].remove(this);if((0,fe.m)(O)){G&&(this._unsubscribe=void 0);try{O.call(this)}catch(X){z=X instanceof de?J(X.errors):[X]}}if((0,h.k)(U)){let X=-1,pe=U.length;for(;++X<pe;){const he=U[X];if((0,ie.K)(he))try{he.unsubscribe()}catch(Te){z=z||[],Te instanceof de?z=z.concat(J(Te.errors)):z.push(Te)}}}if(z)throw new de(z)}add(z){let k=z;if(!z)return $.EMPTY;switch(typeof z){case"function":k=new $(z);case"object":if(k===this||k.closed||"function"!=typeof k.unsubscribe)return k;if(this.closed)return k.unsubscribe(),k;if(!(k instanceof $)){const U=k;k=new $,k._subscriptions=[U]}break;default:throw new Error("unrecognized teardown "+z+" added to Subscription.")}let{_parentOrParents:G}=k;if(null===G)k._parentOrParents=this;else if(G instanceof $){if(G===this)return k;k._parentOrParents=[G,this]}else{if(-1!==G.indexOf(this))return k;G.push(this)}const O=this._subscriptions;return null===O?this._subscriptions=[k]:O.push(k),k}remove(z){const k=this._subscriptions;if(k){const G=k.indexOf(z);-1!==G&&k.splice(G,1)}}}var W;function J(W){return W.reduce((z,k)=>z.concat(k instanceof de?k.errors:k),[])}$.EMPTY=((W=new $).closed=!0,W)},2494:(Be,ge,P)=>{"use strict";P.d(ge,{v:()=>ie});let h=!1;const ie={Promise:void 0,set useDeprecatedSynchronousErrorHandling(fe){if(fe){const le=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+le.stack)}else h&&console.log("RxJS: Back to a better error behavior. Thank you. <3");h=fe},get useDeprecatedSynchronousErrorHandling(){return h}}},5345:(Be,ge,P)=>{"use strict";P.d(ge,{IY:()=>le,Ds:()=>$,ft:()=>W});var h=P(7393),ie=P(7574),fe=P(7444);class le extends h.L{constructor(k){super(),this.parent=k}_next(k){this.parent.notifyNext(k)}_error(k){this.parent.notifyError(k),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class $ extends h.L{notifyNext(k){this.destination.next(k)}notifyError(k){this.destination.error(k)}notifyComplete(){this.destination.complete()}}function W(z,k){if(k.closed)return;if(z instanceof ie.y)return z.subscribe(k);let G;try{G=(0,fe.s)(z)(k)}catch(O){k.error(O)}return G}},2441:(Be,ge,P)=>{"use strict";P.d(ge,{c:()=>de,N:()=>$});var h=P(9765),ie=P(7574),fe=P(5319),le=P(1307);class de extends ie.y{constructor(G,O){super(),this.source=G,this.subjectFactory=O,this._refCount=0,this._isComplete=!1}_subscribe(G){return this.getSubject().subscribe(G)}getSubject(){const G=this._subject;return(!G||G.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let G=this._connection;return G||(this._isComplete=!1,G=this._connection=new fe.w,G.add(this.source.subscribe(new J(this.getSubject(),this))),G.closed&&(this._connection=null,G=fe.w.EMPTY)),G}refCount(){return(0,le.x)()(this)}}const $=(()=>{const k=de.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:k._subscribe},_isComplete:{value:k._isComplete,writable:!0},getSubject:{value:k.getSubject},connect:{value:k.connect},refCount:{value:k.refCount}}})();class J extends h.Yc{constructor(G,O){super(G),this.connectable=O}_error(G){this._unsubscribe(),super._error(G)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const G=this.connectable;if(G){this.connectable=null;const O=G._connection;G._refCount=0,G._subject=null,G._connection=null,O&&O.unsubscribe()}}}},9193:(Be,ge,P)=>{"use strict";P.d(ge,{E:()=>ie,c:()=>fe});var h=P(7574);const ie=new h.y(de=>de.complete());function fe(de){return de?function(de){return new h.y($=>de.schedule(()=>$.complete()))}(de):ie}},4402:(Be,ge,P)=>{"use strict";P.d(ge,{D:()=>pe});var h=P(7574),ie=P(7444),fe=P(5319),le=P(6554),J=P(4087),W=P(377),G=P(4072),O=P(9489);function pe(he,Te){return Te?function(he,Te){if(null!=he){if(function(he){return he&&"function"==typeof he[le.L]}(he))return function(he,Te){return new h.y(we=>{const Me=new fe.w;return Me.add(Te.schedule(()=>{const bt=he[le.L]();Me.add(bt.subscribe({next(ln){Me.add(Te.schedule(()=>we.next(ln)))},error(ln){Me.add(Te.schedule(()=>we.error(ln)))},complete(){Me.add(Te.schedule(()=>we.complete()))}}))})),Me})}(he,Te);if((0,G.t)(he))return function(he,Te){return new h.y(we=>{const Me=new fe.w;return Me.add(Te.schedule(()=>he.then(bt=>{Me.add(Te.schedule(()=>{we.next(bt),Me.add(Te.schedule(()=>we.complete()))}))},bt=>{Me.add(Te.schedule(()=>we.error(bt)))}))),Me})}(he,Te);if((0,O.z)(he))return(0,J.r)(he,Te);if(function(he){return he&&"function"==typeof he[W.hZ]}(he)||"string"==typeof he)return function(he,Te){if(!he)throw new Error("Iterable cannot be null");return new h.y(we=>{const Me=new fe.w;let bt;return Me.add(()=>{bt&&"function"==typeof bt.return&&bt.return()}),Me.add(Te.schedule(()=>{bt=he[W.hZ](),Me.add(Te.schedule(function(){if(we.closed)return;let ln,lt;try{const Ht=bt.next();ln=Ht.value,lt=Ht.done}catch(Ht){return void we.error(Ht)}lt?we.complete():(we.next(ln),this.schedule())}))})),Me})}(he,Te)}throw new TypeError((null!==he&&typeof he||he)+" is not observable")}(he,Te):he instanceof h.y?he:new h.y((0,ie.s)(he))}},6693:(Be,ge,P)=>{"use strict";P.d(ge,{n:()=>le});var h=P(7574),ie=P(5015),fe=P(4087);function le(de,$){return $?(0,fe.r)(de,$):new h.y((0,ie.V)(de))}},6682:(Be,ge,P)=>{"use strict";P.d(ge,{T:()=>de});var h=P(7574),ie=P(4869),fe=P(3282),le=P(6693);function de(...$){let J=Number.POSITIVE_INFINITY,W=null,z=$[$.length-1];return(0,ie.K)(z)?(W=$.pop(),$.length>1&&"number"==typeof $[$.length-1]&&(J=$.pop())):"number"==typeof z&&(J=$.pop()),null===W&&1===$.length&&$[0]instanceof h.y?$[0]:(0,fe.J)(J)((0,le.n)($,W))}},5917:(Be,ge,P)=>{"use strict";P.d(ge,{of:()=>le});var h=P(4869),ie=P(6693),fe=P(4087);function le(...de){let $=de[de.length-1];return(0,h.K)($)?(de.pop(),(0,fe.r)(de,$)):(0,ie.n)(de)}},205:(Be,ge,P)=>{"use strict";P.d(ge,{_:()=>ie});var h=P(7574);function ie(le,de){return new h.y(de?$=>de.schedule(fe,0,{error:le,subscriber:$}):$=>$.error(le))}function fe({error:le,subscriber:de}){de.error(le)}},8002:(Be,ge,P)=>{"use strict";P.d(ge,{U:()=>ie});var h=P(7393);function ie(de,$){return function(W){if("function"!=typeof de)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return W.lift(new fe(de,$))}}class fe{constructor($,J){this.project=$,this.thisArg=J}call($,J){return J.subscribe(new le($,this.project,this.thisArg))}}class le extends h.L{constructor($,J,W){super($),this.project=J,this.count=0,this.thisArg=W||this}_next($){let J;try{J=this.project.call(this.thisArg,$,this.count++)}catch(W){return void this.destination.error(W)}this.destination.next(J)}}},3282:(Be,ge,P)=>{"use strict";P.d(ge,{J:()=>fe});var h=P(9773),ie=P(4487);function fe(le=Number.POSITIVE_INFINITY){return(0,h.zg)(ie.y,le)}},9773:(Be,ge,P)=>{"use strict";P.d(ge,{zg:()=>le});var h=P(8002),ie=P(4402),fe=P(5345);function le(W,z,k=Number.POSITIVE_INFINITY){return"function"==typeof z?G=>G.pipe(le((O,U)=>(0,ie.D)(W(O,U)).pipe((0,h.U)((X,pe)=>z(O,X,U,pe))),k)):("number"==typeof z&&(k=z),G=>G.lift(new de(W,k)))}class de{constructor(z,k=Number.POSITIVE_INFINITY){this.project=z,this.concurrent=k}call(z,k){return k.subscribe(new $(z,this.project,this.concurrent))}}class $ extends fe.Ds{constructor(z,k,G=Number.POSITIVE_INFINITY){super(z),this.project=k,this.concurrent=G,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(z){this.active<this.concurrent?this._tryNext(z):this.buffer.push(z)}_tryNext(z){let k;const G=this.index++;try{k=this.project(z,G)}catch(O){return void this.destination.error(O)}this.active++,this._innerSub(k)}_innerSub(z){const k=new fe.IY(this),G=this.destination;G.add(k);const O=(0,fe.ft)(z,k);O!==k&&G.add(O)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(z){this.destination.next(z)}notifyComplete(){const z=this.buffer;this.active--,z.length>0?this._next(z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(Be,ge,P)=>{"use strict";P.d(ge,{ht:()=>z,QV:()=>J});var h=P(7393),ie=P(9193),fe=P(5917),le=P(205);class ${constructor(O,U,X){this.kind=O,this.value=U,this.error=X,this.hasValue="N"===O}observe(O){switch(this.kind){case"N":return O.next&&O.next(this.value);case"E":return O.error&&O.error(this.error);case"C":return O.complete&&O.complete()}}do(O,U,X){switch(this.kind){case"N":return O&&O(this.value);case"E":return U&&U(this.error);case"C":return X&&X()}}accept(O,U,X){return O&&"function"==typeof O.next?this.observe(O):this.do(O,U,X)}toObservable(){switch(this.kind){case"N":return(0,fe.of)(this.value);case"E":return(0,le._)(this.error);case"C":return(0,ie.c)()}throw new Error("unexpected notification kind value")}static createNext(O){return void 0!==O?new $("N",O):$.undefinedValueNotification}static createError(O){return new $("E",void 0,O)}static createComplete(){return $.completeNotification}}function J(G,O=0){return function(X){return X.lift(new W(G,O))}}$.completeNotification=new $("C"),$.undefinedValueNotification=new $("N",void 0);class W{constructor(O,U=0){this.scheduler=O,this.delay=U}call(O,U){return U.subscribe(new z(O,this.scheduler,this.delay))}}class z extends h.L{constructor(O,U,X=0){super(O),this.scheduler=U,this.delay=X}static dispatch(O){const{notification:U,destination:X}=O;U.observe(X),this.unsubscribe()}scheduleMessage(O){this.destination.add(this.scheduler.schedule(z.dispatch,this.delay,new k(O,this.destination)))}_next(O){this.scheduleMessage($.createNext(O))}_error(O){this.scheduleMessage($.createError(O)),this.unsubscribe()}_complete(){this.scheduleMessage($.createComplete()),this.unsubscribe()}}class k{constructor(O,U){this.notification=O,this.destination=U}}},1307:(Be,ge,P)=>{"use strict";P.d(ge,{x:()=>ie});var h=P(7393);function ie(){return function($){return $.lift(new fe($))}}class fe{constructor($){this.connectable=$}call($,J){const{connectable:W}=this;W._refCount++;const z=new le($,W),k=J.subscribe(z);return z.closed||(z.connection=W.connect()),k}}class le extends h.L{constructor($,J){super($),this.connectable=J}_unsubscribe(){const{connectable:$}=this;if(!$)return void(this.connection=null);this.connectable=null;const J=$._refCount;if(J<=0)return void(this.connection=null);if($._refCount=J-1,J>1)return void(this.connection=null);const{connection:W}=this,z=$._connection;this.connection=null,z&&(!W||z===W)&&z.unsubscribe()}}},8819:(Be,ge,P)=>{"use strict";P.d(ge,{B:()=>J});var h=P(2441);var le=P(1307),de=P(9765);function $(){return new de.xQ}function J(){return W=>(0,le.x)()(function(W,z){return function(G){let O;O="function"==typeof W?W:function(){return W};const U=Object.create(G,h.N);return U.source=G,U.subjectFactory=O,U}}($)(W))}},9673:(Be,ge,P)=>{"use strict";P.d(ge,{R:()=>de});var h=P(7574),ie=P(4581),fe=P(6561);class le extends h.y{constructor(W,z=0,k=ie.e){super(),this.source=W,this.delayTime=z,this.scheduler=k,(!(0,fe.k)(z)||z<0)&&(this.delayTime=0),(!k||"function"!=typeof k.schedule)&&(this.scheduler=ie.e)}static create(W,z=0,k=ie.e){return new le(W,z,k)}static dispatch(W){const{source:z,subscriber:k}=W;return this.add(z.subscribe(k))}_subscribe(W){return this.scheduler.schedule(le.dispatch,this.delayTime,{source:this.source,subscriber:W})}}function de(J,W=0){return function(k){return k.lift(new $(J,W))}}class ${constructor(W,z){this.scheduler=W,this.delay=z}call(W,z){return new le(z,this.delay,this.scheduler).subscribe(W)}}},3342:(Be,ge,P)=>{"use strict";P.d(ge,{b:()=>le});var h=P(7393);function ie(){}var fe=P(9105);function le(J,W,z){return function(G){return G.lift(new de(J,W,z))}}class de{constructor(W,z,k){this.nextOrObserver=W,this.error=z,this.complete=k}call(W,z){return z.subscribe(new $(W,this.nextOrObserver,this.error,this.complete))}}class $ extends h.L{constructor(W,z,k,G){super(W),this._tapNext=ie,this._tapError=ie,this._tapComplete=ie,this._tapError=k||ie,this._tapComplete=G||ie,(0,fe.m)(z)?(this._context=this,this._tapNext=z):z&&(this._context=z,this._tapNext=z.next||ie,this._tapError=z.error||ie,this._tapComplete=z.complete||ie)}_next(W){try{this._tapNext.call(this._context,W)}catch(z){return void this.destination.error(z)}this.destination.next(W)}_error(W){try{this._tapError.call(this._context,W)}catch(z){return void this.destination.error(z)}this.destination.error(W)}_complete(){try{this._tapComplete.call(this._context)}catch(W){return void this.destination.error(W)}return this.destination.complete()}}},4087:(Be,ge,P)=>{"use strict";P.d(ge,{r:()=>fe});var h=P(7574),ie=P(5319);function fe(le,de){return new h.y($=>{const J=new ie.w;let W=0;return J.add(de.schedule(function(){W!==le.length?($.next(le[W++]),$.closed||J.add(this.schedule())):$.complete()})),J})}},6465:(Be,ge,P)=>{"use strict";P.d(ge,{o:()=>fe});var h=P(5319);class ie extends h.w{constructor(de,$){super()}schedule(de,$=0){return this}}class fe extends ie{constructor(de,$){super(de,$),this.scheduler=de,this.work=$,this.pending=!1}schedule(de,$=0){if(this.closed)return this;this.state=de;const J=this.id,W=this.scheduler;return null!=J&&(this.id=this.recycleAsyncId(W,J,$)),this.pending=!0,this.delay=$,this.id=this.id||this.requestAsyncId(W,this.id,$),this}requestAsyncId(de,$,J=0){return setInterval(de.flush.bind(de,this),J)}recycleAsyncId(de,$,J=0){if(null!==J&&this.delay===J&&!1===this.pending)return $;clearInterval($)}execute(de,$){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const J=this._execute(de,$);if(J)return J;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,$){let W,J=!1;try{this.work(de)}catch(z){J=!0,W=!!z&&z||new Error(z)}if(J)return this.unsubscribe(),W}_unsubscribe(){const de=this.id,$=this.scheduler,J=$.actions,W=J.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==W&&J.splice(W,1),null!=de&&(this.id=this.recycleAsyncId($,de,null)),this.delay=null}}},6102:(Be,ge,P)=>{"use strict";P.d(ge,{v:()=>ie});let h=(()=>{class fe{constructor(de,$=fe.now){this.SchedulerAction=de,this.now=$}schedule(de,$=0,J){return new this.SchedulerAction(this,de).schedule(J,$)}}return fe.now=()=>Date.now(),fe})();class ie extends h{constructor(le,de=h.now){super(le,()=>ie.delegate&&ie.delegate!==this?ie.delegate.now():de()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(le,de=0,$){return ie.delegate&&ie.delegate!==this?ie.delegate.schedule(le,de,$):super.schedule(le,de,$)}flush(le){const{actions:de}=this;if(this.active)return void de.push(le);let $;this.active=!0;do{if($=le.execute(le.state,le.delay))break}while(le=de.shift());if(this.active=!1,$){for(;le=de.shift();)le.unsubscribe();throw $}}}},4581:(Be,ge,P)=>{"use strict";P.d(ge,{e:()=>O,E:()=>G});let h=1;const ie=Promise.resolve(),fe={};function le(U){return U in fe&&(delete fe[U],!0)}const de={setImmediate(U){const X=h++;return fe[X]=!0,ie.then(()=>le(X)&&U()),X},clearImmediate(U){le(U)}};var J=P(6465),z=P(6102);const G=new class extends z.v{flush(X){this.active=!0,this.scheduled=void 0;const{actions:pe}=this;let he,Te=-1,we=pe.length;X=X||pe.shift();do{if(he=X.execute(X.state,X.delay))break}while(++Te<we&&(X=pe.shift()));if(this.active=!1,he){for(;++Te<we&&(X=pe.shift());)X.unsubscribe();throw he}}}(class extends J.o{constructor(X,pe){super(X,pe),this.scheduler=X,this.work=pe}requestAsyncId(X,pe,he=0){return null!==he&&he>0?super.requestAsyncId(X,pe,he):(X.actions.push(this),X.scheduled||(X.scheduled=de.setImmediate(X.flush.bind(X,null))))}recycleAsyncId(X,pe,he=0){if(null!==he&&he>0||null===he&&this.delay>0)return super.recycleAsyncId(X,pe,he);0===X.actions.length&&(de.clearImmediate(pe),X.scheduled=void 0)}}),O=G},3637:(Be,ge,P)=>{"use strict";P.d(ge,{z:()=>fe,P:()=>le});var h=P(6465);const fe=new(P(6102).v)(h.o),le=fe},7771:(Be,ge,P)=>{"use strict";P.d(ge,{c:()=>$,N:()=>de});var h=P(6465),fe=P(6102);const de=new class extends fe.v{}(class extends h.o{constructor(W,z){super(W,z),this.scheduler=W,this.work=z}schedule(W,z=0){return z>0?super.schedule(W,z):(this.delay=z,this.state=W,this.scheduler.flush(this),this)}execute(W,z){return z>0||this.closed?super.execute(W,z):this._execute(W,z)}requestAsyncId(W,z,k=0){return null!==k&&k>0||null===k&&this.delay>0?super.requestAsyncId(W,z,k):W.flush(this)}}),$=de},377:(Be,ge,P)=>{"use strict";P.d(ge,{hZ:()=>ie});const ie="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Be,ge,P)=>{"use strict";P.d(ge,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Be,ge,P)=>{"use strict";P.d(ge,{b:()=>h});const h="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Be,ge,P)=>{"use strict";P.d(ge,{N:()=>ie});const ie=(()=>{function fe(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return fe.prototype=Object.create(Error.prototype),fe})()},4449:(Be,ge,P)=>{"use strict";function h(ie){setTimeout(()=>{throw ie},0)}P.d(ge,{z:()=>h})},4487:(Be,ge,P)=>{"use strict";function h(ie){return ie}P.d(ge,{y:()=>h})},9796:(Be,ge,P)=>{"use strict";P.d(ge,{k:()=>h});const h=Array.isArray||(ie=>ie&&"number"==typeof ie.length)},9489:(Be,ge,P)=>{"use strict";P.d(ge,{z:()=>h});const h=ie=>ie&&"number"==typeof ie.length&&"function"!=typeof ie},9105:(Be,ge,P)=>{"use strict";function h(ie){return"function"==typeof ie}P.d(ge,{m:()=>h})},6561:(Be,ge,P)=>{"use strict";P.d(ge,{k:()=>ie});var h=P(9796);function ie(fe){return!(0,h.k)(fe)&&fe-parseFloat(fe)+1>=0}},1555:(Be,ge,P)=>{"use strict";function h(ie){return null!==ie&&"object"==typeof ie}P.d(ge,{K:()=>h})},4072:(Be,ge,P)=>{"use strict";function h(ie){return!!ie&&"function"!=typeof ie.subscribe&&"function"==typeof ie.then}P.d(ge,{t:()=>h})},4869:(Be,ge,P)=>{"use strict";function h(ie){return ie&&"function"==typeof ie.schedule}P.d(ge,{K:()=>h})},7444:(Be,ge,P)=>{"use strict";P.d(ge,{s:()=>G});var h=P(5015),ie=P(4449),le=P(377),$=P(6554),W=P(9489),z=P(4072),k=P(1555);const G=O=>{if(O&&"function"==typeof O[$.L])return(O=>U=>{const X=O[$.L]();if("function"!=typeof X.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return X.subscribe(U)})(O);if((0,W.z)(O))return(0,h.V)(O);if((0,z.t)(O))return(O=>U=>(O.then(X=>{U.closed||(U.next(X),U.complete())},X=>U.error(X)).then(null,ie.z),U))(O);if(O&&"function"==typeof O[le.hZ])return(O=>U=>{const X=O[le.hZ]();for(;;){let pe;try{pe=X.next()}catch(he){return U.error(he),U}if(pe.done){U.complete();break}if(U.next(pe.value),U.closed)break}return"function"==typeof X.return&&U.add(()=>{X.return&&X.return()}),U})(O);{const X=`You provided ${(0,k.K)(O)?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(X)}}},5015:(Be,ge,P)=>{"use strict";P.d(ge,{V:()=>h});const h=ie=>fe=>{for(let le=0,de=ie.length;le<de&&!fe.closed;le++)fe.next(ie[le]);fe.complete()}},4190:(Be,ge,P)=>{"use strict";var h=P(7716);let ie=null;function fe(){return ie}const J=new h.OlP("DocumentToken");let W=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,h.Yz7)({factory:z,token:i,providedIn:"platform"}),i})();function z(){return(0,h.LFG)(G)}const k=new h.OlP("Location Initialized");let G=(()=>{class i extends W{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fe().getBaseHref(this._doc)}onPopState(e){const o=fe().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=fe().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,a){O()?this._history.pushState(e,o,a):this.location.hash=a}replaceState(e,o,a){O()?this._history.replaceState(e,o,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(J))},i.\u0275prov=(0,h.Yz7)({factory:U,token:i,providedIn:"platform"}),i})();function O(){return!!window.history.pushState}function U(){return new G((0,h.LFG)(J))}function X(i,t){if(0==i.length)return t;if(0==t.length)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?i+t.substring(1):1==e?i+t:i+"/"+t}function pe(i){const t=i.match(/#|\?|$/),e=t&&t.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function he(i){return i&&"?"!==i[0]?"?"+i:i}let Te=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,h.Yz7)({factory:we,token:i,providedIn:"root"}),i})();function we(i){const t=(0,h.LFG)(J).location;return new bt((0,h.LFG)(W),t&&t.origin||"")}const Me=new h.OlP("appBaseHref");let bt=(()=>{class i extends Te{constructor(e,o){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return X(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+he(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${o}${a}`:o}pushState(e,o,a,c){const f=this.prepareExternalUrl(a+he(c));this._platformLocation.pushState(e,o,f)}replaceState(e,o,a,c){const f=this.prepareExternalUrl(a+he(c));this._platformLocation.replaceState(e,o,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,a;null===(a=(o=this._platformLocation).historyGo)||void 0===a||a.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(W),h.LFG(Me,8))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})(),ln=(()=>{class i extends Te{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=X(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,a,c){let f=this.prepareExternalUrl(a+he(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(e,o,f)}replaceState(e,o,a,c){let f=this.prepareExternalUrl(a+he(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,a;null===(a=(o=this._platformLocation).historyGo)||void 0===a||a.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(W),h.LFG(Me,8))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})(),lt=(()=>{class i{constructor(e,o){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=pe($t(a)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+he(o))}normalize(e){return i.stripTrailingSlash(function(i,t){return i&&t.startsWith(i)?t.substring(i.length):t}(this._baseHref,$t(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,o="",a=null){this._platformStrategy.pushState(a,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+he(o)),a)}replaceState(e,o="",a=null){this._platformStrategy.replaceState(a,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+he(o)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var o,a;null===(a=(o=this._platformStrategy).historyGo)||void 0===a||a.call(o,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(a=>a(e,o))}subscribe(e,o,a){return this._subject.subscribe({next:e,error:o,complete:a})}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(Te),h.LFG(W))},i.normalizeQueryParams=he,i.joinWithSlash=X,i.stripTrailingSlash=pe,i.\u0275prov=(0,h.Yz7)({factory:Ht,token:i,providedIn:"root"}),i})();function Ht(){return new lt((0,h.LFG)(Te),(0,h.LFG)(W))}function $t(i){return i.replace(/\/index.html$/,"")}var re=(()=>((re=re||{})[re.Zero=0]="Zero",re[re.One=1]="One",re[re.Two=2]="Two",re[re.Few=3]="Few",re[re.Many=4]="Many",re[re.Other=5]="Other",re))();const yt=h.kL8;class ps{}let Vp=(()=>{class i extends ps{constructor(e){super(),this.locale=e}getPluralCategory(e,o){switch(yt(o||this.locale)(e)){case re.Zero:return"zero";case re.One:return"one";case re.Two:return"two";case re.Few:return"few";case re.Many:return"many";default:return"other"}}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(h.soG))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();let Oa=(()=>{class i{constructor(e,o){this._viewContainer=e,this._context=new Bp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Fa("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Fa("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.s_b),h.Y36(h.Rgc))},i.\u0275dir=h.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class Bp{constructor(){this.$implicit=null,this.ngIf=null}}function Fa(i,t){if(t&&!t.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,h.AaK)(t)}'.`)}class ka{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let xi=(()=>{class i{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const o=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let o=0;o<this._defaultViews.length;o++)this._defaultViews[o].enforceState(e)}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=h.lG2({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),i})(),Vn=(()=>{class i{constructor(e,o,a){this.ngSwitch=a,a._addCase(),this._view=new ka(e,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(xi,9))},i.\u0275dir=h.lG2({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),i})(),du=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:[{provide:ps,useClass:Vp}]}),i})();let Gp=(()=>{class i{}return i.\u0275prov=(0,h.Yz7)({token:i,providedIn:"root",factory:()=>new nb((0,h.LFG)(J),window)}),i})();class nb{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(i,t){const e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let a=o.currentNode;for(;a;){const c=a.shadowRoot;if(c){const f=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(f)return f}a=o.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),o=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(o-c[0],a-c[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=wd(this.window.history)||wd(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function wd(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class ib extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new ib,ie||(ie=i)}onAndCancel(t,e,o){return t.addEventListener(e,o,!1),()=>{t.removeEventListener(e,o,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Na=Na||document.querySelector("base"),Na?Na.getAttribute("href"):null);return null==e?null:function(i){Wt=Wt||document.createElement("a"),Wt.setAttribute("href",i);const t=Wt.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Na=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const o=e.indexOf("="),[a,c]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(a.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let Wt,Na=null;const LS=new h.OlP("TRANSITION_ID"),zr=[{provide:h.ip1,useFactory:function(i,t,e){return()=>{e.get(h.CZH).donePromise.then(()=>{const o=fe(),a=t.querySelectorAll(`style[ng-transition="${i}"]`);for(let c=0;c<a.length;c++)o.remove(a[c])})}},deps:[LS,J,h.zs3],multi:!0}];class zp{static init(){(0,h.VLi)(new zp)}addToWindow(t){h.dqk.getAngularTestability=(o,a=!0)=>{const c=t.findTestabilityInTree(o,a);if(null==c)throw new Error("Could not find testability for element.");return c},h.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(o=>{const a=h.dqk.getAllAngularTestabilities();let c=a.length,f=!1;const m=function(_){f=f||_,c--,0==c&&o(f)};a.forEach(function(_){_.whenStable(m)})})}findTestabilityInTree(t,e,o){if(null==e)return null;const a=t.getTestability(e);return null!=a?a:o?fe().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let $p=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();const hu=new h.OlP("EventManagerPlugins");let ye=(()=>{class i{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,a){return this._findPluginFor(o).addEventListener(e,o,a)}addGlobalEventListener(e,o,a){return this._findPluginFor(o).addGlobalEventListener(e,o,a)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const a=this._plugins;for(let c=0;c<a.length;c++){const f=a[c];if(f.supports(e))return this._eventNameToPlugin.set(e,f),f}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(hu),h.LFG(h.R0b))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();class gt{constructor(t){this._doc=t}addGlobalEventListener(t,e,o){const a=fe().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,o)}}let Yp=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),o.add(a))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})(),Kt=(()=>{class i extends Yp{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,a){e.forEach(c=>{const f=this._doc.createElement("style");f.textContent=c,a.push(o.appendChild(f))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(Wp),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,a)=>{this._addStylesToHost(e,a,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Wp))}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(J))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();function Wp(i){fe().remove(i)}const _s={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},$r=/%COMP%/g;function An(i,t,e){for(let o=0;o<t.length;o++){let a=t[o];Array.isArray(a)?An(i,a,e):(a=a.replace($r,i),e.push(a))}return e}function gi(i){return t=>{if("__ngUnwrap__"===t)return i;!1===i(t)&&(t.preventDefault(),t.returnValue=!1)}}let ao=(()=>{class i{constructor(e,o,a){this.eventManager=e,this.sharedStylesHost=o,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new mi(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case h.ifc.Emulated:{let a=this.rendererByCompId.get(o.id);return a||(a=new YS(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,a)),a.applyToHost(e),a}case 1:case h.ifc.ShadowDom:return new Kp(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const a=An(o.id,o.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(ye),h.LFG(Kt),h.LFG(h.AFp))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();class mi{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(_s[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,o){t&&t.insertBefore(e,o)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let o="string"==typeof t?document.querySelector(t):t;if(!o)throw new Error(`The selector "${t}" did not match any elements`);return e||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,o,a){if(a){e=a+":"+e;const c=_s[a];c?t.setAttributeNS(c,e,o):t.setAttribute(e,o)}else t.setAttribute(e,o)}removeAttribute(t,e,o){if(o){const a=_s[o];a?t.removeAttributeNS(a,e):t.removeAttribute(`${o}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,o,a){a&(h.JOm.DashCase|h.JOm.Important)?t.style.setProperty(e,o,a&h.JOm.Important?"important":""):t.style[e]=o}removeStyle(t,e,o){o&h.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,o){t[e]=o}setValue(t,e){t.nodeValue=e}listen(t,e,o){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,gi(o)):this.eventManager.addEventListener(t,e,gi(o))}}class YS extends mi{constructor(t,e,o,a){super(t),this.component=o;const c=An(a+"-"+o.id,o.styles,[]);e.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace($r,a+"-"+o.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace($r,i)}(a+"-"+o.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const o=super.createElement(t,e);return super.setAttribute(o,this.contentAttr,""),o}}class Kp extends mi{constructor(t,e,o,a){super(t),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=An(a.id,a.styles,[]);for(let f=0;f<c.length;f++){const m=document.createElement("style");m.textContent=c[f],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,o){return super.insertBefore(this.nodeOrShadowRoot(t),e,o)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Qp=(()=>{class i extends gt{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,a){return e.addEventListener(o,a,!1),()=>this.removeEventListener(e,o,a)}removeEventListener(e,o,a){return e.removeEventListener(o,a)}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(J))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();const pu=["alt","control","meta","shift"],JS={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ZS={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let XS=(()=>{class i extends gt{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,o,a){const c=i.parseEventName(o),f=i.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fe().onAndCancel(e,c.domEventName,f))}static parseEventName(e){const o=e.toLowerCase().split("."),a=o.shift();if(0===o.length||"keydown"!==a&&"keyup"!==a)return null;const c=i._normalizeKey(o.pop());let f="";if(pu.forEach(_=>{const w=o.indexOf(_);w>-1&&(o.splice(w,1),f+=_+".")}),f+=c,0!=o.length||0===c.length)return null;const m={};return m.domEventName=a,m.fullKey=f,m}static getEventFullKey(e){let o="",a=function(i){let t=i.key;if(null==t){if(t=i.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===i.location&&Qn.hasOwnProperty(t)&&(t=Qn[t]))}return JS[t]||t}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),pu.forEach(c=>{c!=a&&ZS[c](e)&&(o+=c+".")}),o+=a,o}static eventCallback(e,o,a){return c=>{i.getEventFullKey(c)===e&&a.runGuarded(()=>o(c))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(J))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})(),La=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,h.Yz7)({factory:function(){return(0,h.LFG)(Va)},token:i,providedIn:"root"}),i})(),Va=(()=>{class i extends La{constructor(e){super(),this._doc=e}sanitize(e,o){if(null==o)return null;switch(e){case h.q3G.NONE:return o;case h.q3G.HTML:return(0,h.qzn)(o,"HTML")?(0,h.z3N)(o):(0,h.EiD)(this._doc,String(o)).toString();case h.q3G.STYLE:return(0,h.qzn)(o,"Style")?(0,h.z3N)(o):o;case h.q3G.SCRIPT:if((0,h.qzn)(o,"Script"))return(0,h.z3N)(o);throw new Error("unsafe value used in a script context");case h.q3G.URL:return(0,h.yhl)(o),(0,h.qzn)(o,"URL")?(0,h.z3N)(o):(0,h.mCW)(String(o));case h.q3G.RESOURCE_URL:if((0,h.qzn)(o,"ResourceURL"))return(0,h.z3N)(o);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,h.JVY)(e)}bypassSecurityTrustStyle(e){return(0,h.L6k)(e)}bypassSecurityTrustScript(e){return(0,h.eBb)(e)}bypassSecurityTrustUrl(e){return(0,h.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,h.pB0)(e)}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(J))},i.\u0275prov=(0,h.Yz7)({factory:function(){return function(i){return new Va(i.get(J))}((0,h.LFG)(h.gxx))},token:i,providedIn:"root"}),i})();const gu=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function(){ib.makeCurrent(),zp.init()},multi:!0},{provide:J,useFactory:function(){return(0,h.RDi)(document),document},deps:[]}]),Zp=[[],{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function(){return new h.qLn},deps:[]},{provide:hu,useClass:Qp,multi:!0,deps:[J,h.R0b,h.Lbi]},{provide:hu,useClass:XS,multi:!0,deps:[J]},[],{provide:ao,useClass:ao,deps:[ye,Kt,h.AFp]},{provide:h.FYo,useExisting:ao},{provide:Yp,useExisting:Kt},{provide:Kt,useClass:Kt,deps:[J]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:ye,useClass:ye,deps:[hu,h.R0b]},{provide:class{},useClass:$p,deps:[]},[]];let Xp=(()=>{class i{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:i,providers:[{provide:h.AFp,useValue:e.appId},{provide:LS,useExisting:h.AFp},zr]}}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(i,12))},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:Zp,imports:[du,h.hGG]}),i})();"undefined"!=typeof window&&window;var Gt=P(4402),Pe=P(5917),rt=P(9765),bb=P(7971);class vr extends rt.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new bb.N;return this._value}next(t){super.next(this._value=t)}}var _u=P(4869),vu=P(9796),sr=P(7393);class iT extends sr.L{notifyNext(t,e,o,a,c){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class oT extends sr.L{constructor(t,e,o){super(),this.parent=t,this.outerValue=e,this.outerIndex=o,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Nd=P(7444),nn=P(7574);function sT(i,t,e,o,a=new oT(i,e,o)){if(!a.closed)return t instanceof nn.y?t.subscribe(a):(0,Nd.s)(t)(a)}var wb=P(6693);const tg={};class Cb{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new ng(t,this.resultSelector))}}class ng extends iT{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(tg),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let o=0;o<e;o++)this.add(sT(this,t[o],void 0,o))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,o){const a=this.values,f=this.toRespond?a[o]===tg?--this.toRespond:this.toRespond:0;a[o]=e,0===f&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}const lo=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var uo=P(3282);function ws(...i){return(0,uo.J)(1)((0,Pe.of)(...i))}var yi=P(9193);function co(i){return new nn.y(t=>{let e;try{e=i()}catch(a){return void t.error(a)}return(e?(0,Gt.D)(e):(0,yi.c)()).subscribe(t)})}var hF=P(2441),Qe=P(8002),qr=P(5345);function Jn(i,t){return"function"==typeof t?e=>e.pipe(Jn((o,a)=>(0,Gt.D)(i(o,a)).pipe((0,Qe.U)((c,f)=>t(o,c,a,f))))):e=>e.lift(new aT(i))}class aT{constructor(t){this.project=t}call(t,e){return e.subscribe(new rn(t,this.project))}}class rn extends qr.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const o=this.index++;try{e=this.project(t,o)}catch(a){return void this.destination.error(a)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const o=new qr.IY(this),a=this.destination;a.add(o),this.innerSubscription=(0,qr.ft)(t,o),this.innerSubscription!==o&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const rg=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function ki(i){return t=>0===i?(0,yi.c)():t.lift(new pF(i))}class pF{constructor(t){if(this.total=t,this.total<0)throw new rg}call(t,e){return e.subscribe(new gF(t,this.total))}}class gF extends sr.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,o=++this.count;o<=e&&(this.destination.next(t),o===e&&(this.destination.complete(),this.unsubscribe()))}}function ho(...i){const t=i[i.length-1];return(0,_u.K)(t)?(i.pop(),e=>ws(i,e,t)):e=>ws(i,e)}function Pd(i,t){let e=!1;return arguments.length>=2&&(e=!0),function(a){return a.lift(new mF(i,t,e))}}class mF{constructor(t,e,o=!1){this.accumulator=t,this.seed=e,this.hasSeed=o}call(t,e){return e.subscribe(new yF(t,this.accumulator,this.seed,this.hasSeed))}}class yF extends sr.L{constructor(t,e,o,a){super(t),this.accumulator=e,this._seed=o,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let o;try{o=this.accumulator(this.seed,t,e)}catch(a){this.destination.error(a)}this.seed=o,this.destination.next(o)}}function br(i,t){return function(o){return o.lift(new _F(i,t))}}class _F{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new bu(t,this.predicate,this.thisArg))}}class bu extends sr.L{constructor(t,e,o){super(t),this.predicate=e,this.thisArg=o,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(o){return void this.destination.error(o)}e&&this.destination.next(t)}}function Cs(i){return function(e){const o=new Cn(i),a=e.lift(o);return o.caught=a}}class Cn{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Ld(t,this.selector,this.caught))}}class Ld extends qr.Ds{constructor(t,e,o){super(t),this.selector=e,this.caught=o}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const o=new qr.IY(this);this.add(o);const a=(0,qr.ft)(e,o);a!==o&&this.add(a)}}}var In=P(9773);function wu(i,t){return(0,In.zg)(i,t,1)}function ig(i){return function(e){return 0===i?(0,yi.c)():e.lift(new Yr(i))}}class Yr{constructor(t){if(this.total=t,this.total<0)throw new rg}call(t,e){return e.subscribe(new Ni(t,this.total))}}class Ni extends sr.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,o=this.total,a=this.count++;e.length<o?e.push(t):e[a%o]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const o=this.count>=this.total?this.total:this.count,a=this.ring;for(let c=0;c<o;c++){const f=e++%o;t.next(a[f])}}t.complete()}}function Cu(i=Db){return t=>t.lift(new Es(i))}class Es{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Lo(t,this.errorFactory))}}class Lo extends sr.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Db(){return new lo}function Sb(i=null){return t=>t.lift(new lT(i))}class lT{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new vF(t,this.defaultValue))}}class vF extends sr.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var uT=P(4487);function En(i,t){const e=arguments.length>=2;return o=>o.pipe(i?br((a,c)=>i(a,c,o)):uT.y,ki(1),e?Sb(t):Cu(()=>new lo))}var Rn=P(3342),Ua=P(1307),fo=P(5319);function og(i){return t=>t.lift(new cT(i))}class cT{constructor(t){this.callback=t}call(t,e){return e.subscribe(new dT(t,this.callback))}}class dT extends sr.L{constructor(t,e){super(t),this.add(new fo.w(e))}}class po{constructor(t,e){this.id=t,this.url=e}}class sg extends po{constructor(t,e,o="imperative",a=null){super(t,e),this.navigationTrigger=o,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Eu extends po{constructor(t,e,o){super(t,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ha extends po{constructor(t,e,o){super(t,e),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ag extends po{constructor(t,e,o){super(t,e),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vd extends po{constructor(t,e,o,a){super(t,e),this.urlAfterRedirects=o,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bF extends po{constructor(t,e,o,a){super(t,e),this.urlAfterRedirects=o,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Du extends po{constructor(t,e,o,a,c){super(t,e),this.urlAfterRedirects=o,this.state=a,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lg extends po{constructor(t,e,o,a){super(t,e),this.urlAfterRedirects=o,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ga extends po{constructor(t,e,o,a){super(t,e),this.urlAfterRedirects=o,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mb{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ab{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hT{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ug{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wF{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cg{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class za{constructor(t,e,o){this.routerEvent=t,this.position=e,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const it="primary";class fT{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function jt(i){return new fT(i)}const dg="ngNavigationCancelingError";function hg(i){const t=Error("NavigationCancelingError: "+i);return t[dg]=!0,t}function Su(i,t,e){const o=e.path.split("/");if(o.length>i.length||"full"===e.pathMatch&&(t.hasChildren()||o.length<i.length))return null;const a={};for(let c=0;c<o.length;c++){const f=o[c],m=i[c];if(f.startsWith(":"))a[f.substring(1)]=m;else if(f!==m.path)return null}return{consumed:i.slice(0,o.length),posParams:a}}function _i(i,t){const e=i?Object.keys(i):void 0,o=t?Object.keys(t):void 0;if(!e||!o||e.length!=o.length)return!1;let a;for(let c=0;c<e.length;c++)if(a=e[c],!fg(i[a],t[a]))return!1;return!0}function fg(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;const e=[...i].sort(),o=[...t].sort();return e.every((a,c)=>o[c]===a)}return i===t}function gT(i){return Array.prototype.concat.apply([],i)}function Ss(i){return i.length>0?i[i.length-1]:null}function pn(i,t){for(const e in i)i.hasOwnProperty(e)&&t(i[e],e)}function Bn(i){return(0,h.CqO)(i)?i:(0,h.QGY)(i)?(0,Gt.D)(Promise.resolve(i)):(0,Pe.of)(i)}const Ib={exact:function xb(i,t,e){if(!Ms(i.segments,t.segments)||!jd(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(const o in t.children)if(!i.children[o]||!xb(i.children[o],t.children[o],e))return!1;return!0},subset:Ts},Bd={exact:function(i,t){return _i(i,t)},subset:function(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>fg(i[e],t[e]))},ignored:()=>!0};function Tu(i,t,e){return Ib[e.paths](i.root,t.root,e.matrixParams)&&Bd[e.queryParams](i.queryParams,t.queryParams)&&!("exact"===e.fragment&&i.fragment!==t.fragment)}function Ts(i,t,e){return $a(i,t,t.segments,e)}function $a(i,t,e,o){if(i.segments.length>e.length){const a=i.segments.slice(0,e.length);return!(!Ms(a,e)||t.hasChildren()||!jd(a,e,o))}if(i.segments.length===e.length){if(!Ms(i.segments,e)||!jd(i.segments,e,o))return!1;for(const a in t.children)if(!i.children[a]||!Ts(i.children[a],t.children[a],o))return!1;return!0}{const a=e.slice(0,i.segments.length),c=e.slice(i.segments.length);return!!(Ms(i.segments,a)&&jd(i.segments,a,o)&&i.children[it])&&$a(i.children[it],t,c,o)}}function jd(i,t,e){return t.every((o,a)=>Bd[e](i[a].parameters,o.parameters))}class qa{constructor(t,e,o){this.root=t,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jt(this.queryParams)),this._queryParamMap}toString(){return gg.serialize(this)}}class ht{constructor(t,e){this.segments=t,this.children=e,this.parent=null,pn(e,(o,a)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return go(this)}}class Mu{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=jt(this.parameters)),this._parameterMap}toString(){return _g(this)}}function Ms(i,t){return i.length===t.length&&i.every((e,o)=>e.path===t[o].path)}class pg{}class Au{parse(t){const e=new Fb(t);return new qa(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var i;return`${`/${Iu(t.root,!0)}`}${function(i){const t=Object.keys(i).map(e=>{const o=i[e];return Array.isArray(o)?o.map(a=>`${mg(e)}=${mg(a)}`).join("&"):`${mg(e)}=${mg(o)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${i=t.fragment,encodeURI(i)}`:""}`}}const gg=new Au;function go(i){return i.segments.map(t=>_g(t)).join("/")}function Iu(i,t){if(!i.hasChildren())return go(i);if(t){const e=i.children[it]?Iu(i.children[it],!1):"",o=[];return pn(i.children,(a,c)=>{c!==it&&o.push(`${c}:${Iu(a,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function(i,t){let e=[];return pn(i.children,(o,a)=>{a===it&&(e=e.concat(t(o,a)))}),pn(i.children,(o,a)=>{a!==it&&(e=e.concat(t(o,a)))}),e}(i,(o,a)=>a===it?[Iu(i.children[it],!1)]:[`${a}:${Iu(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[it]?`${go(i)}/${e[0]}`:`${go(i)}/(${e.join("//")})`}}function Ob(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mg(i){return Ob(i).replace(/%3B/gi,";")}function Ru(i){return Ob(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xu(i){return decodeURIComponent(i)}function yg(i){return xu(i.replace(/\+/g,"%20"))}function _g(i){return`${Ru(i.path)}${function(i){return Object.keys(i).map(t=>`;${Ru(t)}=${Ru(i[t])}`).join("")}(i.parameters)}`}const bT=/^[^\/()?;=#]+/;function Hd(i){const t=i.match(bT);return t?t[0]:""}const wT=/^[^=?&#]+/,mo=/^[^?&#]+/;class Fb{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ht([],{}):new ht([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(o[it]=new ht(t,e)),o}parseSegment(){const t=Hd(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Mu(xu(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Hd(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const a=Hd(this.remaining);a&&(o=a,this.capture(o))}t[xu(e)]=xu(o)}parseQueryParam(t){const e=function(i){const t=i.match(wT);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const f=function(i){const t=i.match(mo);return t?t[0]:""}(this.remaining);f&&(o=f,this.capture(o))}const a=yg(e),c=yg(o);if(t.hasOwnProperty(a)){let f=t[a];Array.isArray(f)||(f=[f],t[a]=f),f.push(c)}else t[a]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Hd(this.remaining),a=this.remaining[o.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let c;o.indexOf(":")>-1?(c=o.substr(0,o.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=it);const f=this.parseChildren();e[c]=1===Object.keys(f).length?f[it]:new ht([],f),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class kb{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=vg(t,this._root);return e?e.children.map(o=>o.value):[]}firstChild(t){const e=vg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=bg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return bg(t,this._root).map(e=>e.value)}}function vg(i,t){if(i===t.value)return t;for(const e of t.children){const o=vg(i,e);if(o)return o}return null}function bg(i,t){if(i===t.value)return[t];for(const e of t.children){const o=bg(i,e);if(o.length)return o.unshift(t),o}return[]}class yo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ou(i){const t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}class wg extends kb{constructor(t,e){super(t),this.snapshot=e,zd(this,t)}toString(){return this.snapshot.toString()}}function Nb(i,t){const e=function(i,t){const f=new Gd([],{},{},"",{},it,t,null,i.root,-1,{});return new Ka("",new yo(f,[]))}(i,t),o=new vr([new Mu("",{})]),a=new vr({}),c=new vr({}),f=new vr({}),m=new vr(""),_=new Wa(o,a,f,m,c,it,t,e.root);return _.snapshot=e.root,new wg(new yo(_,[]),e)}class Wa{constructor(t,e,o,a,c,f,m,_){this.url=t,this.params=e,this.queryParams=o,this.fragment=a,this.data=c,this.outlet=f,this.component=m,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qe.U)(t=>jt(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qe.U)(t=>jt(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Pb(i,t="emptyOnly"){const e=i.pathFromRoot;let o=0;if("always"!==t)for(o=e.length-1;o>=1;){const a=e[o],c=e[o-1];if(a.routeConfig&&""===a.routeConfig.path)o--;else{if(c.component)break;o--}}return function(i){return i.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(o))}class Gd{constructor(t,e,o,a,c,f,m,_,w,C,S){this.url=t,this.params=e,this.queryParams=o,this.fragment=a,this.data=c,this.outlet=f,this.component=m,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=C,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=jt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ka extends kb{constructor(t,e){super(e),this.url=t,zd(this,e)}toString(){return vi(this._root)}}function zd(i,t){t.value._routerState=i,t.children.forEach(e=>zd(i,e))}function vi(i){const t=i.children.length>0?` { ${i.children.map(vi).join(", ")} } `:"";return`${i.value}${t}`}function Is(i){if(i.snapshot){const t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,_i(t.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),t.fragment!==e.fragment&&i.fragment.next(e.fragment),_i(t.params,e.params)||i.params.next(e.params),function(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!_i(i[e],t[e]))return!1;return!0}(t.url,e.url)||i.url.next(e.url),_i(t.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function $d(i,t){return _i(i.params,t.params)&&function(i,t){return Ms(i,t)&&i.every((e,o)=>_i(e.parameters,t[o].parameters))}(i.url,t.url)&&!(!i.parent!=!t.parent)&&(!i.parent||$d(i.parent,t.parent))}function Fu(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=t.value;const a=function(i,t,e){return t.children.map(o=>{for(const a of e.children)if(i.shouldReuseRoute(o.value,a.value.snapshot))return Fu(i,o,a);return Fu(i,o)})}(i,t,e);return new yo(o,a)}{if(i.shouldAttach(t.value)){const c=i.retrieve(t.value);if(null!==c){const f=c.route;return DT(t,f),f}}const o=function(i){return new Wa(new vr(i.url),new vr(i.params),new vr(i.queryParams),new vr(i.fragment),new vr(i.data),i.outlet,i.component,i)}(t.value),a=t.children.map(c=>Fu(i,c));return new yo(o,a)}}function DT(i,t){if(i.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=i.value;for(let e=0;e<i.children.length;++e)DT(i.children[e],t.children[e])}function Qa(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Rs(i){return"object"==typeof i&&null!=i&&i.outlets}function Vb(i,t,e,o,a){let c={};return o&&pn(o,(f,m)=>{c[m]=Array.isArray(f)?f.map(_=>`${_}`):`${f}`}),new qa(e.root===i?t:ST(e.root,i,t),c,a)}function ST(i,t,e){const o={};return pn(i.children,(a,c)=>{o[c]=a===t?e:ST(a,t,e)}),new ht(i.segments,o)}class Eg{constructor(t,e,o){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=o,t&&o.length>0&&Qa(o[0]))throw new Error("Root segment cannot have matrix parameters");const a=o.find(Rs);if(a&&a!==Ss(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dg{constructor(t,e,o){this.segmentGroup=t,this.processChildren=e,this.index=o}}function ku(i,t,e){if(i||(i=new ht([],{})),0===i.segments.length&&i.hasChildren())return Nu(i,t,e);const o=function(i,t,e){let o=0,a=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<i.segments.length;){if(o>=e.length)return c;const f=i.segments[a],m=e[o];if(Rs(m))break;const _=`${m}`,w=o<e.length-1?e[o+1]:null;if(a>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!Ub(_,w,f))return c;o+=2}else{if(!Ub(_,{},f))return c;o++}a++}return{match:!0,pathIndex:a,commandIndex:o}}(i,t,e),a=e.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const c=new ht(i.segments.slice(0,o.pathIndex),{});return c.children[it]=new ht(i.segments.slice(o.pathIndex),i.children),Nu(c,0,a)}return o.match&&0===a.length?new ht(i.segments,{}):o.match&&!i.hasChildren()?Tg(i,t,e):o.match?Nu(i,0,a):Tg(i,t,e)}function Nu(i,t,e){if(0===e.length)return new ht(i.segments,{});{const o=function(i){return Rs(i[0])?i[0].outlets:{[it]:i}}(e),a={};return pn(o,(c,f)=>{"string"==typeof c&&(c=[c]),null!==c&&(a[f]=ku(i.children[f],t,c))}),pn(i.children,(c,f)=>{void 0===o[f]&&(a[f]=c)}),new ht(i.segments,a)}}function Tg(i,t,e){const o=i.segments.slice(0,t);let a=0;for(;a<e.length;){const c=e[a];if(Rs(c)){const _=on(c.outlets);return new ht(o,_)}if(0===a&&Qa(e[0])){o.push(new Mu(i.segments[t].path,jb(e[0]))),a++;continue}const f=Rs(c)?c.outlets[it]:`${c}`,m=a<e.length-1?e[a+1]:null;f&&m&&Qa(m)?(o.push(new Mu(f,jb(m))),a+=2):(o.push(new Mu(f,{})),a++)}return new ht(o,{})}function on(i){const t={};return pn(i,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[o]=Tg(new ht([],{}),0,e))}),t}function jb(i){const t={};return pn(i,(e,o)=>t[o]=`${e}`),t}function Ub(i,t,e){return i==e.path&&_i(t,e.parameters)}class Hb{constructor(t,e,o,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=o,this.forwardEvent=a}activate(t){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,t),Is(this.futureState.root),this.activateChildRoutes(e,o,t)}deactivateChildRoutes(t,e,o){const a=Ou(e);t.children.forEach(c=>{const f=c.value.outlet;this.deactivateRoutes(c,a[f],o),delete a[f]}),pn(a,(c,f)=>{this.deactivateRouteAndItsChildren(c,o)})}deactivateRoutes(t,e,o){const a=t.value,c=e?e.value:null;if(a===c)if(a.component){const f=o.getContext(a.outlet);f&&this.deactivateChildRoutes(t,e,f.children)}else this.deactivateChildRoutes(t,e,o);else c&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const o=e.getContext(t.value.outlet);if(o&&o.outlet){const a=o.outlet.detach(),c=o.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){const o=e.getContext(t.value.outlet),a=o&&t.value.component?o.children:e,c=Ou(t);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],a);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(t,e,o){const a=Ou(e);t.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],o),this.forwardEvent(new cg(c.value.snapshot))}),t.children.length&&this.forwardEvent(new ug(t.value.snapshot))}activateRoutes(t,e,o){const a=t.value,c=e?e.value:null;if(Is(a),a===c)if(a.component){const f=o.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,f.children)}else this.activateChildRoutes(t,e,o);else if(a.component){const f=o.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const m=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),f.children.onOutletReAttached(m.contexts),f.attachRef=m.componentRef,f.route=m.route.value,f.outlet&&f.outlet.attach(m.componentRef,m.route.value),Gb(m.route)}else{const m=function(i){for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),_=m?m.module.componentFactoryResolver:null;f.attachRef=null,f.route=a,f.resolver=_,f.outlet&&f.outlet.activateWith(a,_),this.activateChildRoutes(t,null,f.children)}}else this.activateChildRoutes(t,null,o)}}function Gb(i){Is(i.value),i.children.forEach(Gb)}class Ag{constructor(t,e){this.routes=t,this.module=e}}function Bo(i){return"function"==typeof i}function Ja(i){return i instanceof qa}const Za=Symbol("INITIAL_VALUE");function Xa(){return Jn(i=>function(...i){let t,e;return(0,_u.K)(i[i.length-1])&&(e=i.pop()),"function"==typeof i[i.length-1]&&(t=i.pop()),1===i.length&&(0,vu.k)(i[0])&&(i=i[0]),(0,wb.n)(i,e).lift(new Cb(t))}(i.map(t=>t.pipe(ki(1),ho(Za)))).pipe(Pd((t,e)=>{let o=!1;return e.reduce((a,c,f)=>a!==Za?a:(c===Za&&(o=!0),o||!1!==c&&f!==e.length-1&&!Ja(c)?a:c),t)},Za),br(t=>t!==Za),(0,Qe.U)(t=>Ja(t)?t:!0===t),ki(1)))}let jn=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=h.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&h._UZ(0,"router-outlet")},directives:function(){return[Uu]},encapsulation:2}),i})();function el(i,t=""){for(let e=0;e<i.length;e++){const o=i[e];Rg(o,xT(t,o))}}function Rg(i,t){i.children&&el(i.children,t)}function xT(i,t){return t?i||t.path?i&&!t.path?`${i}/`:!i&&t.path?t.path:`${i}/${t.path}`:"":i}function xg(i){const t=i.children&&i.children.map(xg),e=t?Object.assign(Object.assign({},i),{children:t}):Object.assign({},i);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==it&&(e.component=jn),e}function Or(i){return i.outlet||it}function zb(i,t){const e=i.filter(o=>Or(o)===t);return e.push(...i.filter(o=>Or(o)!==t)),e}const Og={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function qd(i,t,e){var o;if(""===t.path)return"full"===t.pathMatch&&(i.hasChildren()||e.length>0)?Object.assign({},Og):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(t.matcher||Su)(e,i,t);if(!c)return Object.assign({},Og);const f={};pn(c.posParams,(_,w)=>{f[w]=_.path});const m=c.consumed.length>0?Object.assign(Object.assign({},f),c.consumed[c.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:m,positionalParamSegments:null!==(o=c.posParams)&&void 0!==o?o:{}}}function Lu(i,t,e,o,a="corrected"){if(e.length>0&&function(i,t,e){return e.some(o=>tl(i,t,o)&&Or(o)!==it)}(i,e,o)){const f=new ht(t,function(i,t,e,o){const a={};a[it]=o,o._sourceSegment=i,o._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&Or(c)!==it){const f=new ht([],{});f._sourceSegment=i,f._segmentIndexShift=t.length,a[Or(c)]=f}return a}(i,t,o,new ht(e,i.children)));return f._sourceSegment=i,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:[]}}if(0===e.length&&function(i,t,e){return e.some(o=>tl(i,t,o))}(i,e,o)){const f=new ht(i.segments,function(i,t,e,o,a,c){const f={};for(const m of o)if(tl(i,e,m)&&!a[Or(m)]){const _=new ht([],{});_._sourceSegment=i,_._segmentIndexShift="legacy"===c?i.segments.length:t.length,f[Or(m)]=_}return Object.assign(Object.assign({},a),f)}(i,t,e,o,i.children,a));return f._sourceSegment=i,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:e}}const c=new ht(i.segments,i.children);return c._sourceSegment=i,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function tl(i,t,e){return(!(i.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Fg(i,t,e,o){return!!(Or(i)===o||o!==it&&tl(t,e,i))&&("**"===i.path||qd(t,i,e).matched)}function qb(i,t,e){return 0===t.length&&!i.children[e]}class Yd{constructor(t){this.segmentGroup=t||null}}class kg{constructor(t){this.urlTree=t}}function xs(i){return new nn.y(t=>t.error(new Yd(i)))}function Yb(i){return new nn.y(t=>t.error(new kg(i)))}function NT(i){return new nn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class LT{constructor(t,e,o,a,c){this.configLoader=e,this.urlSerializer=o,this.urlTree=a,this.config=c,this.allowRedirects=!0,this.ngModule=t.get(h.h0i)}apply(){const t=Lu(this.urlTree.root,[],[],this.config).segmentGroup,e=new ht(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,it).pipe((0,Qe.U)(c=>this.createUrlTree(Ng(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Cs(c=>{if(c instanceof kg)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Yd?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,it).pipe((0,Qe.U)(a=>this.createUrlTree(Ng(a),t.queryParams,t.fragment))).pipe(Cs(a=>{throw a instanceof Yd?this.noMatchError(a):a}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,o){const a=t.segments.length>0?new ht([],{[it]:t}):t;return new qa(a,e,o)}expandSegmentGroup(t,e,o,a){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(t,e,o).pipe((0,Qe.U)(c=>new ht([],c))):this.expandSegment(t,o,e,o.segments,a,!0)}expandChildren(t,e,o){const a=[];for(const c of Object.keys(o.children))"primary"===c?a.unshift(c):a.push(c);return(0,Gt.D)(a).pipe(wu(c=>{const f=o.children[c],m=zb(e,c);return this.expandSegmentGroup(t,m,f,c).pipe((0,Qe.U)(_=>({segment:_,outlet:c})))}),Pd((c,f)=>(c[f.outlet]=f.segment,c),{}),function(i,t){const e=arguments.length>=2;return o=>o.pipe(i?br((a,c)=>i(a,c,o)):uT.y,ig(1),e?Sb(t):Cu(()=>new lo))}())}expandSegment(t,e,o,a,c,f){return(0,Gt.D)(o).pipe(wu(m=>this.expandSegmentAgainstRoute(t,e,o,m,a,c,f).pipe(Cs(w=>{if(w instanceof Yd)return(0,Pe.of)(null);throw w}))),En(m=>!!m),Cs((m,_)=>{if(m instanceof lo||"EmptyError"===m.name){if(qb(e,a,c))return(0,Pe.of)(new ht([],{}));throw new Yd(e)}throw m}))}expandSegmentAgainstRoute(t,e,o,a,c,f,m){return Fg(a,e,c,f)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,c,f):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,o,a,c,f):xs(e):xs(e)}expandSegmentAgainstRouteUsingRedirect(t,e,o,a,c,f){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,o,a,f):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,a,c,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,o,a){const c=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?Yb(c):this.lineralizeSegments(o,c).pipe((0,In.zg)(f=>{const m=new ht(f,{});return this.expandSegment(t,m,e,f,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,a,c,f){const{matched:m,consumedSegments:_,lastChild:w,positionalParamSegments:C}=qd(e,a,c);if(!m)return xs(e);const S=this.applyRedirectCommands(_,a.redirectTo,C);return a.redirectTo.startsWith("/")?Yb(S):this.lineralizeSegments(a,S).pipe((0,In.zg)(T=>this.expandSegment(t,e,o,T.concat(c.slice(w)),f,!1)))}matchSegmentAgainstRoute(t,e,o,a,c){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,Pe.of)(o._loadedConfig):this.configLoader.load(t.injector,o)).pipe((0,Qe.U)(T=>(o._loadedConfig=T,new ht(a,{})))):(0,Pe.of)(new ht(a,{}));const{matched:f,consumedSegments:m,lastChild:_}=qd(e,o,a);if(!f)return xs(e);const w=a.slice(_);return this.getChildConfig(t,o,a).pipe((0,In.zg)(S=>{const T=S.module,I=S.routes,{segmentGroup:F,slicedSegments:j}=Lu(e,m,w,I),q=new ht(F.segments,F.children);if(0===j.length&&q.hasChildren())return this.expandChildren(T,I,q).pipe((0,Qe.U)(xe=>new ht(m,xe)));if(0===I.length&&0===j.length)return(0,Pe.of)(new ht(m,{}));const ce=Or(o)===c;return this.expandSegment(T,q,I,j,ce?it:c,!0).pipe((0,Qe.U)(Ce=>new ht(m.concat(Ce.segments),Ce.children)))}))}getChildConfig(t,e,o){return e.children?(0,Pe.of)(new Ag(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,Pe.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,o).pipe((0,In.zg)(a=>{return a?this.configLoader.load(t.injector,e).pipe((0,Qe.U)(c=>(e._loadedConfig=c,c))):(i=e,new nn.y(t=>t.error(hg(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,Pe.of)(new Ag([],t))}runCanLoadGuards(t,e,o){const a=e.canLoad;if(!a||0===a.length)return(0,Pe.of)(!0);const c=a.map(f=>{const m=t.get(f);let _;if((i=m)&&Bo(i.canLoad))_=m.canLoad(e,o);else{if(!Bo(m))throw new Error("Invalid CanLoad guard");_=m(e,o)}var i;return Bn(_)});return(0,Pe.of)(c).pipe(Xa(),(0,Rn.b)(f=>{if(!Ja(f))return;const m=hg(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw m.url=f,m}),(0,Qe.U)(f=>!0===f))}lineralizeSegments(t,e){let o=[],a=e.root;for(;;){if(o=o.concat(a.segments),0===a.numberOfChildren)return(0,Pe.of)(o);if(a.numberOfChildren>1||!a.children[it])return NT(t.redirectTo);a=a.children[it]}}applyRedirectCommands(t,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,o)}applyRedirectCreatreUrlTree(t,e,o,a){const c=this.createSegmentGroup(t,e.root,o,a);return new qa(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const o={};return pn(t,(a,c)=>{if("string"==typeof a&&a.startsWith(":")){const m=a.substring(1);o[c]=e[m]}else o[c]=a}),o}createSegmentGroup(t,e,o,a){const c=this.createSegments(t,e.segments,o,a);let f={};return pn(e.children,(m,_)=>{f[_]=this.createSegmentGroup(t,m,o,a)}),new ht(c,f)}createSegments(t,e,o,a){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,a):this.findOrReturn(c,o))}findPosParam(t,e,o){const a=o[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return a}findOrReturn(t,e){let o=0;for(const a of e){if(a.path===t.path)return e.splice(o),a;o++}return t}}function Ng(i){const t={};for(const o of Object.keys(i.children)){const c=Ng(i.children[o]);(c.segments.length>0||c.hasChildren())&&(t[o]=c)}return function(i){if(1===i.numberOfChildren&&i.children[it]){const t=i.children[it];return new ht(i.segments.concat(t.segments),t.children)}return i}(new ht(i.segments,t))}class Vu{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class lr{constructor(t,e){this.component=t,this.route=e}}function Wb(i,t,e){const o=i._root;return Kd(o,t?t._root:null,e,[o.value])}function Wd(i,t,e){const o=function(i){if(!i)return null;for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(o?o.module.injector:e).get(i)}function Kd(i,t,e,o,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=Ou(t);return i.children.forEach(f=>{(function(i,t,e,o,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=i.value,f=t?t.value:null,m=e?e.getContext(i.value.outlet):null;if(f&&c.routeConfig===f.routeConfig){const _=function(i,t,e){if("function"==typeof e)return e(i,t);switch(e){case"pathParamsChange":return!Ms(i.url,t.url);case"pathParamsOrQueryParamsChange":return!Ms(i.url,t.url)||!_i(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$d(i,t)||!_i(i.queryParams,t.queryParams);case"paramsChange":default:return!$d(i,t)}}(f,c,c.routeConfig.runGuardsAndResolvers);_?a.canActivateChecks.push(new Vu(o)):(c.data=f.data,c._resolvedData=f._resolvedData),Kd(i,t,c.component?m?m.children:null:e,o,a),_&&m&&m.outlet&&m.outlet.isActivated&&a.canDeactivateChecks.push(new lr(m.outlet.component,f))}else f&&Bu(t,m,a),a.canActivateChecks.push(new Vu(o)),Kd(i,null,c.component?m?m.children:null:e,o,a)})(f,c[f.value.outlet],e,o.concat([f.value]),a),delete c[f.value.outlet]}),pn(c,(f,m)=>Bu(f,e.getContext(m),a)),a}function Bu(i,t,e){const o=Ou(i),a=i.value;pn(o,(c,f)=>{Bu(c,a.component?t?t.children.getContext(f):null:t,e)}),e.canDeactivateChecks.push(new lr(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}class Pg{}function Qd(i){return new nn.y(t=>t.error(i))}class Zb{constructor(t,e,o,a,c,f){this.rootComponentType=t,this.config=e,this.urlTree=o,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=f}recognize(){const t=Lu(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,it);if(null===e)return null;const o=new Gd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},it,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new yo(o,e),c=new Ka(this.url,a);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(t){const e=t.value,o=Pb(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,o)}processChildren(t,e){const o=[];for(const c of Object.keys(e.children)){const f=e.children[c],m=zb(t,c),_=this.processSegmentGroup(m,f,c);if(null===_)return null;o.push(..._)}const a=Jd(o);return a.sort((t,e)=>t.value.outlet===it?-1:e.value.outlet===it?1:t.value.outlet.localeCompare(e.value.outlet)),a}processSegment(t,e,o,a){for(const c of t){const f=this.processSegmentAgainstRoute(c,e,o,a);if(null!==f)return f}return qb(e,o,a)?[]:null}processSegmentAgainstRoute(t,e,o,a){if(t.redirectTo||!Fg(t,e,o,a))return null;let c,f=[],m=[];if("**"===t.path){const I=o.length>0?Ss(o).parameters:{};c=new Gd(o,I,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Os(t),Or(t),t.component,t,Lg(e),zT(e)+o.length,Zd(t))}else{const I=qd(e,t,o);if(!I.matched)return null;f=I.consumedSegments,m=o.slice(I.lastChild),c=new Gd(f,I.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Os(t),Or(t),t.component,t,Lg(e),zT(e)+f.length,Zd(t))}const _=(i=t).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:w,slicedSegments:C}=Lu(e,f,m,_.filter(I=>void 0===I.redirectTo),this.relativeLinkResolution);var i;if(0===C.length&&w.hasChildren()){const I=this.processChildren(_,w);return null===I?null:[new yo(c,I)]}if(0===_.length&&0===C.length)return[new yo(c,[])];const S=Or(t)===a,T=this.processSegment(_,w,C,S?it:a);return null===T?null:[new yo(c,T)]}}function ew(i){const t=i.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Jd(i){const t=[],e=new Set;for(const o of i){if(!ew(o)){t.push(o);continue}const a=t.find(c=>o.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...o.children),e.add(a)):t.push(o)}for(const o of e){const a=Jd(o.children);t.push(new yo(o.value,a))}return t.filter(o=>!e.has(o))}function Lg(i){let t=i;for(;t._sourceSegment;)t=t._sourceSegment;return t}function zT(i){let t=i,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Os(i){return i.data||{}}function Zd(i){return i.resolve||{}}function Bg(i){return Jn(t=>{const e=i(t);return e?(0,Gt.D)(e).pipe((0,Qe.U)(()=>t)):(0,Pe.of)(t)})}class QT extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Xd=new h.OlP("ROUTES");class eh{constructor(t,e,o,a){this.loader=t,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=a}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe((0,Qe.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e);const f=c.create(t);return new Ag(gT(f.injector.get(Xd,void 0,h.XFs.Self|h.XFs.Optional)).map(xg),f)}),Cs(c=>{throw e._loader$=void 0,c}));return e._loader$=new hF.c(a,()=>new rt.xQ).pipe((0,Ua.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,Gt.D)(this.loader.load(t)):Bn(t()).pipe((0,In.zg)(e=>e instanceof h.YKP?(0,Pe.of)(e):(0,Gt.D)(this.compiler.compileModuleAsync(e))))}}class rw{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new jo,this.attachRef=null}}class jo{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const o=this.getOrCreateContext(t);o.outlet=e,this.contexts.set(t,o)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new rw,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class ZT{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function iw(i){throw i}function ow(i,t,e){return t.parse("/")}function Uo(i,t){return(0,Pe.of)(null)}const sw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wr=(()=>{class i{constructor(e,o,a,c,f,m,_,w){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=a,this.location=c,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new rt.xQ,this.errorHandler=iw,this.malformedUriErrorHandler=ow,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Uo,afterPreactivation:Uo},this.urlHandlingStrategy=new ZT,this.routeReuseStrategy=new QT,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(h.h0i),this.console=f.get(h.c2e);const T=f.get(h.R0b);this.isNgZoneEnabled=T instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=new qa(new ht([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new eh(m,_,I=>this.triggerEvent(new Mb(I)),I=>this.triggerEvent(new Ab(I))),this.routerState=Nb(this.currentUrlTree,this.rootComponentType),this.transitions=new vr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe(br(a=>0!==a.id),(0,Qe.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Jn(a=>{let c=!1,f=!1;return(0,Pe.of)(a).pipe((0,Rn.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Jn(m=>{const _=!this.navigated||m.extractedUrl.toString()!==this.browserUrlTree.toString(),w=("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl);if(nh(m.source)&&(this.browserUrlTree=m.rawUrl),w)return(0,Pe.of)(m).pipe(Jn(C=>{const S=this.transitions.getValue();return o.next(new sg(C.id,this.serializeUrl(C.extractedUrl),C.source,C.restoredState)),S!==this.transitions.getValue()?yi.E:Promise.resolve(C)}),function(i,t,e,o){return Jn(a=>function(i,t,e,o,a){return new LT(i,t,e,o,a).apply()}(i,t,e,a.extractedUrl,o).pipe((0,Qe.U)(c=>Object.assign(Object.assign({},a),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Rn.b)(C=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:C.urlAfterRedirects})}),function(i,t,e,o,a){return(0,In.zg)(c=>function(i,t,e,o,a="emptyOnly",c="legacy"){try{const f=new Zb(i,t,e,o,a,c).recognize();return null===f?Qd(new Pg):(0,Pe.of)(f)}catch(f){return Qd(f)}}(i,t,c.urlAfterRedirects,e(c.urlAfterRedirects),o,a).pipe((0,Qe.U)(f=>Object.assign(Object.assign({},c),{targetSnapshot:f}))))}(this.rootComponentType,this.config,C=>this.serializeUrl(C),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Rn.b)(C=>{"eager"===this.urlUpdateStrategy&&(C.extras.skipLocationChange||this.setBrowserUrl(C.urlAfterRedirects,C),this.browserUrlTree=C.urlAfterRedirects);const S=new Vd(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);o.next(S)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:S,extractedUrl:T,source:I,restoredState:F,extras:j}=m,q=new sg(S,this.serializeUrl(T),I,F);o.next(q);const ce=Nb(T,this.rootComponentType).snapshot;return(0,Pe.of)(Object.assign(Object.assign({},m),{targetSnapshot:ce,urlAfterRedirects:T,extras:Object.assign(Object.assign({},j),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,this.browserUrlTree=m.urlAfterRedirects,m.resolve(null),yi.E}),Bg(m=>{const{targetSnapshot:_,id:w,extractedUrl:C,rawUrl:S,extras:{skipLocationChange:T,replaceUrl:I}}=m;return this.hooks.beforePreactivation(_,{navigationId:w,appliedUrlTree:C,rawUrlTree:S,skipLocationChange:!!T,replaceUrl:!!I})}),(0,Rn.b)(m=>{const _=new bF(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(_)}),(0,Qe.U)(m=>Object.assign(Object.assign({},m),{guards:Wb(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function(i,t){return(0,In.zg)(e=>{const{targetSnapshot:o,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:f}}=e;return 0===f.length&&0===c.length?(0,Pe.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(i,t,e,o){return(0,Gt.D)(i).pipe((0,In.zg)(a=>function(i,t,e,o,a){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,Pe.of)(!0);const f=c.map(m=>{const _=Wd(m,t,a);let w;if(function(i){return i&&Bo(i.canDeactivate)}(_))w=Bn(_.canDeactivate(i,t,e,o));else{if(!Bo(_))throw new Error("Invalid CanDeactivate guard");w=Bn(_(i,t,e,o))}return w.pipe(En())});return(0,Pe.of)(f).pipe(Xa())}(a.component,a.route,e,t,o)),En(a=>!0!==a,!0))}(f,o,a,i).pipe((0,In.zg)(m=>m&&function(i){return"boolean"==typeof i}(m)?function(i,t,e,o){return(0,Gt.D)(t).pipe(wu(a=>ws(function(i,t){return null!==i&&t&&t(new hT(i)),(0,Pe.of)(!0)}(a.route.parent,o),function(i,t){return null!==i&&t&&t(new wF(i)),(0,Pe.of)(!0)}(a.route,o),function(i,t,e){const o=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(f=>function(i){const t=i.routeConfig?i.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:i,guards:t}:null}(f)).filter(f=>null!==f).map(f=>co(()=>{const m=f.guards.map(_=>{const w=Wd(_,f.node,e);let C;if(function(i){return i&&Bo(i.canActivateChild)}(w))C=Bn(w.canActivateChild(o,i));else{if(!Bo(w))throw new Error("Invalid CanActivateChild guard");C=Bn(w(o,i))}return C.pipe(En())});return(0,Pe.of)(m).pipe(Xa())}));return(0,Pe.of)(c).pipe(Xa())}(i,a.path,e),function(i,t,e){const o=t.routeConfig?t.routeConfig.canActivate:null;if(!o||0===o.length)return(0,Pe.of)(!0);const a=o.map(c=>co(()=>{const f=Wd(c,t,e);let m;if(function(i){return i&&Bo(i.canActivate)}(f))m=Bn(f.canActivate(t,i));else{if(!Bo(f))throw new Error("Invalid CanActivate guard");m=Bn(f(t,i))}return m.pipe(En())}));return(0,Pe.of)(a).pipe(Xa())}(i,a.route,e))),En(a=>!0!==a,!0))}(o,c,i,t):(0,Pe.of)(m)),(0,Qe.U)(m=>Object.assign(Object.assign({},e),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Rn.b)(m=>{if(Ja(m.guardsResult)){const w=hg(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw w.url=m.guardsResult,w}const _=new Du(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(_)}),br(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),Bg(m=>{if(m.guards.canActivateChecks.length)return(0,Pe.of)(m).pipe((0,Rn.b)(_=>{const w=new lg(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),Jn(_=>{let w=!1;return(0,Pe.of)(_).pipe(function(i,t){return(0,In.zg)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:a}}=e;if(!a.length)return(0,Pe.of)(e);let c=0;return(0,Gt.D)(a).pipe(wu(f=>function(i,t,e,o){return function(i,t,e,o){const a=Object.keys(i);if(0===a.length)return(0,Pe.of)({});const c={};return(0,Gt.D)(a).pipe((0,In.zg)(f=>function(i,t,e,o){const a=Wd(i,t,o);return Bn(a.resolve?a.resolve(t,e):a(t,e))}(i[f],t,e,o).pipe((0,Rn.b)(m=>{c[f]=m}))),ig(1),(0,In.zg)(()=>Object.keys(c).length===a.length?(0,Pe.of)(c):yi.E))}(i._resolve,i,t,o).pipe((0,Qe.U)(c=>(i._resolvedData=c,i.data=Object.assign(Object.assign({},i.data),Pb(i,e).resolve),null)))}(f.route,o,i,t)),(0,Rn.b)(()=>c++),ig(1),(0,In.zg)(f=>c===a.length?(0,Pe.of)(e):yi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Rn.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,Rn.b)(_=>{const w=new Ga(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),Bg(m=>{const{targetSnapshot:_,id:w,extractedUrl:C,rawUrl:S,extras:{skipLocationChange:T,replaceUrl:I}}=m;return this.hooks.afterPreactivation(_,{navigationId:w,appliedUrlTree:C,rawUrlTree:S,skipLocationChange:!!T,replaceUrl:!!I})}),(0,Qe.U)(m=>{const _=function(i,t,e){const o=Fu(i,t._root,e?e._root:void 0);return new wg(o,t)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:_})}),(0,Rn.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((i,t,e)=>(0,Qe.U)(o=>(new Hb(t,o.targetRouterState,o.currentRouterState,e).activate(i),o)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Rn.b)({next(){c=!0},complete(){c=!0}}),og(()=>{if(!c&&!f){const m=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,m)):this.cancelNavigationTransition(a,m)}this.currentNavigation=null}),Cs(m=>{if(f=!0,function(i){return i&&i[dg]}(m)){const _=Ja(m.url);_||(this.navigated=!0,this.restoreHistory(a,!0));const w=new Ha(a.id,this.serializeUrl(a.extractedUrl),m.message);o.next(w),_?setTimeout(()=>{const C=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),S={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||nh(a.source)};this.scheduleNavigation(C,"imperative",null,S,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const _=new ag(a.id,this.serializeUrl(a.extractedUrl),m);o.next(_);try{a.resolve(this.errorHandler(m))}catch(w){a.reject(w)}}return yi.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:a,state:c,urlTree:f}=o,m={replaceUrl:!0};if(c){const _=Object.assign({},c);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(m.state=_)}this.scheduleNavigation(f,a,c,m)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(e){var o;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(o=e.state)||void 0===o?void 0:o.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,o){if(!e)return!0;const a=o.urlTree.toString()===e.urlTree.toString();return o.transitionId!==e.transitionId||!a||!("hashchange"===o.source&&"popstate"===e.source||"popstate"===o.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){el(e),this.config=e.map(xg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:a,queryParams:c,fragment:f,queryParamsHandling:m,preserveFragment:_}=o,w=a||this.routerState.root,C=_?this.currentUrlTree.fragment:f;let S=null;switch(m){case"merge":S=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=c||null}return null!==S&&(S=this.removeEmptyProps(S)),function(i,t,e,o,a){if(0===e.length)return Vb(t.root,t.root,t,o,a);const c=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new Eg(!0,0,i);let t=0,e=!1;const o=i.reduce((a,c,f)=>{if("object"==typeof c&&null!=c){if(c.outlets){const m={};return pn(c.outlets,(_,w)=>{m[w]="string"==typeof _?_.split("/"):_}),[...a,{outlets:m}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===f?(c.split("/").forEach((m,_)=>{0==_&&"."===m||(0==_&&""===m?e=!0:".."===m?t++:""!=m&&a.push(m))}),a):[...a,c]},[]);return new Eg(e,t,o)}(e);if(c.toRoot())return Vb(t.root,new ht([],{}),t,o,a);const f=function(i,t,e){if(i.isAbsolute)return new Dg(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const c=e.snapshot._urlSegment;return new Dg(c,c===t.root,0)}const o=Qa(i.commands[0])?0:1;return function(i,t,e){let o=i,a=t,c=e;for(;c>a;){if(c-=a,o=o.parent,!o)throw new Error("Invalid number of '../'");a=o.segments.length}return new Dg(o,!1,a-c)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+o,i.numberOfDoubleDots)}(c,t,i),m=f.processChildren?Nu(f.segmentGroup,f.index,c.commands):ku(f.segmentGroup,f.index,c.commands);return Vb(f.segmentGroup,m,t,o,a)}(w,this.currentUrlTree,e,S,null!=C?C:null)}navigateByUrl(e,o={skipLocationChange:!1}){const a=Ja(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function(i){for(let t=0;t<i.length;t++){const e=i[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(a){o=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return o}isActive(e,o){let a;if(a=!0===o?Object.assign({},sw):!1===o?Object.assign({},aw):o,Ja(e))return Tu(this.currentUrlTree,e,a);const c=this.parseUrl(e);return Tu(this.currentUrlTree,c,a)}removeEmptyProps(e){return Object.keys(e).reduce((o,a)=>{const c=e[a];return null!=c&&(o[a]=c),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Eu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,o,a,c,f){var m,_;if(this.disposed)return Promise.resolve(!1);const w=this.getTransition(),C=nh(o)&&w&&!nh(w.source),I=(this.lastSuccessfulId===w.id||this.currentNavigation?w.rawUrl:w.urlAfterRedirects).toString()===e.toString();if(C&&I)return Promise.resolve(!0);let F,j,q;f?(F=f.resolve,j=f.reject,q=f.promise):q=new Promise((Ce,xe)=>{F=Ce,j=xe});const ce=++this.navigationId;let ve;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),ve=a&&a.\u0275routerPageId?a.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):ve=0,this.setTransition({id:ce,targetPageId:ve,source:o,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:F,reject:j,promise:q,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),q.catch(Ce=>Promise.reject(Ce))}setBrowserUrl(e,o){const a=this.urlSerializer.serialize(e),c=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(a)||o.extras.replaceUrl?this.location.replaceState(a,"",c):this.location.go(a,"",c)}restoreHistory(e,o=!1){var a,c;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===f?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===f&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o){const a=new Ha(e.id,this.serializeUrl(e.extractedUrl),o);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(h.DyG),h.LFG(pg),h.LFG(jo),h.LFG(lt),h.LFG(h.zs3),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(void 0))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();function nh(i){return"imperative"!==i}let Uu=(()=>{class i{constructor(e,o,a,c,f){this.parentContexts=e,this.location=o,this.resolver=a,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.name=c||it,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const f=(o=o||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,_=new oh(e,m,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(jo),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},i.\u0275dir=h.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class oh{constructor(t,e,o){this.route=t,this.childContexts=e,this.parent=o}get(t,e){return t===Wa?this.route:t===jo?this.childContexts:this.parent.get(t,e)}}class Ug{}class Gg{preload(t,e){return(0,Pe.of)(null)}}let sh=(()=>{class i{constructor(e,o,a,c,f){this.router=e,this.injector=c,this.preloadingStrategy=f,this.loader=new eh(o,a,w=>e.triggerEvent(new Mb(w)),w=>e.triggerEvent(new Ab(w)))}setUpPreloading(){this.subscription=this.router.events.pipe(br(e=>e instanceof Eu),wu(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(h.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const a=[];for(const c of o)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const f=c._loadedConfig;a.push(this.processRoutes(f.module,f.routes))}else c.loadChildren&&!c.canLoad?a.push(this.preloadConfig(e,c)):c.children&&a.push(this.processRoutes(e,c.children));return(0,Gt.D)(a).pipe((0,uo.J)(),(0,Qe.U)(c=>{}))}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,Pe.of)(o._loadedConfig):this.loader.load(e.injector,o)).pipe((0,In.zg)(c=>(o._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(wr),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(Ug))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})(),ks=(()=>{class i{constructor(e,o,a={}){this.router=e,this.viewportScroller=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof sg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Eu&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof za&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new za(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(wr),h.LFG(Gp),h.LFG(void 0))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();const Ho=new h.OlP("ROUTER_CONFIGURATION"),uw=new h.OlP("ROUTER_FORROOT_GUARD"),cw=[lt,{provide:pg,useClass:Au},{provide:wr,useFactory:function(i,t,e,o,a,c,f,m={},_,w){const C=new wr(null,i,t,e,o,a,c,gT(f));return _&&(C.urlHandlingStrategy=_),w&&(C.routeReuseStrategy=w),function(i,t){i.errorHandler&&(t.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(t.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(t.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(t.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(t.urlUpdateStrategy=i.urlUpdateStrategy)}(m,C),m.enableTracing&&C.events.subscribe(S=>{var T,I;null===(T=console.group)||void 0===T||T.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(I=console.groupEnd)||void 0===I||I.call(console)}),C},deps:[pg,jo,lt,h.zs3,h.v3s,h.Sil,Xd,Ho,[class{},new h.FiY],[class{},new h.FiY]]},jo,{provide:Wa,useFactory:function(i){return i.routerState.root},deps:[wr]},{provide:h.v3s,useClass:h.EAV},sh,Gg,class{preload(t,e){return e().pipe(Cs(()=>(0,Pe.of)(null)))}},{provide:Ho,useValue:{enableTracing:!1}}];function zg(){return new h.PXZ("Router",wr)}let $g=(()=>{class i{constructor(e,o){}static forRoot(e,o){return{ngModule:i,providers:[cw,qg(e),{provide:uw,useFactory:eM,deps:[[wr,new h.FiY,new h.tp0]]},{provide:Ho,useValue:o||{}},{provide:Te,useFactory:dw,deps:[W,[new h.tBr(Me),new h.FiY],Ho]},{provide:ks,useFactory:xF,deps:[wr,Gp,Ho]},{provide:Ug,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:Gg},{provide:h.PXZ,multi:!0,useFactory:zg},[Yg,{provide:h.ip1,multi:!0,useFactory:hw,deps:[Yg]},{provide:fw,useFactory:rM,deps:[Yg]},{provide:h.tb,multi:!0,useExisting:fw}]]}}static forChild(e){return{ngModule:i,providers:[qg(e)]}}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(uw,8),h.LFG(wr,8))},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({}),i})();function xF(i,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new ks(i,t,e)}function dw(i,t,e={}){return e.useHash?new ln(i,t):new bt(i,t)}function eM(i){return"guarded"}function qg(i){return[{provide:h.deG,multi:!0,useValue:i},{provide:Xd,multi:!0,useValue:i}]}let Yg=(()=>{class i{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new rt.xQ}appInitializer(){return this.injector.get(k,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const a=new Promise(m=>o=m),c=this.injector.get(wr),f=this.injector.get(Ho);return"disabled"===f.initialNavigation?(c.setUpLocationChangeListener(),o(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?(0,Pe.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),c.initialNavigation()):o(!0),a})}bootstrapListener(e){const o=this.injector.get(Ho),a=this.injector.get(sh),c=this.injector.get(ks),f=this.injector.get(wr),m=this.injector.get(h.z2F);e===m.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&f.initialNavigation(),a.setUpPreloading(),c.init(),f.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(h.zs3))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();function hw(i){return i.appInitializer.bind(i)}function rM(i){return i.bootstrapListener.bind(i)}const fw=new h.OlP("Router Initializer"),pw=[];let oM=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[$g.forRoot(pw)],$g]}),i})();function sn(i){return null!=i&&"false"!=`${i}`}function Wg(i){return Array.isArray(i)?i:[i]}function dn(i){return null==i?"":"string"==typeof i?i:`${i}px`}function Wr(i){return i instanceof h.SBq?i.nativeElement:i}var gw=P(9105);function Ps(i,t,e,o){return(0,gw.m)(e)&&(o=e,e=void 0),o?Ps(i,t,e).pipe((0,Qe.U)(a=>(0,vu.k)(a)?o(...a):o(a))):new nn.y(a=>{Bi(i,t,function(f){a.next(arguments.length>1?Array.prototype.slice.call(arguments):f)},a,e)})}function Bi(i,t,e,o,a){let c;if(function(i){return i&&"function"==typeof i.addEventListener&&"function"==typeof i.removeEventListener}(i)){const f=i;i.addEventListener(t,e,a),c=()=>f.removeEventListener(t,e,a)}else if(function(i){return i&&"function"==typeof i.on&&"function"==typeof i.off}(i)){const f=i;i.on(t,e),c=()=>f.off(t,e)}else if(function(i){return i&&"function"==typeof i.addListener&&"function"==typeof i.removeListener}(i)){const f=i;i.addListener(t,e),c=()=>f.removeListener(t,e)}else{if(!i||!i.length)throw new TypeError("Invalid event target");for(let f=0,m=i.length;f<m;f++)Bi(i[f],t,e,o,a)}o.add(c)}var kF=P(6465),NF=P(6102);new class extends NF.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let o,a=-1,c=e.length;t=t||e.shift();do{if(o=t.execute(t.state,t.delay))break}while(++a<c&&(t=e.shift()));if(this.active=!1,o){for(;++a<c&&(t=e.shift());)t.unsubscribe();throw o}}}(class extends kF.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,o=0){return null!==o&&o>0?super.requestAsyncId(t,e,o):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,o=0){if(null!==o&&o>0||null===o&&this.delay>0)return super.recycleAsyncId(t,e,o);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});P(4581);function Xg(i,t){return e=>e.lift(new vw(i,t))}class vw{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new PF(t,this.compare,this.keySelector))}}class PF extends sr.L{constructor(t,e,o){super(t),this.keySelector=o,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:a}=this;e=a?a(t):t}catch(a){return this.destination.error(a)}let o=!1;if(this.hasKey)try{const{compare:a}=this;o=a(this.key,e)}catch(a){return this.destination.error(a)}else this.hasKey=!0;o||(this.key=e,this.destination.next(t))}}var lh=P(3637);class bw{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new ww(t,this.durationSelector))}}class ww extends qr.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:a}=this;e=a(t)}catch(a){return this.destination.error(a)}const o=(0,qr.ft)(e,new qr.IY(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}}clearThrottle(){const{value:t,hasValue:e,throttled:o}=this;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Cw=P(6561);function VF(i){const{index:t,period:e,subscriber:o}=i;if(o.next(t),!o.closed){if(-1===e)return o.complete();i.index=t+1,this.schedule(i,e)}}function tm(i,t=lh.P){return function(i){return function(e){return e.lift(new bw(i))}}(()=>function(i=0,t,e){let o=-1;return(0,Cw.k)(t)?o=Number(t)<1?1:Number(t):(0,_u.K)(t)&&(e=t),(0,_u.K)(e)||(e=lh.P),new nn.y(a=>{const c=(0,Cw.k)(i)?i:+i-e.now();return e.schedule(VF,c,{index:0,period:o,subscriber:a})})}(i,t))}function Kr(i){return t=>t.lift(new BF(i))}class BF{constructor(t){this.notifier=t}call(t,e){const o=new jF(t),a=(0,qr.ft)(this.notifier,new qr.IY(o));return a&&!o.seenValue?(o.add(a),e.subscribe(o)):o}}class jF extends qr.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function nm(){return i=>i.lift(new UF)}class UF{call(t,e){return e.subscribe(new HF(t))}}class HF extends sr.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}P(7771);var Ls=P(6136);let Hu;P(8858);try{Hu="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){Hu=!1}let il,Ot=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(i){return"browser"===i}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Hu)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(h.Lbi))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(h.Lbi))},token:i,providedIn:"root"}),i})(),Vs=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({}),i})();const vo=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function om(){if(il)return il;if("object"!=typeof document||!document)return il=new Set(vo),il;let i=document.createElement("input");return il=new Set(vo.filter(t=>(i.setAttribute("type",t),i.type===t))),il}let Gu,zo,Bs;function ol(i){return function(){if(null==Gu&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Gu=!0}))}finally{Gu=Gu||!1}return Gu}()?i:!!i.capture}function Dw(){if(null==zo){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return zo=!1,zo;if("scrollBehavior"in document.documentElement.style)zo=!0;else{const i=Element.prototype.scrollTo;zo=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return zo}function bo(){let i="undefined"!=typeof document&&document?document.activeElement:null;for(;i&&i.shadowRoot;){const t=i.shadowRoot.activeElement;if(t===i)break;i=t}return i}function ji(i){return i.composedPath?i.composedPath()[0]:i.target}const js=new h.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,h.f3M)(J)}});let Ui=(()=>{class i{constructor(e){if(this.value="ltr",this.change=new h.vpe,e){const a=e.documentElement?e.documentElement.dir:null,c=(e.body?e.body.dir:null)||a;this.value="ltr"===c||"rtl"===c?c:"ltr"}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(js,8))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(js,8))},token:i,providedIn:"root"}),i})(),Us=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({}),i})();function $u(i){return i&&"function"==typeof i.connect}class Sw{applyChanges(t,e,o,a,c){t.forEachOperation((f,m,_)=>{let w,C;if(null==f.previousIndex){const S=o(f,m,_);w=e.createEmbeddedView(S.templateRef,S.context,S.index),C=1}else null==_?(e.remove(m),C=3):(w=e.get(m),e.move(w,_),C=2);c&&c({context:null==w?void 0:w.context,operation:C,record:f})})}detach(){}}const Hs=new h.OlP("_ViewRepeater");let lm=(()=>{class i{constructor(e,o,a){this._ngZone=e,this._platform=o,this._scrolled=new rt.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const o=this.scrollContainers.get(e);o&&(o.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new nn.y(o=>{this._globalSubscription||this._addGlobalListener();const a=e>0?this._scrolled.pipe(tm(e)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Pe.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(e,o){const a=this.getAncestorScrollContainers(e);return this.scrolled(o).pipe(br(c=>!c||a.indexOf(c)>-1))}getAncestorScrollContainers(e){const o=[];return this.scrollContainers.forEach((a,c)=>{this._scrollableContainsElement(c,e)&&o.push(c)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,o){let a=Wr(o),c=e.getElementRef().nativeElement;do{if(a==c)return!0}while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ps(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(h.R0b),h.LFG(Ot),h.LFG(J,8))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(h.R0b),h.LFG(Ot),h.LFG(J,8))},token:i,providedIn:"root"}),i})(),al=(()=>{class i{constructor(e,o,a){this._platform=e,this._change=new rt.xQ,this._changeListener=c=>{this._change.next(c)},this._document=a,o.runOutsideAngular(()=>{if(e.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:o,height:a}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+a,right:e.left+o,height:a,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,o=this._getWindow(),a=e.documentElement,c=a.getBoundingClientRect();return{top:-c.top||e.body.scrollTop||o.scrollY||a.scrollTop||0,left:-c.left||e.body.scrollLeft||o.scrollX||a.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(tm(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(Ot),h.LFG(h.R0b),h.LFG(J,8))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(Ot),h.LFG(h.R0b),h.LFG(J,8))},token:i,providedIn:"root"}),i})(),dm=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({}),i})(),hm=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[Us,Vs,dm],Us,dm]}),i})();class Qr{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class qu extends Qr{constructor(t,e,o,a){super(),this.component=t,this.viewContainerRef=e,this.injector=o,this.componentFactoryResolver=a}}class hh extends Qr{constructor(t,e,o){super(),this.templateRef=t,this.viewContainerRef=e,this.context=o}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class mM extends Qr{constructor(t){super(),this.element=t instanceof h.SBq?t.nativeElement:t}}class Rw{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof qu?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof hh?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof mM?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class _M extends Rw{constructor(t,e,o,a,c){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=o,this._defaultInjector=a,this.attachDomPortal=f=>{const m=f.element,_=this._document.createComment("dom-portal");m.parentNode.insertBefore(_,m),this.outletElement.appendChild(m),this._attachedPortal=f,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(m,_)})},this._document=c}attachComponentPortal(t){const o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let a;return t.viewContainerRef?(a=t.viewContainerRef.createComponent(o,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>a.destroy())):(a=o.create(t.injector||this._defaultInjector),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.detachView(a.hostView),a.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(a)),this._attachedPortal=t,a}attachTemplatePortal(t){let e=t.viewContainerRef,o=e.createEmbeddedView(t.templateRef,t.context);return o.rootNodes.forEach(a=>this.outletElement.appendChild(a)),o.detectChanges(),this.setDisposeFn(()=>{let a=e.indexOf(o);-1!==a&&e.remove(a)}),this._attachedPortal=t,o}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let fh=(()=>{class i extends Rw{constructor(e,o,a){super(),this._componentFactoryResolver=e,this._viewContainerRef=o,this._isInitialized=!1,this.attached=new h.vpe,this.attachDomPortal=c=>{const f=c.element,m=this._document.createComment("dom-portal");c.setAttachedHost(this),f.parentNode.insertBefore(m,f),this._getRootNode().appendChild(f),this._attachedPortal=c,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(f,m)})},this._document=a}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const o=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,c=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),f=o.createComponent(c,o.length,e.injector||o.injector);return o!==this._viewContainerRef&&this._getRootNode().appendChild(f.hostView.rootNodes[0]),super.setDisposeFn(()=>f.destroy()),this._attachedPortal=e,this._attachedRef=f,this.attached.emit(f),f}attachTemplatePortal(e){e.setAttachedHost(this);const o=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h._Vd),h.Y36(h.s_b),h.Y36(J))},i.\u0275dir=h.lG2({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[h.qOj]}),i})(),Yu=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({}),i})();var fm=P(6682);const Gs=Dw();class Qw{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=dn(-this._previousScrollPosition.left),t.style.top=dn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,o=t.style,a=this._document.body.style,c=o.scrollBehavior||"",f=a.scrollBehavior||"";this._isEnabled=!1,o.left=this._previousHTMLStyles.left,o.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Gs&&(o.scrollBehavior=a.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Gs&&(o.scrollBehavior=c,a.scrollBehavior=f)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,o=this._viewportRuler.getViewportSize();return e.scrollHeight>o.height||e.scrollWidth>o.width}}class Jw{constructor(t,e,o,a){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=o,this._config=a,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class _m{enable(){}disable(){}attach(){}}function bh(i,t){return t.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function vm(i,t){return t.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class Zw{constructor(t,e,o,a){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=o,this._config=a,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:o,height:a}=this._viewportRuler.getViewportSize();bh(e,[{width:o,height:a,bottom:a,right:o,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Xw=(()=>{class i{constructor(e,o,a,c){this._scrollDispatcher=e,this._viewportRuler=o,this._ngZone=a,this.noop=()=>new _m,this.close=f=>new Jw(this._scrollDispatcher,this._ngZone,this._viewportRuler,f),this.block=()=>new Qw(this._viewportRuler,this._document),this.reposition=f=>new Zw(this._scrollDispatcher,this._viewportRuler,this._ngZone,f),this._document=c}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(lm),h.LFG(al),h.LFG(h.R0b),h.LFG(J))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(lm),h.LFG(al),h.LFG(h.R0b),h.LFG(J))},token:i,providedIn:"root"}),i})();class wh{constructor(t){if(this.scrollStrategy=new _m,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const o of e)void 0!==t[o]&&(this[o]=t[o])}}}class YM{constructor(t,e,o,a,c){this.offsetX=o,this.offsetY=a,this.panelClass=c,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class KM{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let eC=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const o=this._attachedOverlays.indexOf(e);o>-1&&this._attachedOverlays.splice(o,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(J))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(J))},token:i,providedIn:"root"}),i})(),Vk=(()=>{class i extends eC{constructor(e){super(e),this._keydownListener=o=>{const a=this._attachedOverlays;for(let c=a.length-1;c>-1;c--)if(a[c]._keydownEvents.observers.length>0){a[c]._keydownEvents.next(o);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(J))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(J))},token:i,providedIn:"root"}),i})(),JM=(()=>{class i extends eC{constructor(e,o){super(e),this._platform=o,this._cursorStyleIsSet=!1,this._clickListener=a=>{const c=ji(a),f=this._attachedOverlays.slice();for(let m=f.length-1;m>-1;m--){const _=f[m];if(!(_._outsidePointerEvents.observers.length<1)&&_.hasAttached()){if(_.overlayElement.contains(c))break;_._outsidePointerEvents.next(a)}}}}add(e){if(super.add(e),!this._isAttached){const o=this._document.body;o.addEventListener("click",this._clickListener,!0),o.addEventListener("auxclick",this._clickListener,!0),o.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(J),h.LFG(Ot))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(J),h.LFG(Ot))},token:i,providedIn:"root"}),i})();const Co="undefined"!=typeof window?window:{},tC=void 0!==Co.__karma__&&!!Co.__karma__||void 0!==Co.jasmine&&!!Co.jasmine||void 0!==Co.jest&&!!Co.jest||void 0!==Co.Mocha&&!!Co.Mocha;let cl=(()=>{class i{constructor(e,o){this._platform=o,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||tC){const a=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let c=0;c<a.length;c++)a[c].parentNode.removeChild(a[c])}const o=this._document.createElement("div");o.classList.add(e),tC?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(J),h.LFG(Ot))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(J),h.LFG(Ot))},token:i,providedIn:"root"}),i})();class ZM{constructor(t,e,o,a,c,f,m,_,w){this._portalOutlet=t,this._host=e,this._pane=o,this._config=a,this._ngZone=c,this._keyboardDispatcher=f,this._document=m,this._location=_,this._outsideClickDispatcher=w,this._backdropElement=null,this._backdropClick=new rt.xQ,this._attachments=new rt.xQ,this._detachments=new rt.xQ,this._locationChanges=fo.w.EMPTY,this._backdropClickHandler=C=>this._backdropClick.next(C),this._keydownEvents=new rt.xQ,this._outsidePointerEvents=new rt.xQ,a.scrollStrategy&&(this._scrollStrategy=a.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=a.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ki(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=dn(this._config.width),t.height=dn(this._config.height),t.minWidth=dn(this._config.minWidth),t.minHeight=dn(this._config.minHeight),t.maxWidth=dn(this._config.maxWidth),t.maxHeight=dn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(!t)return;let e,o=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",o),t.parentNode&&t.parentNode.removeChild(t)),this._backdropElement==t&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",o)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(o,500))}_toggleClasses(t,e,o){const a=t.classList;Wg(e).forEach(c=>{c&&(o?a.add(c):a.remove(c))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Kr((0,fm.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const nC="cdk-overlay-connected-position-bounding-box",Bk=/([A-Za-z%]+)$/;class rC{constructor(t,e,o,a,c){this._viewportRuler=e,this._document=o,this._platform=a,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new rt.xQ,this._resizeSubscription=fo.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(nC),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,o=this._viewportRect,a=[];let c;for(let f of this._preferredPositions){let m=this._getOriginPoint(t,f),_=this._getOverlayPoint(m,e,f),w=this._getOverlayFit(_,e,o,f);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,m);this._canFitWithFlexibleDimensions(w,_,o)?a.push({position:f,origin:m,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(m,f)}):(!c||c.overlayFit.visibleArea<w.visibleArea)&&(c={overlayFit:w,overlayPoint:_,originPoint:m,position:f,overlayRect:e})}if(a.length){let f=null,m=-1;for(const _ of a){const w=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);w>m&&(m=w,f=_)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Yo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(nC),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let o,a;if("center"==e.originX)o=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,f=this._isRtl()?t.left:t.right;o="start"==e.originX?c:f}return a="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:o,y:a}}_getOverlayPoint(t,e,o){let a,c;return a="center"==o.overlayX?-e.width/2:"start"===o.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,c="center"==o.overlayY?-e.height/2:"top"==o.overlayY?0:-e.height,{x:t.x+a,y:t.y+c}}_getOverlayFit(t,e,o,a){const c=eA(e);let{x:f,y:m}=t,_=this._getOffset(a,"x"),w=this._getOffset(a,"y");_&&(f+=_),w&&(m+=w);let T=0-m,I=m+c.height-o.height,F=this._subtractOverflows(c.width,0-f,f+c.width-o.width),j=this._subtractOverflows(c.height,T,I),q=F*j;return{visibleArea:q,isCompletelyWithinViewport:c.width*c.height===q,fitsInViewportVertically:j===c.height,fitsInViewportHorizontally:F==c.width}}_canFitWithFlexibleDimensions(t,e,o){if(this._hasFlexibleDimensions){const a=o.bottom-e.y,c=o.right-e.x,f=XM(this._overlayRef.getConfig().minHeight),m=XM(this._overlayRef.getConfig().minWidth),w=t.fitsInViewportHorizontally||null!=m&&m<=c;return(t.fitsInViewportVertically||null!=f&&f<=a)&&w}return!1}_pushOverlayOnScreen(t,e,o){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const a=eA(e),c=this._viewportRect,f=Math.max(t.x+a.width-c.width,0),m=Math.max(t.y+a.height-c.height,0),_=Math.max(c.top-o.top-t.y,0),w=Math.max(c.left-o.left-t.x,0);let C=0,S=0;return C=a.width<=c.width?w||-f:t.x<this._viewportMargin?c.left-o.left-t.x:0,S=a.height<=c.height?_||-m:t.y<this._viewportMargin?c.top-o.top-t.y:0,this._previousPushAmount={x:C,y:S},{x:t.x+C,y:t.y+S}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const o=this._getScrollVisibility(),a=new KM(t,o);this._positionChanges.next(a)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let o,a=t.overlayY;o="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let c=0;c<e.length;c++)e[c].style.transformOrigin=`${o} ${a}`}_calculateBoundingBoxRect(t,e){const o=this._viewportRect,a=this._isRtl();let c,f,m,C,S,T;if("top"===e.overlayY)f=t.y,c=o.height-f+this._viewportMargin;else if("bottom"===e.overlayY)m=o.height-t.y+2*this._viewportMargin,c=o.height-m+this._viewportMargin;else{const I=Math.min(o.bottom-t.y+o.top,t.y),F=this._lastBoundingBoxSize.height;c=2*I,f=t.y-I,c>F&&!this._isInitialRender&&!this._growAfterOpen&&(f=t.y-F/2)}if("end"===e.overlayX&&!a||"start"===e.overlayX&&a)T=o.width-t.x+this._viewportMargin,C=t.x-this._viewportMargin;else if("start"===e.overlayX&&!a||"end"===e.overlayX&&a)S=t.x,C=o.right-t.x;else{const I=Math.min(o.right-t.x+o.left,t.x),F=this._lastBoundingBoxSize.width;C=2*I,S=t.x-I,C>F&&!this._isInitialRender&&!this._growAfterOpen&&(S=t.x-F/2)}return{top:f,left:S,bottom:m,right:T,width:C,height:c}}_setBoundingBoxStyles(t,e){const o=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(o.height=Math.min(o.height,this._lastBoundingBoxSize.height),o.width=Math.min(o.width,this._lastBoundingBoxSize.width));const a={};if(this._hasExactPosition())a.top=a.left="0",a.bottom=a.right=a.maxHeight=a.maxWidth="",a.width=a.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,f=this._overlayRef.getConfig().maxWidth;a.height=dn(o.height),a.top=dn(o.top),a.bottom=dn(o.bottom),a.width=dn(o.width),a.left=dn(o.left),a.right=dn(o.right),a.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",a.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",c&&(a.maxHeight=dn(c)),f&&(a.maxWidth=dn(f))}this._lastBoundingBoxSize=o,Yo(this._boundingBox.style,a)}_resetBoundingBoxStyles(){Yo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Yo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const o={},a=this._hasExactPosition(),c=this._hasFlexibleDimensions,f=this._overlayRef.getConfig();if(a){const C=this._viewportRuler.getViewportScrollPosition();Yo(o,this._getExactOverlayY(e,t,C)),Yo(o,this._getExactOverlayX(e,t,C))}else o.position="static";let m="",_=this._getOffset(e,"x"),w=this._getOffset(e,"y");_&&(m+=`translateX(${_}px) `),w&&(m+=`translateY(${w}px)`),o.transform=m.trim(),f.maxHeight&&(a?o.maxHeight=dn(f.maxHeight):c&&(o.maxHeight="")),f.maxWidth&&(a?o.maxWidth=dn(f.maxWidth):c&&(o.maxWidth="")),Yo(this._pane.style,o)}_getExactOverlayY(t,e,o){let a={top:"",bottom:""},c=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,o));let f=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return c.y-=f,"bottom"===t.overlayY?a.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":a.top=dn(c.y),a}_getExactOverlayX(t,e,o){let f,a={left:"",right:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,o)),f=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===f?a.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":a.left=dn(c.x),a}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),o=this._scrollables.map(a=>a.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:vm(t,o),isOriginOutsideView:bh(t,o),isOverlayClipped:vm(e,o),isOverlayOutsideView:bh(e,o)}}_subtractOverflows(t,...e){return e.reduce((o,a)=>o-Math.max(a,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,o=this._viewportRuler.getViewportScrollPosition();return{top:o.top+this._viewportMargin,left:o.left+this._viewportMargin,right:o.left+t-this._viewportMargin,bottom:o.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Wg(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof h.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,o=t.height||0;return{top:t.y,bottom:t.y+o,left:t.x,right:t.x+e,height:o,width:e}}}function Yo(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function XM(i){if("number"!=typeof i&&null!=i){const[t,e]=i.split(Bk);return e&&"px"!==e?null:parseFloat(t)}return i||null}function eA(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}class jk{constructor(t,e,o,a,c,f,m){this._preferredPositions=[],this._positionStrategy=new rC(o,a,c,f,m).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,o,a){const c=new YM(t,e,o,a);return this._preferredPositions.push(c),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const iC="cdk-global-overlay-wrapper";class Uk{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(iC),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,o=this._overlayRef.getConfig(),{width:a,height:c,maxWidth:f,maxHeight:m}=o,_=!("100%"!==a&&"100vw"!==a||f&&"100%"!==f&&"100vw"!==f),w=!("100%"!==c&&"100vh"!==c||m&&"100%"!==m&&"100vh"!==m);t.position=this._cssPosition,t.marginLeft=_?"0":this._leftOffset,t.marginTop=w?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,_?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,o=e.style;e.classList.remove(iC),o.justifyContent=o.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let tA=(()=>{class i{constructor(e,o,a,c){this._viewportRuler=e,this._document=o,this._platform=a,this._overlayContainer=c}global(){return new Uk}connectedTo(e,o,a){return new jk(o,a,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new rC(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(al),h.LFG(J),h.LFG(Ot),h.LFG(cl))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(al),h.LFG(J),h.LFG(Ot),h.LFG(cl))},token:i,providedIn:"root"}),i})(),nA=0,Wo=(()=>{class i{constructor(e,o,a,c,f,m,_,w,C,S,T){this.scrollStrategies=e,this._overlayContainer=o,this._componentFactoryResolver=a,this._positionBuilder=c,this._keyboardDispatcher=f,this._injector=m,this._ngZone=_,this._document=w,this._directionality=C,this._location=S,this._outsideClickDispatcher=T}create(e){const o=this._createHostElement(),a=this._createPaneElement(o),c=this._createPortalOutlet(a),f=new wh(e);return f.direction=f.direction||this._directionality.value,new ZM(c,o,a,f,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const o=this._document.createElement("div");return o.id="cdk-overlay-"+nA++,o.classList.add("cdk-overlay-pane"),e.appendChild(o),o}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(h.z2F)),new _M(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(Xw),h.LFG(cl),h.LFG(h._Vd),h.LFG(tA),h.LFG(Vk),h.LFG(h.zs3),h.LFG(h.R0b),h.LFG(J),h.LFG(Ui),h.LFG(lt),h.LFG(JM))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();const rA={provide:new h.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Wo],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};let sC=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:[Wo,rA],imports:[[Us,Yu,hm],hm]}),i})();class dl{constructor(t){this.total=t}call(t,e){return e.subscribe(new oA(t,this.total))}}class oA extends sr.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}class sA{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new lC(t,this.dueTime,this.scheduler))}}class lC extends sr.L{constructor(t,e,o){super(t),this.dueTime=e,this.scheduler=o,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ch,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Ch(i){i.debouncedNext()}let wm=(()=>{class i{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=h.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})(),Cm=(()=>{class i{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,o)=>this._cleanupObserver(o))}observe(e){const o=Wr(e);return new nn.y(a=>{const f=this._observeElement(o).subscribe(a);return()=>{f.unsubscribe(),this._unobserveElement(o)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const o=new rt.xQ,a=this._mutationObserverFactory.create(c=>o.next(c));a&&a.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:a,stream:o,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:o,stream:a}=this._observedElements.get(e);o&&o.disconnect(),a.complete(),this._observedElements.delete(e)}}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(wm))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(wm))},token:i,providedIn:"root"}),i})(),aA=(()=>{class i{constructor(e,o,a){this._contentObserver=e,this._elementRef=o,this._ngZone=a,this.event=new h.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=sn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=function(i,t=0){return function(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):t}(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(function(i,t=lh.P){return e=>e.lift(new sA(i,t))}(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(Cm),h.Y36(h.SBq),h.Y36(h.R0b))},i.\u0275dir=h.lG2({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),uC=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:[wm]}),i})(),Dh=(()=>{class i{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const o=function(i){try{return i.frameElement}catch(t){return null}}(function(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(e));if(o&&(-1===Sh(o)||!this.isVisible(o)))return!1;let a=e.nodeName.toLowerCase(),c=Sh(e);return e.hasAttribute("contenteditable")?-1!==c:!("iframe"===a||"object"===a||this._platform.WEBKIT&&this._platform.IOS&&!function(i){let t=i.nodeName.toLowerCase(),e="input"===t&&i.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===a?!!e.hasAttribute("controls")&&-1!==c:"video"===a?-1!==c&&(null!==c||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,o){return function(i){return!function(i){return function(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function(i){let t=i.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(i)||function(i){return function(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||Am(i))}(e)&&!this.isDisabled(e)&&((null==o?void 0:o.ignoreVisibility)||this.isVisible(e))}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(Ot))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(Ot))},token:i,providedIn:"root"}),i})();function Am(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let t=i.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function Sh(i){if(!Am(i))return null;const t=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class xm{constructor(t,e,o,a,c=!1){this._element=t,this._checker=e,this._ngZone=o,this._document=a,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let o=0;o<e.length;o++)e[o].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[o]):e[o].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[o]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const o=this._getFirstTabbableElement(e);return null==o||o.focus(t),!!o}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let o=0;o<e.length;o++){let a=e[o].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[o]):null;if(a)return a}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let o=e.length-1;o>=0;o--){let a=e[o].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[o]):null;if(a)return a}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(ki(1)).subscribe(t)}}let _C=(()=>{class i{constructor(e,o,a){this._checker=e,this._ngZone=o,this._document=a}create(e,o=!1){return new xm(e,this._checker,this._ngZone,this._document,o)}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(Dh),h.LFG(h.R0b),h.LFG(J))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(Dh),h.LFG(h.R0b),h.LFG(J))},token:i,providedIn:"root"}),i})();function Om(i){return 0===i.offsetX&&0===i.offsetY}function Fm(i){const t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const km=new h.OlP("cdk-input-modality-detector-options"),DC={ignoreKeys:[18,17,224,91,16]},zs=ol({passive:!0,capture:!0});let Pm=(()=>{class i{constructor(e,o,a,c){this._platform=e,this._mostRecentTarget=null,this._modality=new vr(null),this._lastTouchMs=0,this._onKeydown=f=>{var m,_;(null===(_=null===(m=this._options)||void 0===m?void 0:m.ignoreKeys)||void 0===_?void 0:_.some(w=>w===f.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=ji(f))},this._onMousedown=f=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Om(f)?"keyboard":"mouse"),this._mostRecentTarget=ji(f))},this._onTouchstart=f=>{Fm(f)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ji(f))},this._options=Object.assign(Object.assign({},DC),c),this.modalityDetected=this._modality.pipe(t=>t.lift(new dl(1))),this.modalityChanged=this.modalityDetected.pipe(Xg()),e.isBrowser&&o.runOutsideAngular(()=>{a.addEventListener("keydown",this._onKeydown,zs),a.addEventListener("mousedown",this._onMousedown,zs),a.addEventListener("touchstart",this._onTouchstart,zs)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){!this._platform.isBrowser||(document.removeEventListener("keydown",this._onKeydown,zs),document.removeEventListener("mousedown",this._onMousedown,zs),document.removeEventListener("touchstart",this._onTouchstart,zs))}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(Ot),h.LFG(h.R0b),h.LFG(J),h.LFG(km,8))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(Ot),h.LFG(h.R0b),h.LFG(J),h.LFG(km,8))},token:i,providedIn:"root"}),i})();const gn=new h.OlP("cdk-focus-monitor-default-options"),ic=ol({passive:!0,capture:!0});let Th=(()=>{class i{constructor(e,o,a,c,f){this._ngZone=e,this._platform=o,this._inputModalityDetector=a,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new rt.xQ,this._rootNodeFocusAndBlurListener=m=>{const _=ji(m),w="focus"===m.type?this._onFocus:this._onBlur;for(let C=_;C;C=C.parentElement)w.call(this,m,C)},this._document=c,this._detectionMode=(null==f?void 0:f.detectionMode)||0}monitor(e,o=!1){const a=Wr(e);if(!this._platform.isBrowser||1!==a.nodeType)return(0,Pe.of)(null);const c=function(i){if(function(){if(null==Bs){const i="undefined"!=typeof document?document.head:null;Bs=!(!i||!i.createShadowRoot&&!i.attachShadow)}return Bs}()){const t=i.getRootNode?i.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(a)||this._getDocument(),f=this._elementInfo.get(a);if(f)return o&&(f.checkChildren=!0),f.subject;const m={checkChildren:o,subject:new rt.xQ,rootNode:c};return this._elementInfo.set(a,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(e){const o=Wr(e),a=this._elementInfo.get(o);a&&(a.subject.complete(),this._setClasses(o),this._elementInfo.delete(o),this._removeGlobalListeners(a))}focusVia(e,o,a){const c=Wr(e);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([m,_])=>this._originChanged(m,o,_)):(this._setOrigin(o),"function"==typeof c.focus&&c.focus(a))}ngOnDestroy(){this._elementInfo.forEach((e,o)=>this.stopMonitoring(o))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,o,a){a?e.classList.add(o):e.classList.remove(o)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,o){this._toggleClass(e,"cdk-focused",!!o),this._toggleClass(e,"cdk-touch-focused","touch"===o),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===o),this._toggleClass(e,"cdk-mouse-focused","mouse"===o),this._toggleClass(e,"cdk-program-focused","program"===o)}_setOrigin(e,o=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&o,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,o){const a=this._elementInfo.get(o),c=ji(e);!a||!a.checkChildren&&o!==c||this._originChanged(o,this._getFocusOrigin(c),a)}_onBlur(e,o){const a=this._elementInfo.get(o);!a||a.checkChildren&&e.relatedTarget instanceof Node&&o.contains(e.relatedTarget)||(this._setClasses(o),this._emitOrigin(a.subject,null))}_emitOrigin(e,o){this._ngZone.run(()=>e.next(o))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const o=e.rootNode,a=this._rootNodeFocusListenerCount.get(o)||0;a||this._ngZone.runOutsideAngular(()=>{o.addEventListener("focus",this._rootNodeFocusAndBlurListener,ic),o.addEventListener("blur",this._rootNodeFocusAndBlurListener,ic)}),this._rootNodeFocusListenerCount.set(o,a+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Kr(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(e){const o=e.rootNode;if(this._rootNodeFocusListenerCount.has(o)){const a=this._rootNodeFocusListenerCount.get(o);a>1?this._rootNodeFocusListenerCount.set(o,a-1):(o.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ic),o.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ic),this._rootNodeFocusListenerCount.delete(o))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,o,a){this._setClasses(e,o),this._emitOrigin(a.subject,o),this._lastFocusOrigin=o}_getClosestElementsInfo(e){const o=[];return this._elementInfo.forEach((a,c)=>{(c===e||a.checkChildren&&c.contains(e))&&o.push([c,a])}),o}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(h.R0b),h.LFG(Ot),h.LFG(Pm),h.LFG(J,8),h.LFG(gn,8))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(h.R0b),h.LFG(Ot),h.LFG(Pm),h.LFG(J,8),h.LFG(gn,8))},token:i,providedIn:"root"}),i})();const Lm="cdk-high-contrast-black-on-white",MC="cdk-high-contrast-white-on-black",Mh="cdk-high-contrast-active";let Vm=(()=>{class i{constructor(e,o){this._platform=e,this._document=o}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const o=this._document.defaultView||window,a=o&&o.getComputedStyle?o.getComputedStyle(e):null,c=(a&&a.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),c){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Mh),e.remove(Lm),e.remove(MC),this._hasCheckedHighContrastMode=!0;const o=this.getHighContrastMode();1===o?(e.add(Mh),e.add(Lm)):2===o&&(e.add(Mh),e.add(MC))}}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(Ot),h.LFG(J))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(Ot),h.LFG(J))},token:i,providedIn:"root"}),i})();const AC=new h.GfV("12.2.2");class IC{}const Eo="*";function Bm(i,t){return{type:7,name:i,definitions:t,options:{}}}function xC(i,t=null){return{type:4,styles:t,timings:i}}function Ah(i,t=null){return{type:2,steps:i,options:t}}function Un(i){return{type:6,styles:i,offset:null}}function jm(i,t,e){return{type:0,name:i,styles:t,options:e}}function Jr(i,t,e=null){return{type:1,expr:i,animation:t,options:e}}function FC(i){Promise.resolve(null).then(i)}class hl{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){FC(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}class kC{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,o=0,a=0;const c=this.players.length;0==c?FC(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++e==c&&this._onFinish()}),f.onDestroy(()=>{++o==c&&this._onDestroy()}),f.onStart(()=>{++a==c&&this._onStart()})}),this.totalTime=this.players.reduce((f,m)=>Math.max(f,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(o=>{const a=o.totalTime?Math.min(1,e/o.totalTime):1;o.setPosition(a)})}getPosition(){const t=this.players.reduce((e,o)=>null===e||o.totalTime>e.totalTime?o:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}function fl(){return"undefined"!=typeof window&&void 0!==window.document}function Um(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Do(i){switch(i.length){case 0:return new hl;case 1:return i[0];default:return new kC(i)}}function NC(i,t,e,o,a={},c={}){const f=[],m=[];let _=-1,w=null;if(o.forEach(C=>{const S=C.offset,T=S==_,I=T&&w||{};Object.keys(C).forEach(F=>{let j=F,q=C[F];if("offset"!==F)switch(j=t.normalizePropertyName(j,f),q){case"!":q=a[F];break;case Eo:q=c[F];break;default:q=t.normalizeStyleValue(F,j,q,f)}I[j]=q}),T||m.push(I),w=I,_=S}),f.length){const C="\n - ";throw new Error(`Unable to animate due to the following errors:${C}${f.join(C)}`)}return m}function Ih(i,t,e,o){switch(t){case"start":i.onStart(()=>o(e&&Rh(e,"start",i)));break;case"done":i.onDone(()=>o(e&&Rh(e,"done",i)));break;case"destroy":i.onDestroy(()=>o(e&&Rh(e,"destroy",i)))}}function Rh(i,t,e){const o=e.totalTime,c=pl(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,null==o?i.totalTime:o,!!e.disabled),f=i._data;return null!=f&&(c._data=f),c}function pl(i,t,e,o,a="",c=0,f){return{element:i,triggerName:t,fromState:e,toState:o,phaseName:a,totalTime:c,disabled:!!f}}function kr(i,t,e){let o;return i instanceof Map?(o=i.get(t),o||i.set(t,o=e)):(o=i[t],o||(o=i[t]=e)),o}function Hm(i){const t=i.indexOf(":");return[i.substring(1,t),i.substr(t+1)]}let xh=(i,t)=>!1,gl=(i,t)=>!1,Gm=(i,t,e)=>[];const zm=Um();(zm||"undefined"!=typeof Element)&&(xh=fl()?(i,t)=>{for(;t&&t!==document.documentElement;){if(t===i)return!0;t=t.parentNode||t.host}return!1}:(i,t)=>i.contains(t),gl=(()=>{if(zm||Element.prototype.matches)return(i,t)=>i.matches(t);{const i=Element.prototype,t=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector;return t?(e,o)=>t.apply(e,[o]):gl}})(),Gm=(i,t,e)=>{let o=[];if(e){const a=i.querySelectorAll(t);for(let c=0;c<a.length;c++)o.push(a[c])}else{const a=i.querySelector(t);a&&o.push(a)}return o});let Ko=null,$m=!1;function Oh(i){Ko||(Ko=("undefined"!=typeof document?document.body:null)||{},$m=!!Ko.style&&"WebkitAppearance"in Ko.style);let t=!0;return Ko.style&&!function(i){return"ebkit"==i.substring(1,6)}(i)&&(t=i in Ko.style,!t&&$m&&(t="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in Ko.style)),t}const qm=gl,Ym=xh,Wm=Gm;function VC(i){const t={};return Object.keys(i).forEach(e=>{const o=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[o]=i[e]}),t}let BC=(()=>{class i{validateStyleProperty(e){return Oh(e)}matchesElement(e,o){return qm(e,o)}containsElement(e,o){return Ym(e,o)}query(e,o,a){return Wm(e,o,a)}computeStyle(e,o,a){return a||""}animate(e,o,a,c,f,m=[],_){return new hl(a,c)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();class Fh{}Fh.NOOP=new BC;const Km="ng-enter",kh="ng-leave",Nh="ng-trigger",Ph=".ng-trigger",UC="ng-animating",Qm=".ng-animating";function Qo(i){if("number"==typeof i)return i;const t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Lh(parseFloat(t[1]),t[2])}function Lh(i,t){switch(t){case"s":return 1e3*i;default:return i}}function ac(i,t,e){return i.hasOwnProperty("duration")?i:function(i,t,e){let a,c=0,f="";if("string"==typeof i){const m=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return t.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};a=Lh(parseFloat(m[1]),m[2]);const _=m[3];null!=_&&(c=Lh(parseFloat(_),m[4]));const w=m[5];w&&(f=w)}else a=i;if(!e){let m=!1,_=t.length;a<0&&(t.push("Duration values below 0 are not allowed for this animation step."),m=!0),c<0&&(t.push("Delay values below 0 are not allowed for this animation step."),m=!0),m&&t.splice(_,0,`The provided timing value "${i}" is invalid.`)}return{duration:a,delay:c,easing:f}}(i,t,e)}function $s(i,t={}){return Object.keys(i).forEach(e=>{t[e]=i[e]}),t}function So(i,t,e={}){if(t)for(let o in i)e[o]=i[o];else $s(i,e);return e}function Zm(i,t,e){return e?t+":"+e+";":""}function Xm(i){let t="";for(let e=0;e<i.style.length;e++){const o=i.style.item(e);t+=Zm(0,o,i.style.getPropertyValue(o))}for(const e in i.style)i.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Zm(0,GC(e),i.style[e]));i.setAttribute("style",t)}function Zr(i,t,e){i.style&&(Object.keys(t).forEach(o=>{const a=Vh(o);e&&!e.hasOwnProperty(o)&&(e[o]=i.style[a]),i.style[a]=t[o]}),Um()&&Xm(i))}function To(i,t){i.style&&(Object.keys(t).forEach(e=>{const o=Vh(e);i.style[o]=""}),Um()&&Xm(i))}function Ci(i){return Array.isArray(i)?1==i.length?i[0]:Ah(i):i}const ey=new RegExp("{{\\s*(.+?)\\s*}}","g");function qs(i){let t=[];if("string"==typeof i){let e;for(;e=ey.exec(i);)t.push(e[1]);ey.lastIndex=0}return t}function ty(i,t,e){const o=i.toString(),a=o.replace(ey,(c,f)=>{let m=t[f];return t.hasOwnProperty(f)||(e.push(`Please provide a value for the animation param ${f}`),m=""),m.toString()});return a==o?i:a}function ml(i){const t=[];let e=i.next();for(;!e.done;)t.push(e.value),e=i.next();return t}const nN=/-+([a-z0-9])/g;function Vh(i){return i.replace(nN,(...t)=>t[1].toUpperCase())}function GC(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function SA(i,t){return 0===i||0===t}function $e(i,t,e){const o=Object.keys(e);if(o.length&&t.length){let c=t[0],f=[];if(o.forEach(m=>{c.hasOwnProperty(m)||f.push(m),c[m]=e[m]}),f.length)for(var a=1;a<t.length;a++){let m=t[a];f.forEach(function(_){m[_]=ny(i,_)})}}return t}function Nr(i,t,e){switch(t.type){case 7:return i.visitTrigger(t,e);case 0:return i.visitState(t,e);case 1:return i.visitTransition(t,e);case 2:return i.visitSequence(t,e);case 3:return i.visitGroup(t,e);case 4:return i.visitAnimate(t,e);case 5:return i.visitKeyframes(t,e);case 6:return i.visitStyle(t,e);case 8:return i.visitReference(t,e);case 9:return i.visitAnimateChild(t,e);case 10:return i.visitAnimateRef(t,e);case 11:return i.visitQuery(t,e);case 12:return i.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function ny(i,t){return window.getComputedStyle(i)[t]}function jh(i,t){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(o=>function(i,t,e){if(":"==i[0]){const _=function(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,o)=>parseFloat(o)>parseFloat(e);case":decrement":return(e,o)=>parseFloat(o)<parseFloat(e);default:return t.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,e);if("function"==typeof _)return void t.push(_);i=_}const o=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return e.push(`The provided transition expression "${i}" is not supported`),t;const a=o[1],c=o[2],f=o[3];t.push(MA(a,f));"<"==c[0]&&!("*"==a&&"*"==f)&&t.push(MA(f,a))}(o,e,t)):e.push(i),e}const Ys=new Set(["true","1"]),zt=new Set(["false","0"]);function MA(i,t){const e=Ys.has(i)||zt.has(i),o=Ys.has(t)||zt.has(t);return(a,c)=>{let f="*"==i||i==a,m="*"==t||t==c;return!f&&e&&"boolean"==typeof a&&(f=a?Ys.has(i):zt.has(i)),!m&&o&&"boolean"==typeof c&&(m=c?Ys.has(t):zt.has(t)),f&&m}}const iy=new RegExp("s*:selfs*,?","g");function oy(i,t,e){return new zC(i).build(t,e)}class zC{constructor(t){this._driver=t}build(t,e){const o=new AA(e);return this._resetContextStyleTimingState(o),Nr(this,Ci(t),o)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let o=e.queryCount=0,a=e.depCount=0;const c=[],f=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),0==m.type){const _=m,w=_.name;w.toString().split(/\s*,\s*/).forEach(C=>{_.name=C,c.push(this.visitState(_,e))}),_.name=w}else if(1==m.type){const _=this.visitTransition(m,e);o+=_.queryCount,a+=_.depCount,f.push(_)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:c,transitions:f,queryCount:o,depCount:a,options:null}}visitState(t,e){const o=this.visitStyle(t.styles,e),a=t.options&&t.options.params||null;if(o.containsDynamicStyles){const c=new Set,f=a||{};if(o.styles.forEach(m=>{if(Hh(m)){const _=m;Object.keys(_).forEach(w=>{qs(_[w]).forEach(C=>{f.hasOwnProperty(C)||c.add(C)})})}}),c.size){const m=ml(c.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${m.join(", ")}`)}}return{type:0,name:t.name,style:o,options:a?{params:a}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const o=Nr(this,Ci(t.animation),e);return{type:1,matchers:jh(t.expr,e.errors),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:Ws(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(o=>Nr(this,o,e)),options:Ws(t.options)}}visitGroup(t,e){const o=e.currentTime;let a=0;const c=t.steps.map(f=>{e.currentTime=o;const m=Nr(this,f,e);return a=Math.max(a,e.currentTime),m});return e.currentTime=a,{type:3,steps:c,options:Ws(t.options)}}visitAnimate(t,e){const o=function(i,t){let e=null;if(i.hasOwnProperty("duration"))e=i;else if("number"==typeof i)return ay(ac(i,t).duration,0,"");const o=i;if(o.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=ay(0,0,"");return c.dynamic=!0,c.strValue=o,c}return e=e||ac(o,t),ay(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=o;let a,c=t.styles?t.styles:Un({});if(5==c.type)a=this.visitKeyframes(c,e);else{let f=t.styles,m=!1;if(!f){m=!0;const w={};o.easing&&(w.easing=o.easing),f=Un(w)}e.currentTime+=o.duration+o.delay;const _=this.visitStyle(f,e);_.isEmptyStep=m,a=_}return e.currentAnimateTimings=null,{type:4,timings:o,style:a,options:null}}visitStyle(t,e){const o=this._makeStyleAst(t,e);return this._validateStyleAst(o,e),o}_makeStyleAst(t,e){const o=[];Array.isArray(t.styles)?t.styles.forEach(f=>{"string"==typeof f?f==Eo?o.push(f):e.errors.push(`The provided style string value ${f} is not allowed.`):o.push(f)}):o.push(t.styles);let a=!1,c=null;return o.forEach(f=>{if(Hh(f)){const m=f,_=m.easing;if(_&&(c=_,delete m.easing),!a)for(let w in m)if(m[w].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:o,easing:c,offset:t.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(t,e){const o=e.currentAnimateTimings;let a=e.currentTime,c=e.currentTime;o&&c>0&&(c-=o.duration+o.delay),t.styles.forEach(f=>{"string"!=typeof f&&Object.keys(f).forEach(m=>{if(!this._driver.validateStyleProperty(m))return void e.errors.push(`The provided animation property "${m}" is not a supported CSS property for animations`);const _=e.collectedStyles[e.currentQuerySelector],w=_[m];let C=!0;w&&(c!=a&&c>=w.startTime&&a<=w.endTime&&(e.errors.push(`The CSS property "${m}" that exists between the times of "${w.startTime}ms" and "${w.endTime}ms" is also being animated in a parallel animation between the times of "${c}ms" and "${a}ms"`),C=!1),c=w.startTime),C&&(_[m]={startTime:c,endTime:a}),e.options&&function(i,t,e){const o=t.params||{},a=qs(i);a.length&&a.forEach(c=>{o.hasOwnProperty(c)||e.push(`Unable to resolve the local animation param ${c} in the given list of values`)})}(f[m],e.options,e.errors)})})}visitKeyframes(t,e){const o={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),o;let c=0;const f=[];let m=!1,_=!1,w=0;const C=t.steps.map(ce=>{const ve=this._makeStyleAst(ce,e);let Ce=null!=ve.offset?ve.offset:function(i){if("string"==typeof i)return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(Hh(e)&&e.hasOwnProperty("offset")){const o=e;t=parseFloat(o.offset),delete o.offset}});else if(Hh(i)&&i.hasOwnProperty("offset")){const e=i;t=parseFloat(e.offset),delete e.offset}return t}(ve.styles),xe=0;return null!=Ce&&(c++,xe=ve.offset=Ce),_=_||xe<0||xe>1,m=m||xe<w,w=xe,f.push(xe),ve});_&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),m&&e.errors.push("Please ensure that all keyframe offsets are in order");const S=t.steps.length;let T=0;c>0&&c<S?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==c&&(T=1/(S-1));const I=S-1,F=e.currentTime,j=e.currentAnimateTimings,q=j.duration;return C.forEach((ce,ve)=>{const Ce=T>0?ve==I?1:T*ve:f[ve],xe=Ce*q;e.currentTime=F+j.delay+xe,j.duration=xe,this._validateStyleAst(ce,e),ce.offset=Ce,o.styles.push(ce)}),o}visitReference(t,e){return{type:8,animation:Nr(this,Ci(t.animation),e),options:Ws(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ws(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ws(t.options)}}visitQuery(t,e){const o=e.currentQuerySelector,a=t.options||{};e.queryCount++,e.currentQuery=t;const[c,f]=function(i){const t=!!i.split(/\s*,\s*/).find(e=>":self"==e);return t&&(i=i.replace(iy,"")),[i=i.replace(/@\*/g,Ph).replace(/@\w+/g,e=>Ph+"-"+e.substr(1)).replace(/:animating/g,Qm),t]}(t.selector);e.currentQuerySelector=o.length?o+" "+c:c,kr(e.collectedStyles,e.currentQuerySelector,{});const m=Nr(this,Ci(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=o,{type:11,selector:c,limit:a.limit||0,optional:!!a.optional,includeSelf:f,animation:m,originalSelector:t.selector,options:Ws(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const o="full"===t.timings?{duration:0,delay:0,easing:"full"}:ac(t.timings,e.errors,!0);return{type:12,animation:Nr(this,Ci(t.animation),e),timings:o,options:null}}}class AA{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Hh(i){return!Array.isArray(i)&&"object"==typeof i}function Ws(i){return i?(i=$s(i)).params&&(i.params=function(i){return i?$s(i):null}(i.params)):i={},i}function ay(i,t,e){return{duration:i,delay:t,easing:e}}function ly(i,t,e,o,a,c,f=null,m=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:o,duration:a,delay:c,totalTime:a+c,easing:f,subTimeline:m}}class Ks{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let o=this._map.get(t);o||this._map.set(t,o=[]),o.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const KC=new RegExp(":enter","g"),uc=new RegExp(":leave","g");function Qs(i,t,e,o,a,c={},f={},m,_,w=[]){return(new xA).buildKeyframes(i,t,e,o,a,c,f,m,_,w)}class xA{buildKeyframes(t,e,o,a,c,f,m,_,w,C=[]){w=w||new Ks;const S=new uy(t,e,w,a,c,C,[]);S.options=_,S.currentTimeline.setStyles([f],null,S.errors,_),Nr(this,o,S);const T=S.timelines.filter(I=>I.containsAnimation());if(T.length&&Object.keys(m).length){const I=T[T.length-1];I.allowOnlyTimelineStyles()||I.setStyles([m],null,S.errors,_)}return T.length?T.map(I=>I.buildKeyframes()):[ly(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const o=e.subInstructions.consume(e.element);if(o){const a=e.createSubContext(t.options),c=e.currentTimeline.currentTime,f=this._visitSubInstructions(o,a,a.options);c!=f&&e.transformIntoNewTimeline(f)}e.previousNode=t}visitAnimateRef(t,e){const o=e.createSubContext(t.options);o.transformIntoNewTimeline(),this.visitReference(t.animation,o),e.transformIntoNewTimeline(o.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,o){let c=e.currentTimeline.currentTime;const f=null!=o.duration?Qo(o.duration):null,m=null!=o.delay?Qo(o.delay):null;return 0!==f&&t.forEach(_=>{const w=e.appendInstructionToTimeline(_,f,m);c=Math.max(c,w.duration+w.delay)}),c}visitReference(t,e){e.updateOptions(t.options,!0),Nr(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const o=e.subContextCount;let a=e;const c=t.options;if(c&&(c.params||c.delay)&&(a=e.createSubContext(c),a.transformIntoNewTimeline(),null!=c.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Gh);const f=Qo(c.delay);a.delayNextStep(f)}t.steps.length&&(t.steps.forEach(f=>Nr(this,f,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>o&&a.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const o=[];let a=e.currentTimeline.currentTime;const c=t.options&&t.options.delay?Qo(t.options.delay):0;t.steps.forEach(f=>{const m=e.createSubContext(t.options);c&&m.delayNextStep(c),Nr(this,f,m),a=Math.max(a,m.currentTimeline.currentTime),o.push(m.currentTimeline)}),o.forEach(f=>e.currentTimeline.mergeTimelineCollectedStyles(f)),e.transformIntoNewTimeline(a),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const o=t.strValue;return ac(e.params?ty(o,e.params,e.errors):o,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const o=e.currentAnimateTimings=this._visitTiming(t.timings,e),a=e.currentTimeline;o.delay&&(e.incrementTime(o.delay),a.snapshotCurrentStyles());const c=t.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(o.duration),this.visitStyle(c,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const o=e.currentTimeline,a=e.currentAnimateTimings;!a&&o.getCurrentStyleProperties().length&&o.forwardFrame();const c=a&&a.easing||t.easing;t.isEmptyStep?o.applyEmptyStep(c):o.setStyles(t.styles,c,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const o=e.currentAnimateTimings,a=e.currentTimeline.duration,c=o.duration,m=e.createSubContext().currentTimeline;m.easing=o.easing,t.styles.forEach(_=>{m.forwardTime((_.offset||0)*c),m.setStyles(_.styles,_.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(a+c),e.previousNode=t}visitQuery(t,e){const o=e.currentTimeline.currentTime,a=t.options||{},c=a.delay?Qo(a.delay):0;c&&(6===e.previousNode.type||0==o&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Gh);let f=o;const m=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=m.length;let _=null;m.forEach((w,C)=>{e.currentQueryIndex=C;const S=e.createSubContext(t.options,w);c&&S.delayNextStep(c),w===e.element&&(_=S.currentTimeline),Nr(this,t.animation,S),S.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,S.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(f),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const o=e.parentContext,a=e.currentTimeline,c=t.timings,f=Math.abs(c.duration),m=f*(e.currentQueryTotal-1);let _=f*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":_=m-_;break;case"full":_=o.currentStaggerTime}const C=e.currentTimeline;_&&C.delayNextStep(_);const S=C.currentTime;Nr(this,t.animation,e),e.previousNode=t,o.currentStaggerTime=a.currentTime-S+(a.startTime-o.currentTimeline.startTime)}}const Gh={};class uy{constructor(t,e,o,a,c,f,m,_){this._driver=t,this.element=e,this.subInstructions=o,this._enterClassName=a,this._leaveClassName=c,this.errors=f,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Gh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new cc(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const o=t;let a=this.options;null!=o.duration&&(a.duration=Qo(o.duration)),null!=o.delay&&(a.delay=Qo(o.delay));const c=o.params;if(c){let f=a.params;f||(f=this.options.params={}),Object.keys(c).forEach(m=>{(!e||!f.hasOwnProperty(m))&&(f[m]=ty(c[m],f,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const o=t.params={};Object.keys(e).forEach(a=>{o[a]=e[a]})}}return t}createSubContext(t=null,e,o){const a=e||this.element,c=new uy(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,o||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(t),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(t){return this.previousNode=Gh,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,o){const a={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+t.delay,easing:""},c=new QC(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,a,t.stretchStartingKeyframe);return this.timelines.push(c),a}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,o,a,c,f){let m=[];if(a&&m.push(this.element),t.length>0){t=(t=t.replace(KC,"."+this._enterClassName)).replace(uc,"."+this._leaveClassName);let w=this._driver.query(this.element,t,1!=o);0!==o&&(w=o<0?w.slice(w.length+o,w.length):w.slice(0,o)),m.push(...w)}return!c&&0==m.length&&f.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),m}}class cc{constructor(t,e,o,a){this._driver=t,this.element=e,this.startTime=o,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new cc(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Eo,this._currentKeyframe[e]=Eo}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,o,a){e&&(this._previousKeyframe.easing=e);const c=a&&a.params||{},f=function(i,t){const e={};let o;return i.forEach(a=>{"*"===a?(o=o||Object.keys(t),o.forEach(c=>{e[c]=Eo})):So(a,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(f).forEach(m=>{const _=ty(f[m],c,o);this._pendingStyles[m]=_,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:Eo),this._updateStyle(m,_)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(o=>{this._currentKeyframe[o]=t[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const o=this._styleSummary[e],a=t._styleSummary[e];(!o||a.time>o.time)&&this._updateStyle(e,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,o=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((m,_)=>{const w=So(m,!0);Object.keys(w).forEach(C=>{const S=w[C];"!"==S?t.add(C):S==Eo&&e.add(C)}),o||(w.offset=_/this.duration),a.push(w)});const c=t.size?ml(t.values()):[],f=e.size?ml(e.values()):[];if(o){const m=a[0],_=$s(m);m.offset=0,_.offset=1,a=[m,_]}return ly(this.element,a,c,f,this.duration,this.startTime,this.easing,!1)}}class QC extends cc{constructor(t,e,o,a,c,f,m=!1){super(t,e,f.delay),this.keyframes=o,this.preStyleProps=a,this.postStyleProps=c,this._stretchStartingKeyframe=m,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:o,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],f=o+e,m=e/f,_=So(t[0],!1);_.offset=0,c.push(_);const w=So(t[0],!1);w.offset=cy(m),c.push(w);const C=t.length-1;for(let S=1;S<=C;S++){let T=So(t[S],!1);T.offset=cy((e+T.offset*o)/f),c.push(T)}o=f,e=0,a="",t=c}return ly(this.element,t,this.preStyleProps,this.postStyleProps,o,e,a,!0)}}function cy(i,t=3){const e=Math.pow(10,t-1);return Math.round(i*e)/e}class dy{}class iN extends dy{normalizePropertyName(t,e){return Vh(t)}normalizeStyleValue(t,e,o,a){let c="";const f=o.toString().trim();if(oN[e]&&0!==o&&"0"!==o)if("number"==typeof o)c="px";else{const m=o.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&a.push(`Please provide a CSS unit value for ${t}:${o}`)}return f+c}}const oN=(()=>function(i){const t={};return i.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function hy(i,t,e,o,a,c,f,m,_,w,C,S,T){return{type:0,element:i,triggerName:t,isRemovalTransition:a,fromState:e,fromStyles:c,toState:o,toStyles:f,timelines:m,queriedElements:_,preStyleProps:w,postStyleProps:C,totalTime:S,errors:T}}const yl={};class JC{constructor(t,e,o){this._triggerName=t,this.ast=e,this._stateStyles=o}match(t,e,o,a){return function(i,t,e,o,a){return i.some(c=>c(t,e,o,a))}(this.ast.matchers,t,e,o,a)}buildStyles(t,e,o){const a=this._stateStyles["*"],c=this._stateStyles[t],f=a?a.buildStyles(e,o):{};return c?c.buildStyles(e,o):f}build(t,e,o,a,c,f,m,_,w,C){const S=[],T=this.ast.options&&this.ast.options.params||yl,F=this.buildStyles(o,m&&m.params||yl,S),j=_&&_.params||yl,q=this.buildStyles(a,j,S),ce=new Set,ve=new Map,Ce=new Map,xe="void"===a,ke={params:Object.assign(Object.assign({},T),j)},st=C?[]:Qs(t,e,this.ast.animation,c,f,F,q,ke,w,S);let Tt=0;if(st.forEach(Ur=>{Tt=Math.max(Ur.duration+Ur.delay,Tt)}),S.length)return hy(e,this._triggerName,o,a,xe,F,q,[],[],ve,Ce,Tt,S);st.forEach(Ur=>{const ro=Ur.element,Uv=kr(ve,ro,{});Ur.preStyleProps.forEach(gd=>Uv[gd]=!0);const Hv=kr(Ce,ro,{});Ur.postStyleProps.forEach(gd=>Hv[gd]=!0),ro!==e&&ce.add(ro)});const Ii=ml(ce.values());return hy(e,this._triggerName,o,a,xe,F,q,st,Ii,ve,Ce,Tt)}}class ZC{constructor(t,e,o){this.styles=t,this.defaultParams=e,this.normalizer=o}buildStyles(t,e){const o={},a=$s(this.defaultParams);return Object.keys(t).forEach(c=>{const f=t[c];null!=f&&(a[c]=f)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const f=c;Object.keys(f).forEach(m=>{let _=f[m];_.length>1&&(_=ty(_,a,e));const w=this.normalizer.normalizePropertyName(m,e);_=this.normalizer.normalizeStyleValue(m,w,_,e),o[w]=_})}}),o}}class NA{constructor(t,e,o){this.name=t,this.ast=e,this._normalizer=o,this.transitionFactories=[],this.states={},e.states.forEach(a=>{this.states[a.name]=new ZC(a.style,a.options&&a.options.params||{},o)}),XC(this.states,"true","1"),XC(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new JC(t,a,this.states))}),this.fallbackTransition=function(i,t,e){return new JC(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,m)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,o,a){return this.transitionFactories.find(f=>f.match(t,e,o,a))||null}matchStyles(t,e,o){return this.fallbackTransition.buildStyles(t,e,o)}}function XC(i,t,e){i.hasOwnProperty(t)?i.hasOwnProperty(e)||(i[e]=i[t]):i.hasOwnProperty(e)&&(i[t]=i[e])}const LA=new Ks;class VA{constructor(t,e,o){this.bodyNode=t,this._driver=e,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(t,e){const o=[],a=oy(this._driver,e,o);if(o.length)throw new Error(`Unable to build the animation due to the following errors: ${o.join("\n")}`);this._animations[t]=a}_buildPlayer(t,e,o){const a=t.element,c=NC(0,this._normalizer,0,t.keyframes,e,o);return this._driver.animate(a,c,t.duration,t.delay,t.easing,[],!0)}create(t,e,o={}){const a=[],c=this._animations[t];let f;const m=new Map;if(c?(f=Qs(this._driver,e,c,Km,kh,{},{},o,LA,a),f.forEach(C=>{const S=kr(m,C.element,{});C.postStyleProps.forEach(T=>S[T]=null)})):(a.push("The requested animation doesn't exist or has already been destroyed"),f=[]),a.length)throw new Error(`Unable to create the animation due to the following errors: ${a.join("\n")}`);m.forEach((C,S)=>{Object.keys(C).forEach(T=>{C[T]=this._driver.computeStyle(S,T,Eo)})});const w=Do(f.map(C=>{const S=m.get(C.element);return this._buildPlayer(C,{},S)}));return this._playersById[t]=w,w.onDestroy(()=>this.destroy(t)),this.players.push(w),w}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const o=this.players.indexOf(e);o>=0&&this.players.splice(o,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,o,a){const c=pl(e,"","","");return Ih(this._getPlayer(t),o,c,a),()=>{}}command(t,e,o,a){if("register"==o)return void this.register(t,a[0]);if("create"==o)return void this.create(t,e,a[0]||{});const c=this._getPlayer(t);switch(o){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(t)}}}const fy="ng-animate-queued",e0="ng-animate-disabled",Js=".ng-animate-disabled",UA=[],py={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},HA={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Pr="__ng_removed";class gy{constructor(t,e=""){this.namespaceId=e;const o=t&&t.hasOwnProperty("value");if(this.value=null!=(i=o?t.value:t)?i:null,o){const c=$s(t);delete c.value,this.options=c}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const o=this.options.params;Object.keys(e).forEach(a=>{null==o[a]&&(o[a]=e[a])})}}}const Zs="void",my=new gy(Zs);class n0{constructor(t,e,o){this.id=t,this.hostElement=e,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Xr(e,this._hostClassName)}listen(t,e,o,a){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${o}" because the animation trigger "${e}" doesn't exist!`);if(null==o||0==o.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=o)&&"done"!=i)throw new Error(`The provided animation trigger event "${o}" for the animation trigger "${e}" is not supported!`);var i;const c=kr(this._elementListeners,t,[]),f={name:e,phase:o,callback:a};c.push(f);const m=kr(this._engine.statesByElement,t,{});return m.hasOwnProperty(e)||(Xr(t,Nh),Xr(t,Nh+"-"+e),m[e]=my),()=>{this._engine.afterFlush(()=>{const _=c.indexOf(f);_>=0&&c.splice(_,1),this._triggers[e]||delete m[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,o,a=!0){const c=this._getTrigger(e),f=new yy(this.id,e,t);let m=this._engine.statesByElement.get(t);m||(Xr(t,Nh),Xr(t,Nh+"-"+e),this._engine.statesByElement.set(t,m={}));let _=m[e];const w=new gy(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),m[e]=w,_||(_=my),w.value!==Zs&&_.value===w.value){if(!function(i,t){const e=Object.keys(i),o=Object.keys(t);if(e.length!=o.length)return!1;for(let a=0;a<e.length;a++){const c=e[a];if(!t.hasOwnProperty(c)||i[c]!==t[c])return!1}return!0}(_.params,w.params)){const j=[],q=c.matchStyles(_.value,_.params,j),ce=c.matchStyles(w.value,w.params,j);j.length?this._engine.reportError(j):this._engine.afterFlush(()=>{To(t,q),Zr(t,ce)})}return}const T=kr(this._engine.playersByElement,t,[]);T.forEach(j=>{j.namespaceId==this.id&&j.triggerName==e&&j.queued&&j.destroy()});let I=c.matchTransition(_.value,w.value,t,w.params),F=!1;if(!I){if(!a)return;I=c.fallbackTransition,F=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:I,fromState:_,toState:w,player:f,isFallbackTransition:F}),F||(Xr(t,fy),f.onStart(()=>{vl(t,fy)})),f.onDone(()=>{let j=this.players.indexOf(f);j>=0&&this.players.splice(j,1);const q=this._engine.playersByElement.get(t);if(q){let ce=q.indexOf(f);ce>=0&&q.splice(ce,1)}}),this.players.push(f),T.push(f),f}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,o)=>{delete e[t]}),this._elementListeners.forEach((e,o)=>{this._elementListeners.set(o,e.filter(a=>a.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(o=>o.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const o=this._engine.driver.query(t,Ph,!0);o.forEach(a=>{if(a[Pr])return;const c=this._engine.fetchNamespacesByElement(a);c.size?c.forEach(f=>f.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(t,e,o,a){const c=this._engine.statesByElement.get(t);if(c){const f=[];if(Object.keys(c).forEach(m=>{if(this._triggers[m]){const _=this.trigger(t,m,Zs,a);_&&f.push(_)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),o&&Do(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),o=this._engine.statesByElement.get(t);if(e&&o){const a=new Set;e.forEach(c=>{const f=c.name;if(a.has(f))return;a.add(f);const _=this._triggers[f].fallbackTransition,w=o[f]||my,C=new gy(Zs),S=new yy(this.id,f,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:f,transition:_,fromState:w,toState:C,player:S,isFallbackTransition:!0})})}}removeNode(t,e){const o=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let a=!1;if(o.totalAnimations){const c=o.players.length?o.playersByQueriedElement.get(t):[];if(c&&c.length)a=!0;else{let f=t;for(;f=f.parentNode;)if(o.statesByElement.get(f)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(t),a)o.markElementAsRemoved(this.id,t,!1,e);else{const c=t[Pr];(!c||c===py)&&(o.afterFlush(()=>this.clearElementCache(t)),o.destroyInnerAnimations(t),o._onRemovalComplete(t,e))}}insertNode(t,e){Xr(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(o=>{const a=o.player;if(a.destroyed)return;const c=o.element,f=this._elementListeners.get(c);f&&f.forEach(m=>{if(m.name==o.triggerName){const _=pl(c,o.triggerName,o.fromState.value,o.toState.value);_._data=t,Ih(o.player,m.phase,_,m.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(o)}),this._queue=[],e.sort((o,a)=>{const c=o.transition.ast.depCount,f=a.transition.ast.depCount;return 0==c||0==f?c-f:this._engine.driver.containsElement(o.element,a.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(o=>o.element===t)||e,e}}class r0{constructor(t,e,o){this.bodyNode=t,this.driver=e,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,c)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(o=>{o.queued&&t.push(o)})}),t}createNamespace(t,e){const o=new n0(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(o,e):(this.newHostElements.set(e,o),this.collectEnterElement(e)),this._namespaceLookup[t]=o}_balanceNamespaceList(t,e){const o=this._namespaceList.length-1;if(o>=0){let a=!1;for(let c=o;c>=0;c--)if(this.driver.containsElement(this._namespaceList[c].hostElement,e)){this._namespaceList.splice(c+1,0,t),a=!0;break}a||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let o=this._namespaceLookup[t];return o||(o=this.createNamespace(t,e)),o}registerTrigger(t,e,o){let a=this._namespaceLookup[t];a&&a.register(e,o)&&this.totalAnimations++}destroy(t,e){if(!t)return;const o=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[t];const a=this._namespaceList.indexOf(o);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>o.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,o=this.statesByElement.get(t);if(o){const a=Object.keys(o);for(let c=0;c<a.length;c++){const f=o[a[c]].namespaceId;if(f){const m=this._fetchNamespace(f);m&&e.add(m)}}}return e}trigger(t,e,o,a){if(_l(e)){const c=this._fetchNamespace(t);if(c)return c.trigger(e,o,a),!0}return!1}insertNode(t,e,o,a){if(!_l(e))return;const c=e[Pr];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const f=this.collectedLeaveElements.indexOf(e);f>=0&&this.collectedLeaveElements.splice(f,1)}if(t){const f=this._fetchNamespace(t);f&&f.insertNode(e,o)}a&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Xr(t,e0)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),vl(t,e0))}removeNode(t,e,o,a){if(_l(e)){const c=t?this._fetchNamespace(t):null;if(c?c.removeNode(e,a):this.markElementAsRemoved(t,e,!1,a),o){const f=this.namespacesByHostElement.get(e);f&&f.id!==t&&f.removeNode(e,a)}}else this._onRemovalComplete(e,a)}markElementAsRemoved(t,e,o,a){this.collectedLeaveElements.push(e),e[Pr]={namespaceId:t,setForRemoval:a,hasAnimation:o,removedBeforeQueried:!1}}listen(t,e,o,a,c){return _l(e)?this._fetchNamespace(t).listen(e,o,a,c):()=>{}}_buildInstruction(t,e,o,a,c){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,o,a,t.fromState.options,t.toState.options,e,c)}destroyInnerAnimations(t){let e=this.driver.query(t,Ph,!0);e.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Qm,!0),e.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Do(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Pr];if(e&&e.setForRemoval){if(t[Pr]=py,e.namespaceId){this.destroyInnerAnimations(t);const o=this._fetchNamespace(e.namespaceId);o&&o.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Js)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Js,!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,a)=>this._balanceNamespaceList(o,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)Xr(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{e=this._flushAnimations(o,t)}finally{for(let a=0;a<o.length;a++)o[a]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],e.length?Do(e).onDone(()=>{o.forEach(a=>a())}):o.forEach(a=>a())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const o=new Ks,a=[],c=new Map,f=[],m=new Map,_=new Map,w=new Map,C=new Set;this.disabledNodes.forEach(Ve=>{C.add(Ve);const Ye=this.driver.query(Ve,".ng-animate-queued",!0);for(let ot=0;ot<Ye.length;ot++)C.add(Ye[ot])});const S=this.bodyNode,T=Array.from(this.statesByElement.keys()),I=s0(T,this.collectedEnterElements),F=new Map;let j=0;I.forEach((Ve,Ye)=>{const ot=Km+j++;F.set(Ye,ot),Ve.forEach(Mt=>Xr(Mt,ot))});const q=[],ce=new Set,ve=new Set;for(let Ve=0;Ve<this.collectedLeaveElements.length;Ve++){const Ye=this.collectedLeaveElements[Ve],ot=Ye[Pr];ot&&ot.setForRemoval&&(q.push(Ye),ce.add(Ye),ot.hasAnimation?this.driver.query(Ye,".ng-star-inserted",!0).forEach(Mt=>ce.add(Mt)):ve.add(Ye))}const Ce=new Map,xe=s0(T,Array.from(ce));xe.forEach((Ve,Ye)=>{const ot=kh+j++;Ce.set(Ye,ot),Ve.forEach(Mt=>Xr(Mt,ot))}),t.push(()=>{I.forEach((Ve,Ye)=>{const ot=F.get(Ye);Ve.forEach(Mt=>vl(Mt,ot))}),xe.forEach((Ve,Ye)=>{const ot=Ce.get(Ye);Ve.forEach(Mt=>vl(Mt,ot))}),q.forEach(Ve=>{this.processLeaveNode(Ve)})});const ke=[],st=[];for(let Ve=this._namespaceList.length-1;Ve>=0;Ve--)this._namespaceList[Ve].drainQueuedTransitions(e).forEach(ot=>{const Mt=ot.player,ir=ot.element;if(ke.push(Mt),this.collectedEnterElements.length){const ds=ir[Pr];if(ds&&ds.setForMove)return void Mt.destroy()}const cs=!S||!this.driver.containsElement(S,ir),Ri=Ce.get(ir),nu=F.get(ir),vn=this._buildInstruction(ot,o,nu,Ri,cs);if(vn.errors&&vn.errors.length)st.push(vn);else{if(cs)return Mt.onStart(()=>To(ir,vn.fromStyles)),Mt.onDestroy(()=>Zr(ir,vn.toStyles)),void a.push(Mt);if(ot.isFallbackTransition)return Mt.onStart(()=>To(ir,vn.fromStyles)),Mt.onDestroy(()=>Zr(ir,vn.toStyles)),void a.push(Mt);vn.timelines.forEach(ds=>ds.stretchStartingKeyframe=!0),o.append(ir,vn.timelines),f.push({instruction:vn,player:Mt,element:ir}),vn.queriedElements.forEach(ds=>kr(m,ds,[]).push(Mt)),vn.preStyleProps.forEach((ds,Gv)=>{const CS=Object.keys(ds);if(CS.length){let md=_.get(Gv);md||_.set(Gv,md=new Set),CS.forEach(BO=>md.add(BO))}}),vn.postStyleProps.forEach((ds,Gv)=>{const CS=Object.keys(ds);let md=w.get(Gv);md||w.set(Gv,md=new Set),CS.forEach(BO=>md.add(BO))})}});if(st.length){const Ve=[];st.forEach(Ye=>{Ve.push(`@${Ye.triggerName} has failed due to:\n`),Ye.errors.forEach(ot=>Ve.push(`- ${ot}\n`))}),ke.forEach(Ye=>Ye.destroy()),this.reportError(Ve)}const Tt=new Map,Ii=new Map;f.forEach(Ve=>{const Ye=Ve.element;o.has(Ye)&&(Ii.set(Ye,Ye),this._beforeAnimationBuild(Ve.player.namespaceId,Ve.instruction,Tt))}),a.forEach(Ve=>{const Ye=Ve.element;this._getPreviousPlayers(Ye,!1,Ve.namespaceId,Ve.triggerName,null).forEach(Mt=>{kr(Tt,Ye,[]).push(Mt),Mt.destroy()})});const Ur=q.filter(Ve=>l0(Ve,_,w)),ro=new Map;o0(ro,this.driver,ve,w,Eo).forEach(Ve=>{l0(Ve,_,w)&&Ur.push(Ve)});const Hv=new Map;I.forEach((Ve,Ye)=>{o0(Hv,this.driver,new Set(Ve),_,"!")}),Ur.forEach(Ve=>{const Ye=ro.get(Ve),ot=Hv.get(Ve);ro.set(Ve,Object.assign(Object.assign({},Ye),ot))});const gd=[],XV=[],eB={};f.forEach(Ve=>{const{element:Ye,player:ot,instruction:Mt}=Ve;if(o.has(Ye)){if(C.has(Ye))return ot.onDestroy(()=>Zr(Ye,Mt.toStyles)),ot.disabled=!0,ot.overrideTotalTime(Mt.totalTime),void a.push(ot);let ir=eB;if(Ii.size>1){let Ri=Ye;const nu=[];for(;Ri=Ri.parentNode;){const vn=Ii.get(Ri);if(vn){ir=vn;break}nu.push(Ri)}nu.forEach(vn=>Ii.set(vn,ir))}const cs=this._buildAnimation(ot.namespaceId,Mt,Tt,c,Hv,ro);if(ot.setRealPlayer(cs),ir===eB)gd.push(ot);else{const Ri=this.playersByElement.get(ir);Ri&&Ri.length&&(ot.parentPlayer=Do(Ri)),a.push(ot)}}else To(Ye,Mt.fromStyles),ot.onDestroy(()=>Zr(Ye,Mt.toStyles)),XV.push(ot),C.has(Ye)&&a.push(ot)}),XV.forEach(Ve=>{const Ye=c.get(Ve.element);if(Ye&&Ye.length){const ot=Do(Ye);Ve.setRealPlayer(ot)}}),a.forEach(Ve=>{Ve.parentPlayer?Ve.syncPlayerEvents(Ve.parentPlayer):Ve.destroy()});for(let Ve=0;Ve<q.length;Ve++){const Ye=q[Ve],ot=Ye[Pr];if(vl(Ye,kh),ot&&ot.hasAnimation)continue;let Mt=[];if(m.size){let cs=m.get(Ye);cs&&cs.length&&Mt.push(...cs);let Ri=this.driver.query(Ye,Qm,!0);for(let nu=0;nu<Ri.length;nu++){let vn=m.get(Ri[nu]);vn&&vn.length&&Mt.push(...vn)}}const ir=Mt.filter(cs=>!cs.destroyed);ir.length?qA(this,Ye,ir):this.processLeaveNode(Ye)}return q.length=0,gd.forEach(Ve=>{this.players.push(Ve),Ve.onDone(()=>{Ve.destroy();const Ye=this.players.indexOf(Ve);this.players.splice(Ye,1)}),Ve.play()}),gd}elementContainsData(t,e){let o=!1;const a=e[Pr];return a&&a.setForRemoval&&(o=!0),this.playersByElement.has(e)&&(o=!0),this.playersByQueriedElement.has(e)&&(o=!0),this.statesByElement.has(e)&&(o=!0),this._fetchNamespace(t).elementContainsData(e)||o}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,o,a,c){let f=[];if(e){const m=this.playersByQueriedElement.get(t);m&&(f=m)}else{const m=this.playersByElement.get(t);if(m){const _=!c||c==Zs;m.forEach(w=>{w.queued||!_&&w.triggerName!=a||f.push(w)})}}return(o||a)&&(f=f.filter(m=>!(o&&o!=m.namespaceId||a&&a!=m.triggerName))),f}_beforeAnimationBuild(t,e,o){const c=e.element,f=e.isRemovalTransition?void 0:t,m=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const w=_.element,C=w!==c,S=kr(o,w,[]);this._getPreviousPlayers(w,C,f,m,e.toState).forEach(I=>{const F=I.getRealPlayer();F.beforeDestroy&&F.beforeDestroy(),I.destroy(),S.push(I)})}To(c,e.fromStyles)}_buildAnimation(t,e,o,a,c,f){const m=e.triggerName,_=e.element,w=[],C=new Set,S=new Set,T=e.timelines.map(F=>{const j=F.element;C.add(j);const q=j[Pr];if(q&&q.removedBeforeQueried)return new hl(F.duration,F.delay);const ce=j!==_,ve=function(i){const t=[];return vy(i,t),t}((o.get(j)||UA).map(Tt=>Tt.getRealPlayer())).filter(Tt=>!!Tt.element&&Tt.element===j),Ce=c.get(j),xe=f.get(j),ke=NC(0,this._normalizer,0,F.keyframes,Ce,xe),st=this._buildPlayer(F,ke,ve);if(F.subTimeline&&a&&S.add(j),ce){const Tt=new yy(t,m,j);Tt.setRealPlayer(st),w.push(Tt)}return st});w.forEach(F=>{kr(this.playersByQueriedElement,F.element,[]).push(F),F.onDone(()=>function(i,t,e){let o;if(i instanceof Map){if(o=i.get(t),o){if(o.length){const a=o.indexOf(e);o.splice(a,1)}0==o.length&&i.delete(t)}}else if(o=i[t],o){if(o.length){const a=o.indexOf(e);o.splice(a,1)}0==o.length&&delete i[t]}return o}(this.playersByQueriedElement,F.element,F))}),C.forEach(F=>Xr(F,UC));const I=Do(T);return I.onDestroy(()=>{C.forEach(F=>vl(F,UC)),Zr(_,e.toStyles)}),S.forEach(F=>{kr(a,F,[]).push(I)}),I}_buildPlayer(t,e,o){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,o):new hl(t.duration,t.delay)}}class yy{constructor(t,e,o){this.namespaceId=t,this.triggerName=e,this.element=o,this._player=new hl,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(o=>Ih(t,e,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){kr(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function _l(i){return i&&1===i.nodeType}function _y(i,t){const e=i.style.display;return i.style.display=null!=t?t:"none",e}function o0(i,t,e,o,a){const c=[];e.forEach(_=>c.push(_y(_)));const f=[];o.forEach((_,w)=>{const C={};_.forEach(S=>{const T=C[S]=t.computeStyle(w,S,a);(!T||0==T.length)&&(w[Pr]=HA,f.push(w))}),i.set(w,C)});let m=0;return e.forEach(_=>_y(_,c[m++])),f}function s0(i,t){const e=new Map;if(i.forEach(m=>e.set(m,[])),0==t.length)return e;const a=new Set(t),c=new Map;function f(m){if(!m)return 1;let _=c.get(m);if(_)return _;const w=m.parentNode;return _=e.has(w)?w:a.has(w)?1:f(w),c.set(m,_),_}return t.forEach(m=>{const _=f(m);1!==_&&e.get(_).push(m)}),e}const zh="$$classes";function Xr(i,t){if(i.classList)i.classList.add(t);else{let e=i[zh];e||(e=i[zh]={}),e[t]=!0}}function vl(i,t){if(i.classList)i.classList.remove(t);else{let e=i[zh];e&&delete e[t]}}function qA(i,t,e){Do(e).onDone(()=>i.processLeaveNode(t))}function vy(i,t){for(let e=0;e<i.length;e++){const o=i[e];o instanceof kC?vy(o.players,t):t.push(o)}}function l0(i,t,e){const o=e.get(i);if(!o)return!1;let a=t.get(i);return a?o.forEach(c=>a.add(c)):t.set(i,o),e.delete(i),!0}class $h{constructor(t,e,o){this.bodyNode=t,this._driver=e,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(a,c)=>{},this._transitionEngine=new r0(t,e,o),this._timelineEngine=new VA(t,e,o),this._transitionEngine.onRemovalComplete=(a,c)=>this.onRemovalComplete(a,c)}registerTrigger(t,e,o,a,c){const f=t+"-"+a;let m=this._triggerCache[f];if(!m){const _=[],w=oy(this._driver,c,_);if(_.length)throw new Error(`The animation trigger "${a}" has failed to build due to the following errors:\n - ${_.join("\n - ")}`);m=function(i,t,e){return new NA(i,t,e)}(a,w,this._normalizer),this._triggerCache[f]=m}this._transitionEngine.registerTrigger(e,a,m)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,o,a){this._transitionEngine.insertNode(t,e,o,a)}onRemove(t,e,o,a){this._transitionEngine.removeNode(t,e,a||!1,o)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,o,a){if("@"==o.charAt(0)){const[c,f]=Hm(o);this._timelineEngine.command(c,e,f,a)}else this._transitionEngine.trigger(t,e,o,a)}listen(t,e,o,a,c){if("@"==o.charAt(0)){const[f,m]=Hm(o);return this._timelineEngine.listen(f,e,m,c)}return this._transitionEngine.listen(t,e,o,a,c)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function by(i,t){let e=null,o=null;return Array.isArray(t)&&t.length?(e=wy(t[0]),t.length>1&&(o=wy(t[t.length-1]))):t&&(e=wy(t)),e||o?new bl(i,e,o):null}class bl{constructor(t,e,o){this._element=t,this._startStyles=e,this._endStyles=o,this._state=0;let a=bl.initialStylesByElement.get(t);a||bl.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Zr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zr(this._element,this._initialStyles),this._endStyles&&(Zr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(bl.initialStylesByElement.delete(this._element),this._startStyles&&(To(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(To(this._element,this._endStyles),this._endStyles=null),Zr(this._element,this._initialStyles),this._state=3)}}function wy(i){let t=null;const e=Object.keys(i);for(let o=0;o<e.length;o++){const a=e[o];WA(a)&&(t=t||{},t[a]=i[a])}return t}function WA(i){return"display"===i||"position"===i}bl.initialStylesByElement=new WeakMap;const qh="animation",Ey="animationend";class KA{constructor(t,e,o,a,c,f,m){this._element=t,this._name=e,this._duration=o,this._delay=a,this._easing=c,this._fillMode=f,this._onDoneFn=m,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=_=>this._handleCallback(_)}apply(){(function(i,t){const e=Yh(i,"").trim();let o=0;e.length&&(function(i,t){let e=0;for(let o=0;o<i.length;o++)","===i.charAt(o)&&e++;return e}(e)+1,t=`${e}, ${t}`),hc(i,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Ay(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){u0(this._element,this._name,"paused")}resume(){u0(this._element,this._name,"running")}setPosition(t){const e=Ty(this._element,this._name);this._position=t*this._duration,hc(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),o=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&o>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Ay(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(i,t){const o=Yh(i,"").split(","),a=My(o,t);a>=0&&(o.splice(a,1),hc(i,"",o.join(",")))}(this._element,this._name))}}function u0(i,t,e){hc(i,"PlayState",e,Ty(i,t))}function Ty(i,t){const e=Yh(i,"");return e.indexOf(",")>0?My(e.split(","),t):My([e],t)}function My(i,t){for(let e=0;e<i.length;e++)if(i[e].indexOf(t)>=0)return e;return-1}function Ay(i,t,e){e?i.removeEventListener(Ey,t):i.addEventListener(Ey,t)}function hc(i,t,e,o){const a=qh+t;if(null!=o){const c=i.style[a];if(c.length){const f=c.split(",");f[o]=e,e=f.join(",")}}i.style[a]=e}function Yh(i,t){return i.style[qh+t]||""}class ZA{constructor(t,e,o,a,c,f,m,_){this.element=t,this.keyframes=e,this.animationName=o,this._duration=a,this._delay=c,this._finalStyles=m,this._specialStyles=_,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=f||"linear",this.totalTime=a+c,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new KA(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(o=>{"offset"!=o&&(t[o]=e?this._finalStyles[o]:ny(this.element,o))})}this.currentSnapshot=t}}class Iy extends hl{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=VC(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class ea{constructor(){this._count=0}validateStyleProperty(t){return Oh(t)}matchesElement(t,e){return qm(t,e)}containsElement(t,e){return Ym(t,e)}query(t,e,o){return Wm(t,e,o)}computeStyle(t,e,o){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,o){o=o.map(m=>VC(m));let a=`@keyframes ${e} {\n`,c="";o.forEach(m=>{c=" ";const _=parseFloat(m.offset);a+=`${c}${100*_}% {\n`,c+=" ",Object.keys(m).forEach(w=>{const C=m[w];switch(w){case"offset":return;case"easing":return void(C&&(a+=`${c}animation-timing-function: ${C};\n`));default:return void(a+=`${c}${w}: ${C};\n`)}}),a+=`${c}}\n`}),a+="}\n";const f=document.createElement("style");return f.textContent=a,f}animate(t,e,o,a,c,f=[],m){const _=f.filter(q=>q instanceof ZA),w={};SA(o,a)&&_.forEach(q=>{let ce=q.currentSnapshot;Object.keys(ce).forEach(ve=>w[ve]=ce[ve])});const C=function(i){let t={};return i&&(Array.isArray(i)?i:[i]).forEach(o=>{Object.keys(o).forEach(a=>{"offset"==a||"easing"==a||(t[a]=o[a])})}),t}(e=$e(t,e,w));if(0==o)return new Iy(t,C);const S="gen_css_kf_"+this._count++,T=this.buildKeyframeElement(t,S,e);(function(i){var t;const e=null===(t=i.getRootNode)||void 0===t?void 0:t.call(i);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(T);const F=by(t,e),j=new ZA(t,e,S,o,a,c,C,F);return j.onDestroy(()=>{var i;(i=T).parentNode.removeChild(i)}),j}}class nI{constructor(t,e,o,a){this.element=t,this.keyframes=e,this.options=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,o){return t.animate(e,o)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:ny(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}class Kh{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(d0().toString()),this._cssKeyframesDriver=new ea}validateStyleProperty(t){return Oh(t)}matchesElement(t,e){return qm(t,e)}containsElement(t,e){return Ym(t,e)}query(t,e,o){return Wm(t,e,o)}computeStyle(t,e,o){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,o,a,c,f=[],m){if(!m&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,o,a,c,f);const C={duration:o,delay:a,fill:0==a?"both":"forwards"};c&&(C.easing=c);const S={},T=f.filter(F=>F instanceof nI);SA(o,a)&&T.forEach(F=>{let j=F.currentSnapshot;Object.keys(j).forEach(q=>S[q]=j[q])});const I=by(t,e=$e(t,e=e.map(F=>So(F,!1)),S));return new nI(t,e,C,I)}}function d0(){return fl()&&Element.prototype.animate||{}}let cN=(()=>{class i extends IC{constructor(e,o){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(o.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(e){const o=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(e)?Ah(e):e;return h0(this._renderer,null,o,"register",[a]),new iI(o,this._renderer)}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(h.FYo),h.LFG(J))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();class iI extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new oI(this._id,t,e||{},this._renderer)}}class oI{constructor(t,e,o,a){this.id=t,this.element=e,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return h0(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function h0(i,t,e,o,a){return i.setProperty(t,`@@${e}:${o}`,a)}const Ry="@.disabled";let xy=(()=>{class i{constructor(e,o,a){this.delegate=e,this.engine=o,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(c,f)=>{f&&f.parentNode(c)&&f.removeChild(c.parentNode,c)}}createRenderer(e,o){const c=this.delegate.createRenderer(e,o);if(!(e&&o&&o.data&&o.data.animation)){let C=this._rendererCache.get(c);return C||(C=new Oy("",c,this.engine),this._rendererCache.set(c,C)),C}const f=o.id,m=o.id+"-"+this._currentId;this._currentId++,this.engine.register(m,e);const _=C=>{Array.isArray(C)?C.forEach(_):this.engine.registerTrigger(f,m,e,C.name,C)};return o.data.animation.forEach(_),new sI(this,m,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,o,a){e>=0&&e<this._microtaskId?this._zone.run(()=>o(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[f,m]=c;f(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(h.FYo),h.LFG($h),h.LFG(h.R0b))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();class Oy{constructor(t,e,o){this.namespaceId=t,this.delegate=e,this.engine=o,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,o,a=!0){this.delegate.insertBefore(t,e,o),this.engine.onInsert(this.namespaceId,e,t,a)}removeChild(t,e,o){this.engine.onRemove(this.namespaceId,e,this.delegate,o)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,o,a){this.delegate.setAttribute(t,e,o,a)}removeAttribute(t,e,o){this.delegate.removeAttribute(t,e,o)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,o,a){this.delegate.setStyle(t,e,o,a)}removeStyle(t,e,o){this.delegate.removeStyle(t,e,o)}setProperty(t,e,o){"@"==e.charAt(0)&&e==Ry?this.disableAnimations(t,!!o):this.delegate.setProperty(t,e,o)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,o){return this.delegate.listen(t,e,o)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class sI extends Oy{constructor(t,e,o,a){super(e,o,a),this.factory=t,this.namespaceId=e}setProperty(t,e,o){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Ry?this.disableAnimations(t,o=void 0===o||!!o):this.engine.process(this.namespaceId,t,e.substr(1),o):this.delegate.setProperty(t,e,o)}listen(t,e,o){if("@"==e.charAt(0)){const a=function(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(t);let c=e.substr(1),f="";return"@"!=c.charAt(0)&&([c,f]=function(i){const t=i.indexOf(".");return[i.substring(0,t),i.substr(t+1)]}(c)),this.engine.listen(this.namespaceId,a,c,f,m=>{this.factory.scheduleListenerCallback(m._data||-1,o,m)})}return this.delegate.listen(t,e,o)}}let lI=(()=>{class i extends $h{constructor(e,o,a){super(e.body,o,a)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(J),h.LFG(Fh),h.LFG(dy))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();const Mo=new h.OlP("AnimationModuleType"),g0=[{provide:IC,useClass:cN},{provide:dy,useFactory:function(){return new iN}},{provide:$h,useClass:lI},{provide:h.FYo,useFactory:function(i,t,e){return new xy(i,t,e)},deps:[ao,$h,h.R0b]}],m0=[{provide:Fh,useFactory:function(){return"function"==typeof d0()?new Kh:new ea}},{provide:Mo,useValue:"BrowserAnimations"},...g0],Fy=[{provide:Fh,useClass:BC},{provide:Mo,useValue:"NoopAnimations"},...g0];let Qh=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?Fy:m0}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:m0,imports:[Xp]}),i})();const _0=new h.GfV("12.2.2"),hI=new h.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Yi,hn=(()=>{class i{constructor(e,o,a){this._hasDoneGlobalChecks=!1,this._document=a,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=o,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const e=this._document.defaultView||window;return"object"==typeof e&&e?e:null}_checkIsEnabled(e){return!(!(0,h.X6Q)()||this._isTestEnv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const o=getComputedStyle(e);o&&"none"!==o.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&_0.full!==AC.full&&console.warn("The Angular Material version ("+_0.full+") does not match the Angular CDK version ("+AC.full+").\nPlease ensure the versions of these two packages exactly match.")}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(Vm),h.LFG(hI,8),h.LFG(J))},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[Us],Us]}),i})();function v0(i){return class extends i{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=sn(t)}}}function Xh(i,t){return class extends i{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const o=e||this.defaultColor;o!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),o&&this._elementRef.nativeElement.classList.add(`mat-${o}`),this._color=o)}}}function fI(i){return class extends i{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=sn(t)}}}function mN(i){return class extends i{constructor(...t){super(...t),this.stateChanges=new rt.xQ,this.errorState=!1}updateErrorState(){const t=this.errorState,c=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);c!==t&&(this.errorState=c,this.stateChanges.next())}}}try{Yi="undefined"!=typeof Intl}catch(i){Yi=!1}let ky=(()=>{class i{isErrorState(e,o){return!!(e&&e.invalid&&(e.touched||o&&o.submitted))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=h.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})();class D0{constructor(t,e,o){this._renderer=t,this.element=e,this.config=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const gc={enterDuration:225,exitDuration:150},S0=ol({passive:!0}),El=["mousedown","touchstart"],Dt=["mouseup","mouseleave","touchend","touchcancel"];class Jo{constructor(t,e,o,a){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,a.isBrowser&&(this._containerElement=Wr(o))}fadeInRipple(t,e,o={}){const a=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c=Object.assign(Object.assign({},gc),o.animation);o.centered&&(t=a.left+a.width/2,e=a.top+a.height/2);const f=o.radius||function(i,t,e){const o=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),a=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(o*o+a*a)}(t,e,a),m=t-a.left,_=e-a.top,w=c.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=m-f+"px",C.style.top=_-f+"px",C.style.height=2*f+"px",C.style.width=2*f+"px",null!=o.color&&(C.style.backgroundColor=o.color),C.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(C),window.getComputedStyle(C).getPropertyValue("opacity"),C.style.transform="scale(1)";const S=new D0(this,C,o);return S.state=0,this._activeRipples.add(S),o.persistent||(this._mostRecentTransientRipple=S),this._runTimeoutOutsideZone(()=>{const T=S===this._mostRecentTransientRipple;S.state=1,!o.persistent&&(!T||!this._isPointerDown)&&S.fadeOut()},w),S}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const o=t.element,a=Object.assign(Object.assign({},gc),t.config.animation);o.style.transitionDuration=`${a.exitDuration}ms`,o.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,o.parentNode.removeChild(o)},a.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Wr(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(El))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Dt),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Om(t),o=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!o&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Fm(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let o=0;o<e.length;o++)this.fadeInRipple(e[o].clientX,e[o].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,S0)})})}_removeTriggerEvents(){this._triggerElement&&(El.forEach(t=>{this._triggerElement.removeEventListener(t,this,S0)}),this._pointerUpEventsRegistered&&Dt.forEach(t=>{this._triggerElement.removeEventListener(t,this,S0)}))}}const CN=new h.OlP("mat-ripple-global-options");let Ke=(()=>{class i{constructor(e,o,a,c,f){this._elementRef=e,this._animationMode=f,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new Jo(this,o,e,a)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,o=0,a){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,o,Object.assign(Object.assign({},this.rippleConfig),a)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(Ot),h.Y36(CN,8),h.Y36(Mo,8))},i.\u0275dir=h.lG2({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,o){2&e&&h.ekj("mat-ripple-unbounded",o.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),i})(),Lr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[hn,Vs],hn]}),i})();function Sl(i,t){}class ia{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const TI={dialogContainer:Bm("dialogContainer",[jm("void, exit",Un({opacity:0,transform:"scale(0.7)"})),jm("enter",Un({transform:"none"})),Jr("* => enter",xC("150ms cubic-bezier(0, 0, 0.2, 1)",Un({transform:"none",opacity:1}))),Jr("* => void, * => exit",xC("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Un({opacity:0})))])};let MI=(()=>{class i extends Rw{constructor(e,o,a,c,f,m){super(),this._elementRef=e,this._focusTrapFactory=o,this._changeDetectorRef=a,this._config=f,this._focusMonitor=m,this._animationStateChanged=new h.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=_=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(_)),this._ariaLabelledBy=f.ariaLabelledBy||null,this._document=c}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const o=bo(),a=this._elementRef.nativeElement;(!o||o===this._document.body||o===a||a.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=bo())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,o=bo();return e===o||e.contains(o)}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.SBq),h.Y36(_C),h.Y36(h.sBO),h.Y36(J,8),h.Y36(ia),h.Y36(Th))},i.\u0275dir=h.lG2({type:i,viewQuery:function(e,o){if(1&e&&h.Gf(fh,7),2&e){let a;h.iGM(a=h.CRH())&&(o._portalOutlet=a.first)}},features:[h.qOj]}),i})(),R0=(()=>{class i extends MI{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:o}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:o})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:o}))}_onAnimationStart({toState:e,totalTime:o}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:o}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:o})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=h.n5z(i)))(o||i)}}(),i.\u0275cmp=h.Xpm({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,o){1&e&&h.WFA("@dialogContainer.start",function(c){return o._onAnimationStart(c)})("@dialogContainer.done",function(c){return o._onAnimationDone(c)}),2&e&&(h.Ikx("id",o._id),h.uIk("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledBy)("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),h.d8E("@dialogContainer",o._state))},features:[h.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,o){1&e&&h.YNc(0,Sl,0,0,"ng-template",0)},directives:[fh],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[TI.dialogContainer]}}),i})(),Py=0;class Ao{constructor(t,e,o="mat-dialog-"+Py++){this._overlayRef=t,this._containerInstance=e,this.id=o,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new rt.xQ,this._afterClosed=new rt.xQ,this._beforeClosed=new rt.xQ,this._state=0,e._id=o,e._animationStateChanged.pipe(br(a=>"opened"===a.state),ki(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(br(a=>"closed"===a.state),ki(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(br(a=>27===a.keyCode&&!this.disableClose&&!function(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}(a))).subscribe(a=>{a.preventDefault(),yc(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():yc(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(br(e=>"closing"===e.state),ki(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function yc(i,t,e){return void 0!==i._containerInstance&&(i._containerInstance._closeInteractionType=t),i.close(e)}const tf=new h.OlP("MatDialogData"),Ml=new h.OlP("mat-dialog-default-options"),x0=new h.OlP("mat-dialog-scroll-strategy"),F0={provide:x0,deps:[Wo],useFactory:function(i){return()=>i.scrollStrategies.block()}};let k0=(()=>{class i{constructor(e,o,a,c,f,m,_,w,C){this._overlay=e,this._injector=o,this._defaultOptions=a,this._parentDialog=c,this._overlayContainer=f,this._dialogRefConstructor=_,this._dialogContainerType=w,this._dialogDataToken=C,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new rt.xQ,this._afterOpenedAtThisLevel=new rt.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=co(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ho(void 0))),this._scrollStrategy=m}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,o){(o=function(i,t){return Object.assign(Object.assign({},t),i)}(o,this._defaultOptions||new ia)).id&&this.getDialogById(o.id);const a=this._createOverlay(o),c=this._attachDialogContainer(a,o),f=this._attachDialogContent(e,c,a,o);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.afterClosed().subscribe(()=>this._removeOpenDialog(f)),this.afterOpened.next(f),c._initializeWithAttachedContent(),f}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(o=>o.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const o=this._getOverlayConfig(e);return this._overlay.create(o)}_getOverlayConfig(e){const o=new wh({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(o.backdropClass=e.backdropClass),o}_attachDialogContainer(e,o){const c=h.zs3.create({parent:o&&o.viewContainerRef&&o.viewContainerRef.injector||this._injector,providers:[{provide:ia,useValue:o}]}),f=new qu(this._dialogContainerType,o.viewContainerRef,c,o.componentFactoryResolver);return e.attach(f).instance}_attachDialogContent(e,o,a,c){const f=new this._dialogRefConstructor(a,o,c.id);if(e instanceof h.Rgc)o.attachTemplatePortal(new hh(e,null,{$implicit:c.data,dialogRef:f}));else{const m=this._createInjector(c,f,o),_=o.attachComponentPortal(new qu(e,c.viewContainerRef,m));f.componentInstance=_.instance}return f.updateSize(c.width,c.height).updatePosition(c.position),f}_createInjector(e,o,a){const c=e&&e.viewContainerRef&&e.viewContainerRef.injector,f=[{provide:this._dialogContainerType,useValue:a},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:o}];return e.direction&&(!c||!c.get(Ui,null,h.XFs.Optional))&&f.push({provide:Ui,useValue:{value:e.direction,change:(0,Pe.of)()}}),h.zs3.create({parent:c||this._injector,providers:f})}_removeOpenDialog(e){const o=this.openDialogs.indexOf(e);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,c)=>{a?c.setAttribute("aria-hidden",a):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const o=e.parentElement.children;for(let a=o.length-1;a>-1;a--){let c=o[a];c!==e&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let o=e.length;for(;o--;)e[o].close()}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(Wo),h.Y36(h.zs3),h.Y36(void 0),h.Y36(void 0),h.Y36(cl),h.Y36(void 0),h.Y36(h.DyG),h.Y36(h.DyG),h.Y36(h.OlP))},i.\u0275dir=h.lG2({type:i}),i})(),oa=(()=>{class i extends k0{constructor(e,o,a,c,f,m,_){super(e,o,c,m,_,f,Ao,R0,tf)}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(Wo),h.LFG(h.zs3),h.LFG(lt,8),h.LFG(Ml,8),h.LFG(x0),h.LFG(i,12),h.LFG(cl))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})(),By=(()=>{class i{constructor(e,o,a){this.dialogRef=e,this._elementRef=o,this._dialog=a,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function(i,t){let e=i.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(o=>o.id===e.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const o=e._matDialogClose||e._matDialogCloseResult;o&&(this.dialogResult=o.currentValue)}_onButtonClick(e){yc(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(Ao,8),h.Y36(h.SBq),h.Y36(oa))},i.\u0275dir=h.lG2({type:i,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,o){1&e&&h.NdJ("click",function(c){return o._onButtonClick(c)}),2&e&&h.uIk("aria-label",o.ariaLabel||null)("type",o.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[h.TTD]}),i})(),Ze=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=h.lG2({type:i,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),i})();let _c=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:[oa,F0],imports:[[sC,Yu,hn],hn]}),i})();const RI=["underline"],xI=["connectionContainer"],OI=["inputContainer"],SN=["label"];function TN(i,t){1&i&&(h.ynx(0),h.TgZ(1,"div",14),h._UZ(2,"div",15),h._UZ(3,"div",16),h._UZ(4,"div",17),h.qZA(),h.TgZ(5,"div",18),h._UZ(6,"div",15),h._UZ(7,"div",16),h._UZ(8,"div",17),h.qZA(),h.BQk())}function FI(i,t){1&i&&(h.TgZ(0,"div",19),h.Hsn(1,1),h.qZA())}function Zn(i,t){if(1&i&&(h.ynx(0),h.Hsn(1,2),h.TgZ(2,"span"),h._uU(3),h.qZA(),h.BQk()),2&i){const e=h.oxw(2);h.xp6(3),h.Oqu(e._control.placeholder)}}function kI(i,t){1&i&&h.Hsn(0,3,["*ngSwitchCase","true"])}function NI(i,t){1&i&&(h.TgZ(0,"span",23),h._uU(1," *"),h.qZA())}function jy(i,t){if(1&i){const e=h.EpF();h.TgZ(0,"label",20,21),h.NdJ("cdkObserveContent",function(){return h.CHM(e),h.oxw().updateOutlineGap()}),h.YNc(2,Zn,4,1,"ng-container",12),h.YNc(3,kI,1,0,"ng-content",12),h.YNc(4,NI,2,0,"span",22),h.qZA()}if(2&i){const e=h.oxw();h.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),h.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),h.uIk("for",e._control.id)("aria-owns",e._control.id),h.xp6(2),h.Q6J("ngSwitchCase",!1),h.xp6(1),h.Q6J("ngSwitchCase",!0),h.xp6(1),h.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function PI(i,t){1&i&&(h.TgZ(0,"div",24),h.Hsn(1,4),h.qZA())}function LI(i,t){if(1&i&&(h.TgZ(0,"div",25,26),h._UZ(2,"span",27),h.qZA()),2&i){const e=h.oxw();h.xp6(2),h.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function VI(i,t){if(1&i&&(h.TgZ(0,"div"),h.Hsn(1,5),h.qZA()),2&i){const e=h.oxw();h.Q6J("@transitionMessages",e._subscriptAnimationState)}}function BI(i,t){if(1&i&&(h.TgZ(0,"div",31),h._uU(1),h.qZA()),2&i){const e=h.oxw(2);h.Q6J("id",e._hintLabelId),h.xp6(1),h.Oqu(e.hintLabel)}}function jI(i,t){if(1&i&&(h.TgZ(0,"div",28),h.YNc(1,BI,2,2,"div",29),h.Hsn(2,6),h._UZ(3,"div",30),h.Hsn(4,7),h.qZA()),2&i){const e=h.oxw();h.Q6J("@transitionMessages",e._subscriptAnimationState),h.xp6(1),h.Q6J("ngIf",e.hintLabel)}}const UI=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Uy=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],N0=new h.OlP("MatError"),Hy={transitionMessages:Bm("transitionMessages",[jm("enter",Un({opacity:1,transform:"translateY(0%)"})),Jr("void => enter",[Un({opacity:0,transform:"translateY(-5px)"}),xC("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Gy=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=h.lG2({type:i}),i})();const P0=new h.OlP("MatHint");let zy=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=h.lG2({type:i,selectors:[["mat-label"]]}),i})(),vc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=h.lG2({type:i,selectors:[["mat-placeholder"]]}),i})();const L0=new h.OlP("MatPrefix"),$y=new h.OlP("MatSuffix");let $I=0;const qI=Xh(class{constructor(i){this._elementRef=i}},"primary"),YI=new h.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),j0=new h.OlP("MatFormField");let WI=(()=>{class i extends qI{constructor(e,o,a,c,f,m,_,w){super(e),this._changeDetectorRef=o,this._dir=c,this._defaults=f,this._platform=m,this._ngZone=_,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new rt.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+$I++,this._labelId="mat-form-field-label-"+$I++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==w,this.appearance=f&&f.appearance?f.appearance:"legacy",this._hideRequiredMarker=!(!f||null==f.hideRequiredMarker)&&f.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const o=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&o!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=sn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(ho(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Kr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Kr(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,fm.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ho(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ho(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Kr(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const o=this._control?this._control.ngControl:null;return o&&o[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ps(this._label.nativeElement,"transitionend").pipe(ki(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const o=this._hintChildren?this._hintChildren.find(c=>"start"===c.align):null,a=this._hintChildren?this._hintChildren.find(c=>"end"===c.align):null;o?e.push(o.id):this._hintLabel&&e.push(this._hintLabelId),a&&e.push(a.id)}else this._errorChildren&&e.push(...this._errorChildren.map(o=>o.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let o=0,a=0;const c=this._connectionContainerRef.nativeElement,f=c.querySelectorAll(".mat-form-field-outline-start"),m=c.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const _=c.getBoundingClientRect();if(0===_.width&&0===_.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const w=this._getStartEnd(_),C=e.children,S=this._getStartEnd(C[0].getBoundingClientRect());let T=0;for(let I=0;I<C.length;I++)T+=C[I].offsetWidth;o=Math.abs(S-w)-5,a=T>0?.75*T+10:0}for(let _=0;_<f.length;_++)f[_].style.width=`${o}px`;for(let _=0;_<m.length;_++)m[_].style.width=`${a}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const o=e.getRootNode();return o&&o!==e}return document.documentElement.contains(e)}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(Ui,8),h.Y36(YI,8),h.Y36(Ot),h.Y36(h.R0b),h.Y36(Mo,8))},i.\u0275cmp=h.Xpm({type:i,selectors:[["mat-form-field"]],contentQueries:function(e,o,a){if(1&e&&(h.Suo(a,Gy,5),h.Suo(a,Gy,7),h.Suo(a,zy,5),h.Suo(a,zy,7),h.Suo(a,vc,5),h.Suo(a,N0,5),h.Suo(a,P0,5),h.Suo(a,L0,5),h.Suo(a,$y,5)),2&e){let c;h.iGM(c=h.CRH())&&(o._controlNonStatic=c.first),h.iGM(c=h.CRH())&&(o._controlStatic=c.first),h.iGM(c=h.CRH())&&(o._labelChildNonStatic=c.first),h.iGM(c=h.CRH())&&(o._labelChildStatic=c.first),h.iGM(c=h.CRH())&&(o._placeholderChild=c.first),h.iGM(c=h.CRH())&&(o._errorChildren=c),h.iGM(c=h.CRH())&&(o._hintChildren=c),h.iGM(c=h.CRH())&&(o._prefixChildren=c),h.iGM(c=h.CRH())&&(o._suffixChildren=c)}},viewQuery:function(e,o){if(1&e&&(h.Gf(RI,5),h.Gf(xI,7),h.Gf(OI,5),h.Gf(SN,5)),2&e){let a;h.iGM(a=h.CRH())&&(o.underlineRef=a.first),h.iGM(a=h.CRH())&&(o._connectionContainerRef=a.first),h.iGM(a=h.CRH())&&(o._inputContainerRef=a.first),h.iGM(a=h.CRH())&&(o._label=a.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,o){2&e&&h.ekj("mat-form-field-appearance-standard","standard"==o.appearance)("mat-form-field-appearance-fill","fill"==o.appearance)("mat-form-field-appearance-outline","outline"==o.appearance)("mat-form-field-appearance-legacy","legacy"==o.appearance)("mat-form-field-invalid",o._control.errorState)("mat-form-field-can-float",o._canLabelFloat())("mat-form-field-should-float",o._shouldLabelFloat())("mat-form-field-has-label",o._hasFloatingLabel())("mat-form-field-hide-placeholder",o._hideControlPlaceholder())("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-focused",o._control.focused)("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))("_mat-animation-noopable",!o._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[h._Bn([{provide:j0,useExisting:i}]),h.qOj],ngContentSelectors:Uy,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,o){1&e&&(h.F$t(UI),h.TgZ(0,"div",0),h.TgZ(1,"div",1,2),h.NdJ("click",function(c){return o._control.onContainerClick&&o._control.onContainerClick(c)}),h.YNc(3,TN,9,0,"ng-container",3),h.YNc(4,FI,2,0,"div",4),h.TgZ(5,"div",5,6),h.Hsn(7),h.TgZ(8,"span",7),h.YNc(9,jy,5,16,"label",8),h.qZA(),h.qZA(),h.YNc(10,PI,2,0,"div",9),h.qZA(),h.YNc(11,LI,3,4,"div",10),h.TgZ(12,"div",11),h.YNc(13,VI,2,1,"div",12),h.YNc(14,jI,5,2,"div",13),h.qZA(),h.qZA()),2&e&&(h.xp6(3),h.Q6J("ngIf","outline"==o.appearance),h.xp6(1),h.Q6J("ngIf",o._prefixChildren.length),h.xp6(5),h.Q6J("ngIf",o._hasFloatingLabel()),h.xp6(1),h.Q6J("ngIf",o._suffixChildren.length),h.xp6(1),h.Q6J("ngIf","outline"!=o.appearance),h.xp6(1),h.Q6J("ngSwitch",o._getDisplayedMessages()),h.xp6(1),h.Q6J("ngSwitchCase","error"),h.xp6(1),h.Q6J("ngSwitchCase","hint"))},directives:[Oa,xi,Vn,aA],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Hy.transitionMessages]},changeDetection:0}),i})(),qy=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[du,hn,uC],hn]}),i})();const U0=ol({passive:!0});let H0=(()=>{class i{constructor(e,o){this._platform=e,this._ngZone=o,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return yi.E;const o=Wr(e),a=this._monitoredElements.get(o);if(a)return a.subject;const c=new rt.xQ,f="cdk-text-field-autofilled",m=_=>{"cdk-text-field-autofill-start"!==_.animationName||o.classList.contains(f)?"cdk-text-field-autofill-end"===_.animationName&&o.classList.contains(f)&&(o.classList.remove(f),this._ngZone.run(()=>c.next({target:_.target,isAutofilled:!1}))):(o.classList.add(f),this._ngZone.run(()=>c.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{o.addEventListener("animationstart",m,U0),o.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(o,{subject:c,unlisten:()=>{o.removeEventListener("animationstart",m,U0)}}),c}stopMonitoring(e){const o=Wr(e),a=this._monitoredElements.get(o);a&&(a.unlisten(),a.subject.complete(),o.classList.remove("cdk-text-field-autofill-monitored"),o.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(o))}ngOnDestroy(){this._monitoredElements.forEach((e,o)=>this.stopMonitoring(o))}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(Ot),h.LFG(h.R0b))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(Ot),h.LFG(h.R0b))},token:i,providedIn:"root"}),i})(),KI=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[Vs]]}),i})();var Yy=P(1555);function G0(...i){if(1===i.length){const t=i[0];if((0,vu.k)(t))return rf(t,null);if((0,Yy.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return rf(e.map(o=>t[o]),e)}}if("function"==typeof i[i.length-1]){const t=i.pop();return rf(i=1===i.length&&(0,vu.k)(i[0])?i[0]:i,null).pipe((0,Qe.U)(e=>t(...e)))}return rf(i,null)}function rf(i,t){return new nn.y(e=>{const o=i.length;if(0===o)return void e.complete();const a=new Array(o);let c=0,f=0;for(let m=0;m<o;m++){const _=(0,Gt.D)(i[m]);let w=!1;e.add(_.subscribe({next:C=>{w||(w=!0,f++),a[m]=C},error:C=>e.error(C),complete:()=>{c++,(c===o||!w)&&(f===o&&e.next(t?t.reduce((C,S,T)=>(C[S]=a[T],C),{}):a),e.complete())}}))}})}let z0=(()=>{class i{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.Qsj),h.Y36(h.SBq))},i.\u0275dir=h.lG2({type:i}),i})(),sa=(()=>{class i extends z0{}return i.\u0275fac=function(){let t;return function(o){return(t||(t=h.n5z(i)))(o||i)}}(),i.\u0275dir=h.lG2({type:i,features:[h.qOj]}),i})();const Wi=new h.OlP("NgValueAccessor"),Ky={provide:Wi,useExisting:(0,h.Gpc)(()=>Dn),multi:!0},Al=new h.OlP("CompositionEventMode");let Dn=(()=>{class i extends z0{constructor(e,o,a){super(e,o),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=fe()?fe().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Al,8))},i.\u0275dir=h.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&h.NdJ("input",function(c){return o._handleInput(c.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(c){return o._compositionEnd(c.target.value)})},features:[h._Bn([Ky]),h.qOj]}),i})();const xn=new h.OlP("NgValidators"),Zo=new h.OlP("NgAsyncValidators");function aa(i){return null!=i}function eR(i){const t=(0,h.QGY)(i)?(0,Gt.D)(i):i;return(0,h.CqO)(t),t}function Zy(i){let t={};return i.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function J0(i,t){return t.map(e=>e(i))}function Xy(i){return i.map(t=>function(i){return!i.validate}(t)?t:e=>t.validate(e))}function bc(i){return null!=i?function(i){if(!i)return null;const t=i.filter(aa);return 0==t.length?null:function(e){return Zy(J0(e,t))}}(Xy(i)):null}function sf(i){return null!=i?function(i){if(!i)return null;const t=i.filter(aa);return 0==t.length?null:function(e){return G0(J0(e,t).map(eR)).pipe((0,Qe.U)(Zy))}}(Xy(i)):null}function eE(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function tE(i){return i._rawValidators}function nE(i){return i._rawAsyncValidators}function e_(i){return i?Array.isArray(i)?i:[i]:[]}function af(i,t){return Array.isArray(i)?i.includes(t):i===t}function rE(i,t){const e=e_(t);return e_(i).forEach(a=>{af(e,a)||e.push(a)}),e}function iE(i,t){return e_(t).filter(e=>!af(i,e))}let oE=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=bc(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=sf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,o){return!!this.control&&this.control.hasError(e,o)}getError(e,o){return this.control?this.control.getError(e,o):null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=h.lG2({type:i}),i})(),Sn=(()=>{class i extends oE{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=h.n5z(i)))(o||i)}}(),i.\u0275dir=h.lG2({type:i,features:[h.qOj]}),i})();class Ki extends oE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let n_=(()=>{class i extends class{constructor(t){this._cd=t}is(t){var e,o,a;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(a=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===a?void 0:a[t])}}{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(Ki,2))},i.\u0275dir=h.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&h.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[h.qOj]}),i})();function wc(i,t){la(i,t),t.valueAccessor.writeValue(i.value),function(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&sE(i,t)})}(i,t),function(i,t){const e=(o,a)=>{t.valueAccessor.writeValue(o),a&&t.viewToModelUpdate(o)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&sE(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function(i,t){if(t.valueAccessor.setDisabledState){const e=o=>{t.valueAccessor.setDisabledState(o)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function uf(i,t,e=!0){const o=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(o),t.valueAccessor.registerOnTouched(o)),df(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function cf(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function la(i,t){const e=tE(i);null!==t.validator?i.setValidators(eE(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const o=nE(i);null!==t.asyncValidator?i.setAsyncValidators(eE(o,t.asyncValidator)):"function"==typeof o&&i.setAsyncValidators([o]);const a=()=>i.updateValueAndValidity();cf(t._rawValidators,a),cf(t._rawAsyncValidators,a)}function df(i,t){let e=!1;if(null!==i){if(null!==t.validator){const a=tE(i);if(Array.isArray(a)&&a.length>0){const c=a.filter(f=>f!==t.validator);c.length!==a.length&&(e=!0,i.setValidators(c))}}if(null!==t.asyncValidator){const a=nE(i);if(Array.isArray(a)&&a.length>0){const c=a.filter(f=>f!==t.asyncValidator);c.length!==a.length&&(e=!0,i.setAsyncValidators(c))}}}const o=()=>{};return cf(t._rawValidators,o),cf(t._rawAsyncValidators,o),e}function sE(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function aE(i,t){la(i,t)}function ff(i,t){i._syncPendingControls(),t.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}function pf(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const Sc="VALID",gf="INVALID",ua="PENDING",ca="DISABLED";function mf(i){return(_f(i)?i.validators:i)||null}function o_(i){return Array.isArray(i)?bc(i):i||null}function yf(i,t){return(_f(t)?t.asyncValidators:i)||null}function cE(i){return Array.isArray(i)?sf(i):i||null}function _f(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class vf{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=o_(this._rawValidators),this._composedAsyncValidatorFn=cE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Sc}get invalid(){return this.status===gf}get pending(){return this.status==ua}get disabled(){return this.status===ca}get enabled(){return this.status!==ca}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=o_(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=cE(t)}addValidators(t){this.setValidators(rE(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(rE(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(iE(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(iE(t,this._rawAsyncValidators))}hasValidator(t){return af(this._rawValidators,t)}hasAsyncValidator(t){return af(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ua,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ca,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Sc,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sc||this.status===ua)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ca:Sc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ua,this._hasOwnPendingAsyncValidator=!0;const e=eR(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(i,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let o=i;return t.forEach(a=>{o=o instanceof wf?o.controls.hasOwnProperty(a)?o.controls[a]:null:o instanceof sR&&o.at(a)||null}),o}(this,t)}getError(t,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?ca:this.errors?gf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ua)?ua:this._anyControlsHaveStatus(gf)?gf:Sc}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){_f(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class bf extends vf{constructor(t=null,e,o){super(mf(e),yf(o,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){pf(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){pf(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class wf extends vf{constructor(t,e,o){super(mf(e),yf(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,o={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((o,a)=>{o.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,o)=>(t[o]=e instanceof bf?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&t(o,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const o=this.controls[e];if(this.contains(e)&&t(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,o)=>((e.enabled||this.disabled)&&(t[o]=e.value),t))}_reduceChildren(t,e){let o=t;return this._forEachChild((a,c)=>{o=e(o,a,c)}),o}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,o)=>{if(void 0===t[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class sR extends vf{constructor(t,e,o){super(mf(e),yf(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,o={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((o,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((o,a)=>{this.at(a)&&this.at(a).patchValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((o,a)=>{o.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof bf?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,o)=>!!o._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,o)=>{t(e,o)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,o)=>{if(void 0===t[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const kN={provide:Sn,useExisting:(0,h.Gpc)(()=>Cf)},Ji=(()=>Promise.resolve(null))();let Cf=(()=>{class i extends Sn{constructor(e,o){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new h.vpe,this.form=new wf({},bc(e),sf(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ji.then(()=>{const o=this._findContainer(e.path);e.control=o.registerControl(e.name,e.control),wc(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ji.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name),pf(this._directives,e)})}addFormGroup(e){Ji.then(()=>{const o=this._findContainer(e.path),a=new wf({});aE(a,e),o.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ji.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,o){Ji.then(()=>{this.form.get(e.path).setValue(o)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,ff(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(xn,10),h.Y36(Zo,10))},i.\u0275dir=h.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,o){1&e&&h.NdJ("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([kN]),h.qOj]}),i})();const s_={provide:Ki,useExisting:(0,h.Gpc)(()=>l_)},a_=(()=>Promise.resolve(null))();let l_=(()=>{class i extends Ki{constructor(e,o,a,c){super(),this.control=new bf,this._registered=!1,this.update=new h.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(a),this.valueAccessor=function(i,t){if(!t)return null;let e,o,a;return Array.isArray(t),t.forEach(c=>{c.constructor===Dn?e=c:function(i){return Object.getPrototypeOf(i.constructor)===sa}(c)?o=c:a=c}),a||o||e||null}(0,c)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(i,t){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(i,t){return[...t.path,i]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){wc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){a_.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const o=e.isDisabled.currentValue,a=""===o||o&&"false"!==o;a_.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(Sn,9),h.Y36(xn,10),h.Y36(Zo,10),h.Y36(Wi,10))},i.\u0275dir=h.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([s_]),h.qOj,h.TTD]}),i})(),Ef=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({}),i})();const p_={provide:Sn,useExisting:(0,h.Gpc)(()=>Rl)};let Rl=(()=>{class i extends Sn{constructor(e,o){super(),this.validators=e,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(e),this._setAsyncValidators(o)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(df(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const o=this.form.get(e.path);return wc(o,e),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),o}getControl(e){return this.form.get(e.path)}removeControl(e){uf(e.control||null,e,!1),pf(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,o){this.form.get(e.path).setValue(o)}onSubmit(e){return this.submitted=!0,ff(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const o=e.control,a=this.form.get(e.path);o!==a&&(uf(o||null,e),a instanceof bf&&(wc(a,e),e.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const o=this.form.get(e.path);aE(o,e),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const o=this.form.get(e.path);o&&function(i,t){return df(i,t)}(o,e)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){la(this.form,this),this._oldForm&&df(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(xn,10),h.Y36(Zo,10))},i.\u0275dir=h.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(e,o){1&e&&h.NdJ("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([p_]),h.qOj,h.TTD]}),i})(),EE=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[Ef]]}),i})(),YN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[EE]}),i})();const JN=new h.OlP("MAT_INPUT_VALUE_ACCESSOR"),ZN=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let XN=0;const CR=mN(class{constructor(i,t,e,o){this._defaultErrorStateMatcher=i,this._parentForm=t,this._parentFormGroup=e,this.ngControl=o}});let e1=(()=>{class i extends CR{constructor(e,o,a,c,f,m,_,w,C,S){super(m,c,f,a),this._elementRef=e,this._platform=o,this._autofillMonitor=w,this._formField=S,this._uid="mat-input-"+XN++,this.focused=!1,this.stateChanges=new rt.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(F=>om().has(F));const T=this._elementRef.nativeElement,I=T.nodeName.toLowerCase();this._inputValueAccessor=_||T,this._previousNativeValue=this.value,this.id=this.id,o.IOS&&C.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",F=>{const j=F.target;!j.value&&0===j.selectionStart&&0===j.selectionEnd&&(j.setSelectionRange(1,1),j.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===I,this._isTextarea="textarea"===I,this._isInFormField=!!S,this._isNativeSelect&&(this.controlType=T.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=sn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=sn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&om().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=sn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,o;const a=(null===(o=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===o?void 0:o.call(e))?null:this.placeholder;if(a!==this._previousPlaceholder){const c=this._elementRef.nativeElement;this._previousPlaceholder=a,a?c.setAttribute("placeholder",a):c.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){ZN.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,o=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&o&&o.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.SBq),h.Y36(Ot),h.Y36(Ki,10),h.Y36(Cf,8),h.Y36(Rl,8),h.Y36(ky),h.Y36(JN,10),h.Y36(H0),h.Y36(h.R0b),h.Y36(j0,8))},i.\u0275dir=h.lG2({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(e,o){1&e&&h.NdJ("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),2&e&&(h.Ikx("disabled",o.disabled)("required",o.required),h.uIk("id",o.id)("data-placeholder",o.placeholder)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required),h.ekj("mat-input-server",o._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[h._Bn([{provide:Gy,useExisting:i}]),h.qOj,h.TTD]}),i})(),ER=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:[ky],imports:[[KI,qy,hn],KI,qy]}),i})();const Tf=["mat-button",""],da=["*"],SR=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],C_=Xh(v0(fI(class{constructor(i){this._elementRef=i}})));let Mf=(()=>{class i extends C_{constructor(e,o,a){super(e),this._focusMonitor=o,this._animationMode=a,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const c of SR)this._hasHostAttributes(c)&&this._getHostElement().classList.add(c);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,o){e?this._focusMonitor.focusVia(this._getHostElement(),e,o):this._getHostElement().focus(o)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(o=>this._getHostElement().hasAttribute(o))}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.SBq),h.Y36(Th),h.Y36(Mo,8))},i.\u0275cmp=h.Xpm({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,o){if(1&e&&h.Gf(Ke,5),2&e){let a;h.iGM(a=h.CRH())&&(o.ripple=a.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,o){2&e&&(h.uIk("disabled",o.disabled||null),h.ekj("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-button-disabled",o.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[h.qOj],attrs:Tf,ngContentSelectors:da,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,o){1&e&&(h.F$t(),h.TgZ(0,"span",0),h.Hsn(1),h.qZA(),h._UZ(2,"span",1),h._UZ(3,"span",2)),2&e&&(h.xp6(2),h.ekj("mat-button-ripple-round",o.isRoundButton||o.isIconButton),h.Q6J("matRippleDisabled",o._isRippleDisabled())("matRippleCentered",o.isIconButton)("matRippleTrigger",o._getHostElement()))},directives:[Ke],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),i})(),DE=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[Lr,hn],hn]}),i})();const t1=function(i){return{periodicElement:i}};let SE=(()=>{class i{constructor(e,o){this.dialogRef=e,this.data=o,this.backupTask=Object.assign({},this.data.periodicElement)}cancel(){this.data.periodicElement.name=this.backupTask.name,this.dialogRef.close(this.data)}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(Ao),h.Y36(tf))},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-task-dialog"]],decls:13,vars:5,consts:[["matInput","","cdkFocusInitial","",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"mat-dialog-close"],["mat-button","",3,"click"]],template:function(e,o){1&e&&(h.TgZ(0,"mat-form-field"),h.TgZ(1,"mat-label"),h._uU(2,"\u540d\u5b57"),h.qZA(),h.TgZ(3,"input",0),h.NdJ("ngModelChange",function(c){return o.data.periodicElement.name=c}),h.qZA(),h.qZA(),h.TgZ(4,"mat-form-field"),h.TgZ(5,"mat-label"),h._uU(6,"\u8a02\u55ae\u5167\u5bb9"),h.qZA(),h.TgZ(7,"input",0),h.NdJ("ngModelChange",function(c){return o.data.periodicElement.content=c}),h.qZA(),h.qZA(),h.TgZ(8,"div",1),h.TgZ(9,"button",2),h._uU(10,"OK"),h.qZA(),h.TgZ(11,"button",3),h.NdJ("click",function(){return o.cancel()}),h._uU(12,"Cancel"),h.qZA(),h.qZA()),2&e&&(h.xp6(3),h.Q6J("ngModel",o.data.periodicElement.name),h.xp6(4),h.Q6J("ngModel",o.data.periodicElement.content),h.xp6(2),h.Q6J("mat-dialog-close",h.VKq(3,t1,o.data.periodicElement)))},directives:[WI,zy,e1,Dn,n_,l_,Ze,Mf,By],styles:[""]}),i})();var Jt=P(57),TE=P(2329),n1=P(9759),x=P(4762),At=P(4685),ha=P(300),ME=function(i,t){return(ME=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a])})(i,t)};function AE(i){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&i[t],o=0;if(e)return e.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ne,r1="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Mc=Mc||{},et=r1||self;function E_(){}function IE(i){var t=typeof i;return"array"==(t="object"!=t?t:i?Array.isArray(i)?"array":t:"null")||"object"==t&&"number"==typeof i.length}function Ac(i){var t=typeof i;return"object"==t&&null!=i||"function"==t}var If="closure_uid_"+(1e9*Math.random()>>>0),MR=0;function o1(i,t,e){return i.call.apply(i.bind,arguments)}function s1(i,t,e){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,o),i.apply(t,a)}}return function(){return i.apply(t,arguments)}}function Hn(i,t,e){return(Hn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o1:s1).apply(null,arguments)}function es(i,t){var e=Array.prototype.slice.call(arguments,1);return function(){var o=e.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Gn(i,t){function e(){}e.prototype=t.prototype,i.Z=t.prototype,i.prototype=new e,i.prototype.constructor=i,i.Vb=function(o,a,c){for(var f=Array(arguments.length-2),m=2;m<arguments.length;m++)f[m-2]=arguments[m];return t.prototype[a].apply(o,f)}}function ts(){this.s=this.s,this.o=this.o}var D_={};ts.prototype.s=!1,ts.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,If)&&i[If]||(i[If]=++MR)}(this);delete D_[i]}},ts.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var RE=Array.prototype.indexOf?function(i,t){return Array.prototype.indexOf.call(i,t,void 0)}:function(i,t){if("string"==typeof i)return"string"!=typeof t||1!=t.length?-1:i.indexOf(t,0);for(var e=0;e<i.length;e++)if(e in i&&i[e]===t)return e;return-1},Er=Array.prototype.forEach?function(i,t,e){Array.prototype.forEach.call(i,t,e)}:function(i,t,e){for(var o=i.length,a="string"==typeof i?i.split(""):i,c=0;c<o;c++)c in a&&t.call(e,a[c],c,i)};function Rf(i){return Array.prototype.concat.apply([],arguments)}function S_(i){var t=i.length;if(0<t){for(var e=Array(t),o=0;o<t;o++)e[o]=i[o];return e}return[]}function xf(i){return/^[\s\xa0]*$/.test(i)}var cr,Of=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Xn(i,t){return-1!=i.indexOf(t)}function Ff(i,t){return i<t?-1:i>t?1:0}e:{var T_=et.navigator;if(T_){var M_=T_.userAgent;if(M_){cr=M_;break e}}cr=""}function A_(i,t,e){for(var o in i)t.call(e,i[o],o,i)}function xE(i){var t={};for(var e in i)t[e]=i[e];return t}var kf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I_(i,t){for(var e,o,a=1;a<arguments.length;a++){for(e in o=arguments[a])i[e]=o[e];for(var c=0;c<kf.length;c++)e=kf[c],Object.prototype.hasOwnProperty.call(o,e)&&(i[e]=o[e])}}function Nf(i){return Nf[" "](i),i}Nf[" "]=E_;var Pf,i,RR=Xn(cr,"Opera"),er=Xn(cr,"Trident")||Xn(cr,"MSIE"),OE=Xn(cr,"Edge"),FE=OE||er,kE=Xn(cr,"Gecko")&&!(Xn(cr.toLowerCase(),"webkit")&&!Xn(cr,"Edge"))&&!(Xn(cr,"Trident")||Xn(cr,"MSIE"))&&!Xn(cr,"Edge"),a1=Xn(cr.toLowerCase(),"webkit")&&!Xn(cr,"Edge");function NE(){var i=et.document;return i?i.documentMode:void 0}e:{var x_="",PE=(i=cr,kE?/rv:([^\);]+)(\)|;)/.exec(i):OE?/Edge\/([\d\.]+)/.exec(i):er?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):a1?/WebKit\/(\S+)/.exec(i):RR?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(PE&&(x_=PE?PE[1]:""),er){var O_=NE();if(null!=O_&&O_>parseFloat(x_)){Pf=String(O_);break e}}Pf=x_}var LE={};function xR(){return t=LE,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var i=0,t=Of(String(Pf)).split("."),e=Of("9").split("."),o=Math.max(t.length,e.length),a=0;0==i&&a<o;a++){var c=t[a]||"",f=e[a]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==c[0].length&&0==f[0].length)break;i=Ff(0==c[1].length?0:parseInt(c[1],10),0==f[1].length?0:parseInt(f[1],10))||Ff(0==c[2].length,0==f[2].length)||Ff(c[2],f[2]),c=c[3],f=f[3]}while(0==i)}return 0<=i}();var t}var OR=et.document&&er&&(NE()||parseInt(Pf,10))||void 0,l1=function(){if(!et.addEventListener||!Object.defineProperty)return!1;var i=!1,t=Object.defineProperty({},"passive",{get:function(){i=!0}});try{et.addEventListener("test",E_,t),et.removeEventListener("test",E_,t)}catch(e){}return i}();function zn(i,t){this.type=i,this.g=this.target=t,this.defaultPrevented=!1}function xl(i,t){if(zn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var e=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=t,t=i.relatedTarget){if(kE){e:{try{Nf(t.nodeName);var a=!0;break e}catch(c){}a=!1}a||(t=null)}}else"mouseover"==e?t=i.fromElement:"mouseout"==e&&(t=i.toElement);this.relatedTarget=t,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:FR[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&xl.Z.h.call(this)}}zn.prototype.h=function(){this.defaultPrevented=!0},Gn(xl,zn);var FR={2:"touch",3:"pen",4:"mouse"};xl.prototype.h=function(){xl.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ic="closure_listenable_"+(1e6*Math.random()|0),VE=0;function Rc(i,t,e,o,a){this.listener=i,this.proxy=null,this.src=t,this.type=e,this.capture=!!o,this.ia=a,this.key=++VE,this.ca=this.fa=!1}function Ol(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function xc(i){this.src=i,this.g={},this.h=0}function N_(i,t){var e=t.type;if(e in i.g){var c,o=i.g[e],a=RE(o,t);(c=0<=a)&&Array.prototype.splice.call(o,a,1),c&&(Ol(t),0==i.g[e].length&&(delete i.g[e],i.h--))}}function P_(i,t,e,o){for(var a=0;a<i.length;++a){var c=i[a];if(!c.ca&&c.listener==t&&c.capture==!!e&&c.ia==o)return a}return-1}xc.prototype.add=function(i,t,e,o,a){var c=i.toString();(i=this.g[c])||(i=this.g[c]=[],this.h++);var f=P_(i,t,o,a);return-1<f?(t=i[f],e||(t.fa=!1)):((t=new Rc(t,this.src,c,!!o,a)).fa=e,i.push(t)),t};var BE="closure_lm_"+(1e6*Math.random()|0),jE={};function kR(i,t,e,o,a){if(o&&o.once)return HE(i,t,e,o,a);if(Array.isArray(t)){for(var c=0;c<t.length;c++)kR(i,t[c],e,o,a);return null}return e=B_(e),i&&i[Ic]?i.N(t,e,Ac(o)?!!o.capture:!!o,a):L_(i,t,e,!1,o,a)}function L_(i,t,e,o,a,c){if(!t)throw Error("Invalid event type");var f=Ac(a)?!!a.capture:!!a,m=qE(i);if(m||(i[BE]=m=new xc(i)),(e=m.add(t,e,o,f,c)).proxy)return e;if(o=function(){var t=$E;return function i(e){return t.call(i.src,i.listener,e)}}(),e.proxy=o,o.src=i,o.listener=e,i.addEventListener)l1||(a=f),void 0===a&&(a=!1),i.addEventListener(t.toString(),o,a);else if(i.attachEvent)i.attachEvent(zE(t.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return e}function HE(i,t,e,o,a){if(Array.isArray(t)){for(var c=0;c<t.length;c++)HE(i,t[c],e,o,a);return null}return e=B_(e),i&&i[Ic]?i.O(t,e,Ac(o)?!!o.capture:!!o,a):L_(i,t,e,!0,o,a)}function GE(i,t,e,o,a){if(Array.isArray(t))for(var c=0;c<t.length;c++)GE(i,t[c],e,o,a);else o=Ac(o)?!!o.capture:!!o,e=B_(e),i&&i[Ic]?(i=i.i,(t=String(t).toString())in i.g&&-1<(e=P_(c=i.g[t],e,o,a))&&(Ol(c[e]),Array.prototype.splice.call(c,e,1),0==c.length&&(delete i.g[t],i.h--))):i&&(i=qE(i))&&(t=i.g[t.toString()],i=-1,t&&(i=P_(t,e,o,a)),(e=-1<i?t[i]:null)&&V_(e))}function V_(i){if("number"!=typeof i&&i&&!i.ca){var t=i.src;if(t&&t[Ic])N_(t.i,i);else{var e=i.type,o=i.proxy;t.removeEventListener?t.removeEventListener(e,o,i.capture):t.detachEvent?t.detachEvent(zE(e),o):t.addListener&&t.removeListener&&t.removeListener(o),(e=qE(t))?(N_(e,i),0==e.h&&(e.src=null,t[BE]=null)):Ol(i)}}}function zE(i){return i in jE?jE[i]:jE[i]="on"+i}function $E(i,t){if(i.ca)i=!0;else{t=new xl(t,this);var e=i.listener,o=i.ia||i.src;i.fa&&V_(i),i=e.call(o,t)}return i}function qE(i){return(i=i[BE])instanceof xc?i:null}var YE="__closure_events_fn_"+(1e9*Math.random()>>>0);function B_(i){return"function"==typeof i?i:(i[YE]||(i[YE]=function(t){return i.handleEvent(t)}),i[YE])}function mn(){ts.call(this),this.i=new xc(this),this.P=this,this.I=null}function vt(i,t){var e,o=i.I;if(o)for(e=[];o;o=o.I)e.push(o);if(i=i.P,o=t.type||t,"string"==typeof t)t=new zn(t,i);else if(t instanceof zn)t.target=t.target||i;else{var a=t;I_(t=new zn(o,i),a)}if(a=!0,e)for(var c=e.length-1;0<=c;c--){var f=t.g=e[c];a=j_(f,o,!0,t)&&a}if(a=j_(f=t.g=i,o,!0,t)&&a,a=j_(f,o,!1,t)&&a,e)for(c=0;c<e.length;c++)a=j_(f=t.g=e[c],o,!1,t)&&a}function j_(i,t,e,o){if(!(t=i.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,c=0;c<t.length;++c){var f=t[c];if(f&&!f.ca&&f.capture==e){var m=f.listener,_=f.ia||f.src;f.fa&&N_(i.i,f),a=!1!==m.call(_,o)&&a}}return a&&!o.defaultPrevented}Gn(mn,ts),mn.prototype[Ic]=!0,mn.prototype.removeEventListener=function(i,t,e,o){GE(this,i,t,e,o)},mn.prototype.M=function(){if(mn.Z.M.call(this),this.i){var t,i=this.i;for(t in i.g){for(var e=i.g[t],o=0;o<e.length;o++)Ol(e[o]);delete i.g[t],i.h--}}this.I=null},mn.prototype.N=function(i,t,e,o){return this.i.add(String(i),t,!1,e,o)},mn.prototype.O=function(i,t,e,o){return this.i.add(String(i),t,!0,e,o)};var Lf=et.JSON.stringify;function WE(){var i=Bf,t=null;return i.g&&(t=i.g,i.g=i.g.next,i.g||(i.h=null),t.next=null),t}var Ro,NR=function(){function i(){this.h=this.g=null}return i.prototype.add=function(t,e){var o=Oc.get();o.set(t,e),this.h?this.h.next=o:this.g=o,this.h=o},i}(),Oc=new(function(){function i(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return i.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},i}())(function(){return new PR},function(i){return i.reset()}),PR=function(){function i(){this.next=this.g=this.h=null}return i.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},i.prototype.reset=function(){this.next=this.g=this.h=null},i}();function LR(i){et.setTimeout(function(){throw i},0)}function Vf(i,t){Ro||function(){var i=et.Promise.resolve(void 0);Ro=function(){i.then(VR)}}(),Fc||(Ro(),Fc=!0),Bf.add(i,t)}var Fc=!1,Bf=new NR;function VR(){for(var i;i=WE();){try{i.h.call(i.g)}catch(e){LR(e)}var t=Oc;t.j(i),100>t.h&&(t.h++,i.next=t.g,t.g=i)}Fc=!1}function fa(i,t){mn.call(this),this.h=i||1,this.g=t||et,this.j=Hn(this.kb,this),this.l=Date.now()}function U_(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function kc(i,t,e){if("function"==typeof i)e&&(i=Hn(i,e));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Hn(i.handleEvent,i)}return 2147483647<Number(t)?-1:et.setTimeout(i,t||0)}function H_(i){i.g=kc(function(){i.g=null,i.i&&(i.i=!1,H_(i))},i.j);var t=i.h;i.h=null,i.m.apply(null,t)}Gn(fa,mn),(Ne=fa.prototype).da=!1,Ne.S=null,Ne.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),vt(this,"tick"),this.da&&(U_(this),this.start()))}},Ne.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ne.M=function(){fa.Z.M.call(this),U_(this),delete this.g};var On=function(i){function t(e,o){var a=i.call(this)||this;return a.m=e,a.j=o,a.h=null,a.i=!1,a.g=null,a}return function(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=i}ME(i,t),i.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,i),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:H_(this)},t.prototype.M=function(){i.prototype.M.call(this),this.g&&(et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(ts);function jf(i){ts.call(this),this.h=i,this.g={}}Gn(jf,ts);var QE=[];function JE(i,t,e,o){Array.isArray(e)||(e&&(QE[0]=e.toString()),e=QE);for(var a=0;a<e.length;a++){var c=kR(t,e[a],o||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function BR(i){A_(i.g,function(t,e){this.g.hasOwnProperty(e)&&V_(t)},i),i.g={}}function pa(){this.g=!0}function Nc(i,t,e,o){i.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(i,t){if(!i.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(i=0;i<e.length;i++)if(Array.isArray(e[i])){var o=e[i];if(!(2>o.length)){var a=o[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<a.length;f++)a[f]=""}}}return Lf(e)}catch(m){return t}}(i,e)+(o?" "+o:"")})}jf.prototype.M=function(){jf.Z.M.call(this),BR(this)},jf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pa.prototype.Aa=function(){this.g=!1},pa.prototype.info=function(){};var ga={},ZE=null;function Uf(){return ZE=ZE||new mn}function XE(i){zn.call(this,ga.Ma,i)}function Hf(i){var t=Uf();vt(t,new XE(t,i))}function eD(i,t){zn.call(this,ga.STAT_EVENT,i),this.stat=t}function dr(i){var t=Uf();vt(t,new eD(t,i))}function tD(i,t){zn.call(this,ga.Na,i),this.size=t}function Gf(i,t){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return et.setTimeout(function(){i()},t)}ga.Ma="serverreachability",Gn(XE,zn),ga.STAT_EVENT="statevent",Gn(eD,zn),ga.Na="timingevent",Gn(tD,zn);var G_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},nD={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function z_(){}function iD(){}z_.prototype.h=null;var q_,Pc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Vr(){zn.call(this,"d")}function $_(){zn.call(this,"c")}function zf(){}function Lc(i,t,e,o){this.l=i,this.j=t,this.m=e,this.X=o||1,this.V=new jf(this),this.P=GR,this.W=new fa(i=FE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new HR}function HR(){this.i=null,this.g="",this.h=!1}Gn(Vr,zn),Gn($_,zn),Gn(zf,z_),zf.prototype.g=function(){return new XMLHttpRequest},zf.prototype.i=function(){return{}},q_=new zf;var GR=45e3,Y_={},$f={};function ma(i,t,e){i.K=1,i.v=va(Zi(t)),i.s=e,i.U=!0,W_(i,null)}function W_(i,t){i.F=Date.now(),qf(i),i.A=Zi(i.v);var e=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),ev(e.h,"t",o),i.C=0,e=i.l.H,i.h=new HR,i.g=ox(i.l,e?t:null,!i.s),0<i.O&&(i.L=new On(Hn(i.Ia,i,i.g),i.O)),JE(i.V,i.g,"readystatechange",i.gb),t=i.H?xE(i.H):{},i.s?(i.u||(i.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,t)):(i.u="GET",i.g.ea(i.A,i.u,null,t)),Hf(1),function(i,t,e,o,a,c){i.info(function(){if(i.g)if(c)for(var f="",m=c.split("&"),_=0;_<m.length;_++){var w=m[_].split("=");if(1<w.length){var C=w[0];w=w[1];var S=C.split("_");f=2<=S.length&&"type"==S[1]?f+(C+"=")+w+"&":f+(C+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+t+"\n"+e+"\n"+f})}(i.j,i.u,i.A,i.m,i.X,i.s)}function zR(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function oD(i,t,e){for(var a,o=!0;!i.I&&i.C<e.length;){if((a=d1(i,e))==$f){4==t&&(i.o=4,dr(14),o=!1),Nc(i.j,i.m,null,"[Incomplete Response]");break}if(a==Y_){i.o=4,dr(15),Nc(i.j,i.m,e,"[Invalid Chunk]"),o=!1;break}Nc(i.j,i.m,a,null),K_(i,a)}zR(i)&&a!=$f&&a!=Y_&&(i.h.g="",i.C=0),4!=t||0!=e.length||i.h.h||(i.o=1,dr(16),o=!1),i.i=i.i&&o,o?0<e.length&&!i.aa&&(i.aa=!0,(t=i.l).g==i&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),bD(t),t.L=!0,dr(11))):(Nc(i.j,i.m,e,"[Invalid Chunked Response]"),ya(i),Vc(i))}function d1(i,t){var e=i.C,o=t.indexOf("\n",e);return-1==o?$f:(e=Number(t.substring(e,o)),isNaN(e)?Y_:(o+=1)+e>t.length?$f:(t=t.substr(o,e),i.C=o+e,t))}function qf(i){i.Y=Date.now()+i.P,$R(i,i.P)}function $R(i,t){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Gf(Hn(i.eb,i),t)}function Fl(i){i.B&&(et.clearTimeout(i.B),i.B=null)}function Vc(i){0==i.l.G||i.I||nx(i.l,i)}function ya(i){Fl(i);var t=i.L;t&&"function"==typeof t.na&&t.na(),i.L=null,U_(i.W),BR(i.V),i.g&&(t=i.g,i.g=null,t.abort(),t.na())}function K_(i,t){try{var e=i.l;if(0!=e.G&&(e.g==i||nv(e.i,i)))if(e.I=i.N,!i.J&&nv(e.i,i)&&3==e.G){try{var o=e.Ca.g.parse(t)}catch(q){o=null}if(Array.isArray(o)&&3==o.length){var a=o;if(0==a[0])e:if(e.u)e.ta=a[1],0<e.ta-e.U&&37500>a[2]&&e.N&&0==e.A&&!e.v&&(e.v=Gf(Hn(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<i.F))break e;uv(e),eo(e)}lv(e),dr(18)}if(1>=cD(e.i)&&e.ka){try{e.ka()}catch(q){}e.ka=void 0}}else Ul(e,11)}else if((i.J||e.g==i)&&uv(e),!xf(t))for(a=e.Ca.g.parse(t),t=0;t<a.length;t++){var c=a[t];if(e.U=c[0],c=c[1],2==e.G)if("c"==c[0]){e.J=c[1],e.la=c[2];var f=c[3];null!=f&&(e.ma=f,e.h.info("VER="+e.ma));var m=c[4];null!=m&&(e.za=m,e.h.info("SVER="+e.za));var _=c[5];null!=_&&"number"==typeof _&&0<_&&(e.K=o=1.5*_,e.h.info("backChannelRequestTimeoutMs_="+o)),o=e;var w=i.g;if(w){var C=w.g?w.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(C){var S=o.i;!S.g&&(Xn(C,"spdy")||Xn(C,"quic")||Xn(C,"h2"))&&(S.j=S.l,S.g=new Set,S.h&&(Kf(S,S.h),S.h=null))}if(o.D){var T=w.g?w.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(o.sa=T,Ut(o.F,o.D,T))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-i.F,e.h.info("Handshake RTT: "+e.O+"ms"));var I=i;if((o=e).oa=ix(o,o.H?o.la:null,o.W),I.J){dD(o.i,I);var F=I,j=o.K;j&&F.setTimeout(j),F.B&&(Fl(F),qf(F)),o.g=I}else vD(o);0<e.l.length&&np(e)}else"stop"!=c[0]&&"close"!=c[0]||Ul(e,7);else 3==e.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ul(e,7):ep(e):"noop"!=c[0]&&e.j&&e.j.wa(c),e.A=0)}Hf(4)}catch(q){}}function Q_(i,t){if(i.forEach&&"function"==typeof i.forEach)i.forEach(t,void 0);else if(IE(i)||"string"==typeof i)Er(i,t,void 0);else{if(i.T&&"function"==typeof i.T)var e=i.T();else if(i.R&&"function"==typeof i.R)e=void 0;else if(IE(i)||"string"==typeof i){e=[];for(var o=i.length,a=0;a<o;a++)e.push(a)}else for(a in e=[],o=0,i)e[o++]=a;a=(o=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(IE(i)){for(var t=[],e=i.length,o=0;o<e;o++)t.push(i[o]);return t}for(o in t=[],e=0,i)t[e++]=i[o];return t}(i)).length;for(var c=0;c<a;c++)t.call(void 0,o[c],e&&e[c],i)}}function kl(i,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var o=0;o<e;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof kl)for(e=i.T(),o=0;o<e.length;o++)this.set(e[o],i.get(e[o]));else for(o in i)this.set(o,i[o])}function J_(i){if(i.i!=i.g.length){for(var t=0,e=0;t<i.g.length;){var o=i.g[t];$n(i.h,o)&&(i.g[e++]=o),t++}i.g.length=e}if(i.i!=i.g.length){var a={};for(e=t=0;t<i.g.length;)$n(a,o=i.g[t])||(i.g[e++]=o,a[o]=1),t++;i.g.length=e}}function $n(i,t){return Object.prototype.hasOwnProperty.call(i,t)}(Ne=Lc.prototype).setTimeout=function(i){this.P=i},Ne.gb=function(i){i=i.target;var t=this.L;t&&3==Xi(i)?t.l():this.Ia(i)},Ne.Ia=function(i){try{if(i==this.g)e:{var t=Xi(this.g),e=this.g.Da(),o=this.g.ba();if(!(3>t)&&(3!=t||FE||this.g&&(this.h.h||this.g.ga()||sv(this.g)))){this.I||4!=t||7==e||Hf(8==e||0>=o?3:2),Fl(this);var a=this.g.ba();this.N=a;t:if(zR(this)){var c=sv(this.g);i="";var f=c.length,m=4==Xi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ya(this),Vc(this);var _="";break t}this.h.i=new et.TextDecoder}for(e=0;e<f;e++)this.h.h=!0,i+=this.h.i.decode(c[e],{stream:m&&e==f-1});c.splice(0,f),this.h.g+=i,this.C=0,_=this.h.g}else _=this.g.ga();if(this.i=200==a,function(i,t,e,o,a,c,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+a+"]: "+t+"\n"+e+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.X,t,a),this.i){if(this.$&&!this.J){t:{if(this.g){var w,C=this.g;if((w=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xf(w)){var S=w;break t}}S=null}if(!(a=S)){this.i=!1,this.o=3,dr(12),ya(this),Vc(this);break e}Nc(this.j,this.m,a,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,K_(this,a)}this.U?(oD(this,t,_),FE&&this.i&&3==t&&(JE(this.V,this.W,"tick",this.fb),this.W.start())):(Nc(this.j,this.m,_,null),K_(this,_)),4==t&&ya(this),this.i&&!this.I&&(4==t?nx(this.l,this):(this.i=!1,qf(this)))}else 400==a&&0<_.indexOf("Unknown SID")?(this.o=3,dr(12)):(this.o=0,dr(13)),ya(this),Vc(this)}}}catch(T){}},Ne.fb=function(){if(this.g){var i=Xi(this.g),t=this.g.ga();this.C<t.length&&(Fl(this),oD(this,i,t),this.i&&4!=i&&qf(this))}},Ne.cancel=function(){this.I=!0,ya(this)},Ne.eb=function(){this.B=null;var i=Date.now();0<=i-this.Y?(function(i,t){i.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Hf(3),dr(17)),ya(this),this.o=2,Vc(this)):$R(this,this.Y-i)},(Ne=kl.prototype).R=function(){J_(this);for(var i=[],t=0;t<this.g.length;t++)i.push(this.h[this.g[t]]);return i},Ne.T=function(){return J_(this),this.g.concat()},Ne.get=function(i,t){return $n(this.h,i)?this.h[i]:t},Ne.set=function(i,t){$n(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=t},Ne.forEach=function(i,t){for(var e=this.T(),o=0;o<e.length;o++){var a=e[o],c=this.get(a);i.call(t,c,a,this)}};var qR=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _a(i,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof _a){this.g=void 0!==t?t:i.g,Bc(this,i.j),this.s=i.s,jc(this,i.i),Nl(this,i.m),this.l=i.l,t=i.h;var e=new Hc;e.i=t.i,t.g&&(e.g=new kl(t.g),e.h=t.h),Yf(this,e),this.o=i.o}else i&&(e=String(i).match(qR))?(this.g=!!t,Bc(this,e[1]||"",!0),this.s=Pl(e[2]||""),jc(this,e[3]||"",!0),Nl(this,e[4]),this.l=Pl(e[5]||"",!0),Yf(this,e[6]||"",!0),this.o=Pl(e[7]||"")):(this.g=!!t,this.h=new Hc(null,this.g))}function Zi(i){return new _a(i)}function Bc(i,t,e){i.j=e?Pl(t,!0):t,i.j&&(i.j=i.j.replace(/:$/,""))}function jc(i,t,e){i.i=e?Pl(t,!0):t}function Nl(i,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);i.m=t}else i.m=null}function Yf(i,t,e){t instanceof Hc?(i.h=t,function(i,t){t&&!i.j&&(an(i),i.i=null,i.g.forEach(function(e,o){var a=o.toLowerCase();o!=a&&(Ll(this,o),ev(this,a,e))},i)),i.j=t}(i.h,i.g)):(e||(t=Uc(t,QR)),i.h=new Hc(t,i.g))}function Ut(i,t,e){i.h.set(t,e)}function va(i){return Ut(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Pl(i,t){return i?t?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Uc(i,t,e){return"string"==typeof i?(i=encodeURI(i).replace(t,YR),e&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function YR(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}_a.prototype.toString=function(){var i=[],t=this.j;t&&i.push(Uc(t,Z_,!0),":");var e=this.i;return(e||"file"==t)&&(i.push("//"),(t=this.s)&&i.push(Uc(t,Z_,!0),"@"),i.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&i.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&i.push("/"),i.push(Uc(e,"/"==e.charAt(0)?KR:WR,!0))),(e=this.h.toString())&&i.push("?",e),(e=this.o)&&i.push("#",Uc(e,X_)),i.join("")};var Z_=/[#\/\?@]/g,WR=/[#\?:]/g,KR=/[#\?]/g,QR=/[#\?@]/g,X_=/#/g;function Hc(i,t){this.h=this.g=null,this.i=i||null,this.j=!!t}function an(i){i.g||(i.g=new kl,i.h=0,i.i&&function(i,t){if(i){i=i.split("&");for(var e=0;e<i.length;e++){var o=i[e].indexOf("="),a=null;if(0<=o){var c=i[e].substring(0,o);a=i[e].substring(o+1)}else c=i[e];t(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(i.i,function(t,e){i.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Ll(i,t){an(i),t=xo(i,t),$n(i.g.h,t)&&(i.i=null,i.h-=i.g.get(t).length,$n((i=i.g).h,t)&&(delete i.h[t],i.i--,i.g.length>2*i.i&&J_(i)))}function Gc(i,t){return an(i),t=xo(i,t),$n(i.g.h,t)}function ev(i,t,e){Ll(i,t),0<e.length&&(i.i=null,i.g.set(xo(i,t),S_(e)),i.h+=e.length)}function xo(i,t){return t=String(t),i.j&&(t=t.toLowerCase()),t}(Ne=Hc.prototype).add=function(i,t){an(this),this.i=null,i=xo(this,i);var e=this.g.get(i);return e||this.g.set(i,e=[]),e.push(t),this.h+=1,this},Ne.forEach=function(i,t){an(this),this.g.forEach(function(e,o){Er(e,function(a){i.call(t,a,o,this)},this)},this)},Ne.T=function(){an(this);for(var i=this.g.R(),t=this.g.T(),e=[],o=0;o<t.length;o++)for(var a=i[o],c=0;c<a.length;c++)e.push(t[o]);return e},Ne.R=function(i){an(this);var t=[];if("string"==typeof i)Gc(this,i)&&(t=Rf(t,this.g.get(xo(this,i))));else{i=this.g.R();for(var e=0;e<i.length;e++)t=Rf(t,i[e])}return t},Ne.set=function(i,t){return an(this),this.i=null,Gc(this,i=xo(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[t]),this.h+=1,this},Ne.get=function(i,t){return i&&0<(i=this.R(i)).length?String(i[0]):t},Ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],t=this.g.T(),e=0;e<t.length;e++){var o=t[e],a=encodeURIComponent(String(o));o=this.R(o);for(var c=0;c<o.length;c++){var f=a;""!==o[c]&&(f+="="+encodeURIComponent(String(o[c]))),i.push(f)}}return this.i=i.join("&")};var lD=function(t,e){this.h=t,this.g=e};function zc(i){this.l=i||JR,i=et.PerformanceNavigationTiming?0<(i=et.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(et.g&&et.g.Ea&&et.g.Ea()&&et.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var JR=10;function uD(i){return!!i.h||!!i.g&&i.g.size>=i.j}function cD(i){return i.h?1:i.g?i.g.size:0}function nv(i,t){return i.h?i.h==t:!!i.g&&i.g.has(t)}function Kf(i,t){i.g?i.g.add(t):i.h=t}function dD(i,t){i.h&&i.h==t?i.h=null:i.g&&i.g.has(t)&&i.g.delete(t)}function hD(i){var t,e;if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){var o=i.i;try{for(var a=AE(i.g.values()),c=a.next();!c.done;c=a.next())o=o.concat(c.value.D)}catch(m){t={error:m}}finally{try{c&&!c.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return o}return S_(i.i)}function rv(){}function ns(){this.g=new rv}function $c(i,t,e){var o=e||"";try{Q_(i,function(a,c){var f=a;Ac(a)&&(f=Lf(a)),t.push(o+c+"="+encodeURIComponent(f))})}catch(a){throw t.push(o+"type="+encodeURIComponent("_badmap")),a}}function Qf(i,t,e,o,a){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,a(o)}catch(c){}}function qc(i){this.l=i.$b||null,this.j=i.ib||!1}function Jf(i,t){mn.call(this),this.D=i,this.u=t,this.m=void 0,this.readyState=Yc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zc.prototype.cancel=function(){var i,t;if(this.i=hD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var e=AE(this.g.values()),o=e.next();!o.done;o=e.next())o.value.cancel()}catch(c){i={error:c}}finally{try{o&&!o.done&&(t=e.return)&&t.call(e)}finally{if(i)throw i.error}}this.g.clear()}},rv.prototype.stringify=function(i){return et.JSON.stringify(i,void 0)},rv.prototype.parse=function(i){return et.JSON.parse(i,void 0)},Gn(qc,z_),qc.prototype.g=function(){return new Jf(this.l,this.j)},qc.prototype.i=function(i){return function(){return i}}({}),Gn(Jf,mn);var Yc=0;function fD(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Vl(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Bl(i)}function Bl(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ne=Jf.prototype).open=function(i,t){if(this.readyState!=Yc)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=t,this.readyState=1,Bl(this)},Ne.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(t.body=i),(this.D||et).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vl(this)),this.readyState=Yc},Ne.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Bl(this)),this.g&&(this.readyState=3,Bl(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==et.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fD(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Ne.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var t=i.value?i.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!i.done}))&&(this.response=this.responseText+=t)}i.done?Vl(this):Bl(this),3==this.readyState&&fD(this)}},Ne.Ua=function(i){this.g&&(this.response=this.responseText=i,Vl(this))},Ne.Ta=function(i){this.g&&(this.response=i,Vl(this))},Ne.ha=function(){this.g&&Vl(this)},Ne.setRequestHeader=function(i,t){this.v.append(i,t)},Ne.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ne.getAllResponseHeaders=function(){if(!this.h)return"";for(var i=[],t=this.h.entries(),e=t.next();!e.done;)i.push((e=e.value)[0]+": "+e[1]),e=t.next();return i.join("\r\n")},Object.defineProperty(Jf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var ZR=et.JSON.parse;function yn(i){mn.call(this),this.headers=new kl,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=pD,this.K=this.L=!1}Gn(yn,mn);var pD="",Oo=/^https?$/i,Wc=["POST","PUT"];function Zf(i){return"content-type"==i.toLowerCase()}function ba(i,t){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=t,i.m=5,gD(i),Xf(i)}function gD(i){i.D||(i.D=!0,vt(i,"complete"),vt(i,"error"))}function mD(i){if(i.h&&void 0!==Mc&&(!i.C[1]||4!=Xi(i)||2!=i.ba()))if(i.v&&4==Xi(i))kc(i.Fa,0,i);else if(vt(i,"readystatechange"),4==Xi(i)){i.h=!1;try{var o,t=i.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}if(!(o=e)){var a;if(a=0===t){var c=String(i.H).match(qR)[1]||null;if(!c&&et.self&&et.self.location){var f=et.self.location.protocol;c=f.substr(0,f.length-1)}a=!Oo.test(c?c.toLowerCase():"")}o=a}if(o)vt(i,"complete"),vt(i,"success");else{i.m=6;try{var m=2<Xi(i)?i.g.statusText:""}catch(_){m=""}i.j=m+" ["+i.ba()+"]",gD(i)}}finally{Xf(i)}}}function Xf(i,t){if(i.g){ov(i);var e=i.g,o=i.C[0]?E_:null;i.g=null,i.C=null,t||vt(i,"ready");try{e.onreadystatechange=o}catch(a){}}}function ov(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(et.clearTimeout(i.A),i.A=null)}function Xi(i){return i.g?i.g.readyState:0}function sv(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case pD:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Kc(i,t,e){e:{for(o in e){var o=!1;break e}o=!0}o||(e=function(i){var t="";return A_(i,function(e,o){t+=o,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof i?null!=e&&encodeURIComponent(String(e)):Ut(i,t,e))}function Qc(i,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[i]||t}function _D(i){this.za=0,this.l=[],this.h=new pa,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Qc("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Qc("baseRetryDelayMs",5e3,i),this.$a=Qc("retryDelaySeedMs",1e4,i),this.Ya=Qc("forwardChannelMaxRetries",2,i),this.ra=Qc("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new zc(i&&i.concurrentRequestLimit),this.Ca=new ns,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function ep(i){if(tp(i),3==i.G){var t=i.V++,e=Zi(i.F);Ut(e,"SID",i.J),Ut(e,"RID",t),Ut(e,"TYPE","terminate"),rp(i,e),(t=new Lc(i,i.h,t,void 0)).K=2,t.v=va(Zi(e)),e=!1,et.navigator&&et.navigator.sendBeacon&&(e=et.navigator.sendBeacon(t.v.toString(),"")),!e&&et.Image&&((new Image).src=t.v,e=!0),e||(t.g=ox(t.l,null),t.g.ea(t.v)),t.F=Date.now(),qf(t)}rx(i)}function eo(i){i.g&&(bD(i),i.g.cancel(),i.g=null)}function tp(i){eo(i),i.u&&(et.clearTimeout(i.u),i.u=null),uv(i),i.i.cancel(),i.m&&("number"==typeof i.m&&et.clearTimeout(i.m),i.m=null)}function av(i,t){i.l.push(new lD(i.Za++,t)),3==i.G&&np(i)}function np(i){uD(i.i)||i.m||(i.m=!0,Vf(i.Ha,i),i.C=0)}function XR(i,t){var e;e=t?t.m:i.V++;var o=Zi(i.F);Ut(o,"SID",i.J),Ut(o,"RID",e),Ut(o,"AID",i.U),rp(i,o),i.o&&i.s&&Kc(o,i.o,i.s),e=new Lc(i,i.h,e,i.C+1),null===i.o&&(e.H=i.s),t&&(i.l=t.D.concat(i.l)),t=ex(i,e,1e3),e.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Kf(i.i,e),ma(e,o,t)}function rp(i,t){i.j&&Q_({},function(e,o){Ut(t,o,e)})}function ex(i,t,e){e=Math.min(i.l.length,e);var o=i.j?Hn(i.j.Oa,i.j,i):null;e:for(var a=i.l,c=-1;;){var f=["count="+e];-1==c?0<e?f.push("ofs="+(c=a[0].h)):c=0:f.push("ofs="+c);for(var m=!0,_=0;_<e;_++){var w=a[_].h,C=a[_].g;if(0>(w-=c))c=Math.max(0,a[_].h-100),m=!1;else try{$c(C,f,"req"+w+"_")}catch(S){o&&o(C)}}if(m){o=f.join("&");break e}}return i=i.l.splice(0,e),t.D=i,o}function vD(i){i.g||i.u||(i.Y=1,Vf(i.Ga,i),i.A=0)}function lv(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Gf(Hn(i.Ga,i),wD(i,i.A)),i.A++,0))}function bD(i){null!=i.B&&(et.clearTimeout(i.B),i.B=null)}function tx(i){i.g=new Lc(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var t=Zi(i.oa);Ut(t,"RID","rpc"),Ut(t,"SID",i.J),Ut(t,"CI",i.N?"0":"1"),Ut(t,"AID",i.U),rp(i,t),Ut(t,"TYPE","xmlhttp"),i.o&&i.s&&Kc(t,i.o,i.s),i.K&&i.g.setTimeout(i.K);var e=i.g;i=i.la,e.K=1,e.v=va(Zi(t)),e.s=null,e.U=!0,W_(e,i)}function uv(i){null!=i.v&&(et.clearTimeout(i.v),i.v=null)}function nx(i,t){var e=null;if(i.g==t){uv(i),bD(i),i.g=null;var o=2}else{if(!nv(i.i,t))return;e=t.D,dD(i.i,t),o=1}if(i.I=t.N,0!=i.G)if(t.i)if(1==o){e=t.s?t.s.length:0,t=Date.now()-t.F;var a=i.C;vt(o=Uf(),new tD(o,e,t,a)),np(i)}else vD(i);else if(3==(a=t.o)||0==a&&0<i.I||!(1==o&&function(i,t){return!(cD(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=t.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Gf(Hn(i.Ha,i,t),wD(i,i.C)),i.C++,0)))}(i,t)||2==o&&lv(i)))switch(e&&0<e.length&&(t=i.i,t.i=t.i.concat(e)),a){case 1:Ul(i,5);break;case 4:Ul(i,10);break;case 3:Ul(i,6);break;default:Ul(i,2)}}function wD(i,t){var e=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(e*=2),e*t}function Ul(i,t){if(i.h.info("Error code "+t),2==t){var e=null;i.j&&(e=null);var o=Hn(i.jb,i);e||(e=new _a("//www.google.com/images/cleardot.gif"),et.location&&"http"==et.location.protocol||Bc(e,"https"),va(e)),function(i,t){var e=new pa;if(et.Image){var o=new Image;o.onload=es(Qf,e,o,"TestLoadImage: loaded",!0,t),o.onerror=es(Qf,e,o,"TestLoadImage: error",!1,t),o.onabort=es(Qf,e,o,"TestLoadImage: abort",!1,t),o.ontimeout=es(Qf,e,o,"TestLoadImage: timeout",!1,t),et.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else t(!1)}(e.toString(),o)}else dr(2);i.G=0,i.j&&i.j.va(t),rx(i),tp(i)}function rx(i){i.G=0,i.I=-1,i.j&&((0!=hD(i.i).length||0!=i.l.length)&&(i.i.i.length=0,S_(i.l),i.l.length=0),i.j.ua())}function ix(i,t,e){var o=function(i){return i instanceof _a?Zi(i):new _a(i,void 0)}(e);if(""!=o.i)t&&jc(o,t+"."+o.i),Nl(o,o.m);else{var a=et.location;o=function(i,t,e,o){var a=new _a(null,void 0);return i&&Bc(a,i),t&&jc(a,t),e&&Nl(a,e),o&&(a.l=o),a}(a.protocol,t?t+"."+a.hostname:a.hostname,+a.port,e)}return i.aa&&A_(i.aa,function(c,f){Ut(o,f,c)}),e=i.sa,(t=i.D)&&e&&Ut(o,t,e),Ut(o,"VER",i.ma),rp(i,o),o}function ox(i,t,e){if(t&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new yn(e&&i.Ba&&!i.qa?new qc({ib:!0}):i.qa)).L=i.H,t}function s(){}function l(){if(er&&!(10<=Number(OR)))throw Error("Environmental error: no available transport.")}function u(i,t){mn.call(this),this.g=new _D(t),this.l=i,this.h=t&&t.messageUrlParams||null,i=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(i?i["X-WebChannel-Content-Type"]=t.messageContentType:i={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(i?i["X-WebChannel-Client-Profile"]=t.ya:i={"X-WebChannel-Client-Profile":t.ya}),this.g.P=i,(i=t&&t.httpHeadersOverwriteParam)&&!xf(i)&&(this.g.o=i),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!xf(t)&&(this.g.D=t,null!==(i=this.h)&&t in i&&t in(i=this.h)&&delete i[t]),this.j=new g(this)}function d(i){Vr.call(this);var t=i.__sm__;if(t){e:{for(var e in t){i=e;break e}i=void 0}(this.i=i)&&(i=this.i,t=null!==t&&i in t?t[i]:void 0),this.data=t}else this.data=i}function p(){$_.call(this),this.status=1}function g(i){this.g=i}(Ne=yn.prototype).ea=function(i,t,e,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);t=t?t.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():q_.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:q_),this.g.onreadystatechange=Hn(this.Fa,this);try{this.F=!0,this.g.open(t,String(i),!0),this.F=!1}catch(c){return void ba(this,c)}i=e||"";var a=new kl(this.headers);o&&Q_(o,function(c,f){a.set(f,c)}),o=function(i){e:{for(var t=Zf,e=i.length,o="string"==typeof i?i.split(""):i,a=0;a<e;a++)if(a in o&&t.call(void 0,o[a],a,i)){t=a;break e}t=-1}return 0>t?null:"string"==typeof i?i.charAt(t):i[t]}(a.T()),e=et.FormData&&i instanceof et.FormData,!(0<=RE(Wc,t))||o||e||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(c,f){this.g.setRequestHeader(f,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ov(this),0<this.B&&((this.K=function(i){return er&&xR()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Hn(this.pa,this)):this.A=kc(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){ba(this,c)}},Ne.pa=function(){void 0!==Mc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vt(this,"timeout"),this.abort(8))},Ne.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,vt(this,"complete"),vt(this,"abort"),Xf(this))},Ne.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xf(this,!0)),yn.Z.M.call(this)},Ne.Fa=function(){this.s||(this.F||this.v||this.l?mD(this):this.cb())},Ne.cb=function(){mD(this)},Ne.ba=function(){try{return 2<Xi(this)?this.g.status:-1}catch(i){return-1}},Ne.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},Ne.Qa=function(i){if(this.g){var t=this.g.responseText;return i&&0==t.indexOf(i)&&(t=t.substring(i.length)),ZR(t)}},Ne.Da=function(){return this.m},Ne.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ne=_D.prototype).ma=8,Ne.G=1,Ne.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(t){}},Ne.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;var t=new Lc(this,this.h,i,void 0),e=this.s;if(this.P&&(e?I_(e=xE(e),this.P):e=this.P),null===this.o&&(t.H=e),this.ja)e:{for(var o=0,a=0;a<this.l.length;a++){var c=this.l[a];if(void 0===(c="__data__"in c.g&&"string"==typeof(c=c.g.__data__)?c.length:void 0))break;if(4096<(o+=c)){o=a;break e}if(4096===o||a===this.l.length-1){o=a+1;break e}}o=1e3}else o=1e3;o=ex(this,t,o),Ut(a=Zi(this.F),"RID",i),Ut(a,"CVER",22),this.D&&Ut(a,"X-HTTP-Session-Id",this.D),rp(this,a),this.o&&e&&Kc(a,this.o,e),Kf(this.i,t),this.Ra&&Ut(a,"TYPE","init"),this.ja?(Ut(a,"$req",o),Ut(a,"SID","null"),t.$=!0,ma(t,a,null)):ma(t,a,o),this.G=2}}else 3==this.G&&(i?XR(this,i):0==this.l.length||uD(this.i)||XR(this))},Ne.Ga=function(){if(this.u=null,tx(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Gf(Hn(this.bb,this),i)}},Ne.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,dr(10),eo(this),tx(this))},Ne.ab=function(){null!=this.v&&(this.v=null,eo(this),lv(this),dr(19))},Ne.jb=function(i){i?(this.h.info("Successfully pinged google.com"),dr(2)):(this.h.info("Failed to ping google.com"),dr(1))},(Ne=s.prototype).xa=function(){},Ne.wa=function(){},Ne.va=function(){},Ne.ua=function(){},Ne.Oa=function(){},l.prototype.g=function(i,t){return new u(i,t)},Gn(u,mn),u.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,t=this.l,e=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Vf(Hn(i.hb,i,t))),dr(0),i.W=t,i.aa=e||{},i.N=i.X,i.F=ix(i,null,i.W),np(i)},u.prototype.close=function(){ep(this.g)},u.prototype.u=function(i){if("string"==typeof i){var t={};t.__data__=i,av(this.g,t)}else this.v?((t={}).__data__=Lf(i),av(this.g,t)):av(this.g,i)},u.prototype.M=function(){this.g.j=null,delete this.j,ep(this.g),delete this.g,u.Z.M.call(this)},Gn(d,Vr),Gn(p,$_),Gn(g,s),g.prototype.xa=function(){vt(this.g,"a")},g.prototype.wa=function(i){vt(this.g,new d(i))},g.prototype.va=function(i){vt(this.g,new p(i))},g.prototype.ua=function(){vt(this.g,"b")},l.prototype.createWebChannel=l.prototype.g,u.prototype.send=u.prototype.u,u.prototype.open=u.prototype.m,u.prototype.close=u.prototype.close,G_.NO_ERROR=0,G_.TIMEOUT=8,G_.HTTP_ERROR=6,nD.COMPLETE="complete",iD.EventType=Pc,Pc.OPEN="a",Pc.CLOSE="b",Pc.ERROR="c",Pc.MESSAGE="d",mn.prototype.listen=mn.prototype.N,yn.prototype.listenOnce=yn.prototype.O,yn.prototype.getLastError=yn.prototype.La,yn.prototype.getLastErrorCode=yn.prototype.Da,yn.prototype.getStatus=yn.prototype.ba,yn.prototype.getResponseJson=yn.prototype.Qa,yn.prototype.getResponseText=yn.prototype.ga,yn.prototype.send=yn.prototype.ea;var b=G_,E=nD,D=ga,M_PROXY=10,M_NOPROXY=11,R=qc,L=iD,H=yn,me=function(){function i(t,e){var o=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(a){return o.t(a)},this.i=function(a){return e.writeSequenceNumber(a)})}return i.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},i.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},i}();me.o=-1;var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ee=function(i){function t(e,o){var a=this;return(a=i.call(this,o)||this).code=e,a.message=o,a.name="FirebaseError",a.toString=function(){return a.name+": [code="+a.code+"]: "+a.message},a}return(0,x.ZT)(t,i),t}(Error),je=new ha.Yd("@firebase/firestore");function ut(){return je.logLevel}function _e(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(je.logLevel<=ha.in.DEBUG){var o=t.map(rs);je.debug.apply(je,(0,x.ev)(["Firestore (8.10.0): "+i],o))}}function St(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(je.logLevel<=ha.in.ERROR){var o=t.map(rs);je.error.apply(je,(0,x.ev)(["Firestore (8.10.0): "+i],o))}}function Fo(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(je.logLevel<=ha.in.WARN){var o=t.map(rs);je.warn.apply(je,(0,x.ev)(["Firestore (8.10.0): "+i],o))}}function rs(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(e){return i}}function Le(i){void 0===i&&(i="Unexpected state");var t="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+i;throw St(t),new Error(t)}function qe(i,t){i||Le()}function De(i,t){return i}function cv(i){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(var o=0;o<i;o++)e[o]=Math.floor(256*Math.random());return e}var ip=function(){function i(){}return i.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,o="";o.length<20;)for(var a=cv(40),c=0;c<a.length;++c)o.length<20&&a[c]<e&&(o+=t.charAt(a[c]%t.length));return o},i}();function dt(i,t){return i<t?-1:i>t?1:0}function is(i,t,e){return i.length===t.length&&i.every(function(o,a){return e(o,t[a])})}function p1(i){return i+"\0"}var ri=function(){function i(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ee(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ee(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ee(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ee(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return i.now=function(){return i.fromMillis(Date.now())},i.fromDate=function(t){return i.fromMillis(t.getTime())},i.fromMillis=function(t){var e=Math.floor(t/1e3);return new i(e,Math.floor(1e6*(t-1e3*e)))},i.prototype.toDate=function(){return new Date(this.toMillis())},i.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},i.prototype._compareTo=function(t){return this.seconds===t.seconds?dt(this.nanoseconds,t.nanoseconds):dt(this.seconds,t.seconds)},i.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},i.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},i.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},i.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},i}(),ft=function(){function i(t){this.timestamp=t}return i.fromTimestamp=function(t){return new i(t)},i.min=function(){return new i(new ri(0,0))},i.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},i.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},i.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},i.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},i.prototype.toTimestamp=function(){return this.timestamp},i}();function g1(i){var t=0;for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function Jc(i,t){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function m1(i){for(var t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}var y1=function(){function i(t,e,o){void 0===e?e=0:e>t.length&&Le(),void 0===o?o=t.length-e:o>t.length-e&&Le(),this.segments=t,this.offset=e,this.len=o}return Object.defineProperty(i.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return 0===i.comparator(this,t)},i.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof i?t.forEach(function(o){e.push(o)}):e.push(t),this.construct(e)},i.prototype.limit=function(){return this.offset+this.length},i.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},i.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},i.prototype.firstSegment=function(){return this.segments[this.offset]},i.prototype.lastSegment=function(){return this.get(this.length-1)},i.prototype.get=function(t){return this.segments[this.offset+t]},i.prototype.isEmpty=function(){return 0===this.length},i.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},i.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},i.prototype.forEach=function(t){for(var e=this.offset,o=this.limit();e<o;e++)t(this.segments[e])},i.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},i.comparator=function(t,e){for(var o=Math.min(t.length,e.length),a=0;a<o;a++){var c=t.get(a),f=e.get(a);if(c<f)return-1;if(c>f)return 1}return t.length<e.length?-1:t.length>e.length?1:0},i}(),It=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,x.ZT)(t,i),t.prototype.construct=function(e,o,a){return new t(e,o,a)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];for(var a=[],c=0,f=e;c<f.length;c++){var m=f[c];if(m.indexOf("//")>=0)throw new ee(N.INVALID_ARGUMENT,"Invalid segment ("+m+"). Paths must not contain // in them.");a.push.apply(a,m.split("/").filter(function(_){return _.length>0}))}return new t(a)},t.emptyPath=function(){return new t([])},t}(y1),kB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ko=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,x.ZT)(t,i),t.prototype.construct=function(e,o,a){return new t(e,o,a)},t.isValidIdentifier=function(e){return kB.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var o=[],a="",c=0,f=function(){if(0===a.length)throw new ee(N.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");o.push(a),a=""},m=!1;c<e.length;){var _=e[c];if("\\"===_){if(c+1===e.length)throw new ee(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var w=e[c+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new ee(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=w,c+=2}else"`"===_?(m=!m,c++):"."!==_||m?(a+=_,c++):(f(),c++)}if(f(),m)throw new ee(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(o)},t.emptyPath=function(){return new t([])},t}(y1),op=function(){function i(t){this.fields=t,t.sort(ko.comparator)}return i.prototype.covers=function(t){for(var e=0,o=this.fields;e<o.length;e++)if(o[e].isPrefixOf(t))return!0;return!1},i.prototype.isEqual=function(t){return is(this.fields,t.fields,function(e,o){return e.isEqual(o)})},i}(),Br=function(){function i(t){this.binaryString=t}return i.fromBase64String=function(t){return new i(atob(t))},i.fromUint8Array=function(t){return new i(function(e){for(var o="",a=0;a<e.length;++a)o+=String.fromCharCode(e[a]);return o}(t))},i.prototype.toBase64=function(){return btoa(this.binaryString)},i.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),o=0;o<t.length;o++)e[o]=t.charCodeAt(o);return e}(this.binaryString)},i.prototype.approximateByteSize=function(){return 2*this.binaryString.length},i.prototype.compareTo=function(t){return dt(this.binaryString,t.binaryString)},i.prototype.isEqual=function(t){return this.binaryString===t.binaryString},i}();Br.EMPTY_BYTE_STRING=new Br("");var NB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hl(i){if(qe(!!i),"string"==typeof i){var t=0,e=NB.exec(i);if(qe(!!e),e[1]){var o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}var a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Fn(i.seconds),nanos:Fn(i.nanos)}}function Fn(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function sp(i){return"string"==typeof i?Br.fromBase64String(i):Br.fromUint8Array(i)}function sx(i){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==i?void 0:i.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function _1(i){var t=i.mapValue.fields.__previous_value__;return sx(t)?_1(t):t}function dv(i){var t=Hl(i.mapValue.fields.__local_write_time__.timestampValue);return new ri(t.seconds,t.nanos)}function Zc(i){return null==i}function CD(i){return 0===i&&1/i==-1/0}function v1(i){return"number"==typeof i&&Number.isInteger(i)&&!CD(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}var ze=function(){function i(t){this.path=t}return i.fromPath=function(t){return new i(It.fromString(t))},i.fromName=function(t){return new i(It.fromString(t).popFirst(5))},i.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},i.prototype.isEqual=function(t){return null!==t&&0===It.comparator(this.path,t.path)},i.prototype.toString=function(){return this.path.toString()},i.comparator=function(t,e){return It.comparator(t.path,e.path)},i.isDocumentKey=function(t){return t.length%2==0},i.fromSegments=function(t){return new i(new It(t.slice()))},i}();function Xc(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?sx(i)?4:10:Le()}function os(i,t){var a,e=Xc(i);if(e!==Xc(t))return!1;switch(e){case 0:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return dv(i).isEqual(dv(t));case 3:return function(o,a){if("string"==typeof o.timestampValue&&"string"==typeof a.timestampValue&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;var c=Hl(o.timestampValue),f=Hl(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return a=t,sp(i.bytesValue).isEqual(sp(a.bytesValue));case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,a){return Fn(o.geoPointValue.latitude)===Fn(a.geoPointValue.latitude)&&Fn(o.geoPointValue.longitude)===Fn(a.geoPointValue.longitude)}(i,t);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Fn(o.integerValue)===Fn(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){var c=Fn(o.doubleValue),f=Fn(a.doubleValue);return c===f?CD(c)===CD(f):isNaN(c)&&isNaN(f)}return!1}(i,t);case 9:return is(i.arrayValue.values||[],t.arrayValue.values||[],os);case 10:return function(o,a){var c=o.mapValue.fields||{},f=a.mapValue.fields||{};if(g1(c)!==g1(f))return!1;for(var m in c)if(c.hasOwnProperty(m)&&(void 0===f[m]||!os(c[m],f[m])))return!1;return!0}(i,t);default:return Le()}}function hv(i,t){return void 0!==(i.values||[]).find(function(e){return os(e,t)})}function ap(i,t){var a,c,f,m,e=Xc(i),o=Xc(t);if(e!==o)return dt(e,o);switch(e){case 0:return 0;case 1:return dt(i.booleanValue,t.booleanValue);case 2:return c=t,(f=Fn((a=i).integerValue||a.doubleValue))<(m=Fn(c.integerValue||c.doubleValue))?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1;case 3:return b1(i.timestampValue,t.timestampValue);case 4:return b1(dv(i),dv(t));case 5:return dt(i.stringValue,t.stringValue);case 6:return function(a,c){var f=sp(a),m=sp(c);return f.compareTo(m)}(i.bytesValue,t.bytesValue);case 7:return function(a,c){for(var f=a.split("/"),m=c.split("/"),_=0;_<f.length&&_<m.length;_++){var w=dt(f[_],m[_]);if(0!==w)return w}return dt(f.length,m.length)}(i.referenceValue,t.referenceValue);case 8:return function(a,c){var f=dt(Fn(a.latitude),Fn(c.latitude));return 0!==f?f:dt(Fn(a.longitude),Fn(c.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return function(a,c){for(var f=a.values||[],m=c.values||[],_=0;_<f.length&&_<m.length;++_){var w=ap(f[_],m[_]);if(w)return w}return dt(f.length,m.length)}(i.arrayValue,t.arrayValue);case 10:return function(a,c){var f=a.fields||{},m=Object.keys(f),_=c.fields||{},w=Object.keys(_);m.sort(),w.sort();for(var C=0;C<m.length&&C<w.length;++C){var S=dt(m[C],w[C]);if(0!==S)return S;var T=ap(f[m[C]],_[w[C]]);if(0!==T)return T}return dt(m.length,w.length)}(i.mapValue,t.mapValue);default:throw Le()}}function b1(i,t){if("string"==typeof i&&"string"==typeof t&&i.length===t.length)return dt(i,t);var e=Hl(i),o=Hl(t),a=dt(e.seconds,o.seconds);return 0!==a?a:dt(e.nanos,o.nanos)}function ax(i){return lx(i)}function lx(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?"time("+(a=Hl(i.timestampValue)).seconds+","+a.nanos+")":"stringValue"in i?i.stringValue:"bytesValue"in i?sp(i.bytesValue).toBase64():"referenceValue"in i?ze.fromName(i.referenceValue).toString():"geoPointValue"in i?"geo("+(t=i.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in i?function(o){for(var a="[",c=!0,f=0,m=o.values||[];f<m.length;f++)c?c=!1:a+=",",a+=lx(m[f]);return a+"]"}(i.arrayValue):"mapValue"in i?function(o){for(var a="{",c=!0,f=0,m=Object.keys(o.fields||{}).sort();f<m.length;f++){var _=m[f];c?c=!1:a+=",",a+=_+":"+lx(o.fields[_])}return a+"}"}(i.mapValue):Le();var a,t}function ED(i,t){return{referenceValue:"projects/"+i.projectId+"/databases/"+i.database+"/documents/"+t.path.canonicalString()}}function ux(i){return!!i&&"integerValue"in i}function cx(i){return!!i&&"arrayValue"in i}function w1(i){return!!i&&"nullValue"in i}function C1(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function DD(i){return!!i&&"mapValue"in i}function fv(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){var t={mapValue:{fields:{}}};return Jc(i.mapValue.fields,function(a,c){return t.mapValue.fields[a]=fv(c)}),t}if(i.arrayValue){for(var e={arrayValue:{values:[]}},o=0;o<(i.arrayValue.values||[]).length;++o)e.arrayValue.values[o]=fv(i.arrayValue.values[o]);return e}return Object.assign({},i)}var Si=function(){function i(t){this.value=t}return i.empty=function(){return new i({mapValue:{}})},i.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,o=0;o<t.length-1;++o)if(!DD(e=(e.mapValue.fields||{})[t.get(o)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},i.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=fv(e)},i.prototype.setAll=function(t){var e=this,o=ko.emptyPath(),a={},c=[];t.forEach(function(m,_){if(!o.isImmediateParentOf(_)){var w=e.getFieldsMap(o);e.applyChanges(w,a,c),a={},c=[],o=_.popLast()}m?a[_.lastSegment()]=fv(m):c.push(_.lastSegment())});var f=this.getFieldsMap(o);this.applyChanges(f,a,c)},i.prototype.delete=function(t){var e=this.field(t.popLast());DD(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},i.prototype.isEqual=function(t){return os(this.value,t.value)},i.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var o=0;o<t.length;++o){var a=e.mapValue.fields[t.get(o)];DD(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(o)]=a),e=a}return e.mapValue.fields},i.prototype.applyChanges=function(t,e,o){Jc(e,function(m,_){return t[m]=_});for(var a=0,c=o;a<c.length;a++)delete t[c[a]]},i.prototype.clone=function(){return new i(fv(this.value))},i}();function E1(i){var t=[];return Jc(i.fields,function(e,o){var a=new ko([e]);if(DD(o)){var c=E1(o.mapValue).fields;if(0===c.length)t.push(a);else for(var f=0,m=c;f<m.length;f++)t.push(a.child(m[f]))}else t.push(a)}),new op(t)}var hr=function(){function i(t,e,o,a,c){this.key=t,this.documentType=e,this.version=o,this.data=a,this.documentState=c}return i.newInvalidDocument=function(t){return new i(t,0,ft.min(),Si.empty(),0)},i.newFoundDocument=function(t,e,o){return new i(t,1,e,o,0)},i.newNoDocument=function(t,e){return new i(t,2,e,Si.empty(),0)},i.newUnknownDocument=function(t,e){return new i(t,3,e,Si.empty(),2)},i.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},i.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Si.empty(),this.documentState=0,this},i.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Si.empty(),this.documentState=2,this},i.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},i.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(i.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),i.prototype.isValidDocument=function(){return 0!==this.documentType},i.prototype.isFoundDocument=function(){return 1===this.documentType},i.prototype.isNoDocument=function(){return 2===this.documentType},i.prototype.isUnknownDocument=function(){return 3===this.documentType},i.prototype.isEqual=function(t){return t instanceof i&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},i.prototype.clone=function(){return new i(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},i.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},i}(),PB=function(i,t,e,o,a,c,f){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===o&&(o=[]),void 0===a&&(a=null),void 0===c&&(c=null),void 0===f&&(f=null),this.path=i,this.collectionGroup=t,this.orderBy=e,this.filters=o,this.limit=a,this.startAt=c,this.endAt=f,this.h=null};function D1(i,t,e,o,a,c,f){return void 0===t&&(t=null),void 0===e&&(e=[]),void 0===o&&(o=[]),void 0===a&&(a=null),void 0===c&&(c=null),void 0===f&&(f=null),new PB(i,t,e,o,a,c,f)}function pv(i){var t=De(i);if(null===t.h){var e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(function(o){return(a=o).field.canonicalString()+a.op.toString()+ax(a.value);var a}).join(","),e+="|ob:",e+=t.orderBy.map(function(o){return(a=o).field.canonicalString()+a.dir;var a}).join(","),Zc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=MD(t.startAt)),t.endAt&&(e+="|ub:",e+=MD(t.endAt)),t.h=e}return t.h}function SD(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<i.orderBy.length;e++)if(!zB(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(var o=0;o<i.filters.length;o++)if((a=i.filters[o]).op!==(c=t.filters[o]).op||!a.field.isEqual(c.field)||!os(a.value,c.value))return!1;var a,c;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!M1(i.startAt,t.startAt)&&M1(i.endAt,t.endAt)}function TD(i){return ze.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}var Ti=function(i){function t(e,o,a){var c=this;return(c=i.call(this)||this).field=e,c.op=o,c.value=a,c}return(0,x.ZT)(t,i),t.create=function(e,o,a){return e.isKeyField()?"in"===o||"not-in"===o?this.l(e,o,a):new LB(e,o,a):"array-contains"===o?new jB(e,a):"in"===o?new UB(e,a):"not-in"===o?new HB(e,a):"array-contains-any"===o?new GB(e,a):new t(e,o,a)},t.l=function(e,o,a){return"in"===o?new VB(e,a):new BB(e,a)},t.prototype.matches=function(e){var o=e.data.field(this.field);return"!="===this.op?null!==o&&this.m(ap(o,this.value)):null!==o&&Xc(this.value)===Xc(o)&&this.m(ap(o,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Le()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),LB=function(i){function t(e,o,a){var c=this;return(c=i.call(this,e,o,a)||this).key=ze.fromName(a.referenceValue),c}return(0,x.ZT)(t,i),t.prototype.matches=function(e){var o=ze.comparator(e.key,this.key);return this.m(o)},t}(Ti),VB=function(i){function t(e,o){var a=this;return(a=i.call(this,e,"in",o)||this).keys=S1(0,o),a}return(0,x.ZT)(t,i),t.prototype.matches=function(e){return this.keys.some(function(o){return o.isEqual(e.key)})},t}(Ti),BB=function(i){function t(e,o){var a=this;return(a=i.call(this,e,"not-in",o)||this).keys=S1(0,o),a}return(0,x.ZT)(t,i),t.prototype.matches=function(e){return!this.keys.some(function(o){return o.isEqual(e.key)})},t}(Ti);function S1(i,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(function(o){return ze.fromName(o.referenceValue)})}var jB=function(i){function t(e,o){return i.call(this,e,"array-contains",o)||this}return(0,x.ZT)(t,i),t.prototype.matches=function(e){var o=e.data.field(this.field);return cx(o)&&hv(o.arrayValue,this.value)},t}(Ti),UB=function(i){function t(e,o){return i.call(this,e,"in",o)||this}return(0,x.ZT)(t,i),t.prototype.matches=function(e){var o=e.data.field(this.field);return null!==o&&hv(this.value.arrayValue,o)},t}(Ti),HB=function(i){function t(e,o){return i.call(this,e,"not-in",o)||this}return(0,x.ZT)(t,i),t.prototype.matches=function(e){if(hv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var o=e.data.field(this.field);return null!==o&&!hv(this.value.arrayValue,o)},t}(Ti),GB=function(i){function t(e,o){return i.call(this,e,"array-contains-any",o)||this}return(0,x.ZT)(t,i),t.prototype.matches=function(e){var o=this,a=e.data.field(this.field);return!(!cx(a)||!a.arrayValue.values)&&a.arrayValue.values.some(function(c){return hv(o.value.arrayValue,c)})},t}(Ti),gv=function(i,t){this.position=i,this.before=t};function MD(i){return(i.before?"b":"a")+":"+i.position.map(function(t){return ax(t)}).join(",")}var lp=function(i,t){void 0===t&&(t="asc"),this.field=i,this.dir=t};function zB(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}function T1(i,t,e){for(var o=0,a=0;a<i.position.length;a++){var c=t[a],f=i.position[a];if(o=c.field.isKeyField()?ze.comparator(ze.fromName(f.referenceValue),e.key):ap(f,e.data.field(c.field)),"desc"===c.dir&&(o*=-1),0!==o)break}return i.before?o<=0:o<0}function M1(i,t){if(null===i)return null===t;if(null===t||i.before!==t.before||i.position.length!==t.position.length)return!1;for(var e=0;e<i.position.length;e++)if(!os(i.position[e],t.position[e]))return!1;return!0}var wa=function(i,t,e,o,a,c,f,m){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===o&&(o=[]),void 0===a&&(a=null),void 0===c&&(c="F"),void 0===f&&(f=null),void 0===m&&(m=null),this.path=i,this.collectionGroup=t,this.explicitOrderBy=e,this.filters=o,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=m,this.p=null,this.T=null};function A1(i,t,e,o,a,c,f,m){return new wa(i,t,e,o,a,c,f,m)}function up(i){return new wa(i)}function AD(i){return!Zc(i.limit)&&"F"===i.limitType}function ID(i){return!Zc(i.limit)&&"L"===i.limitType}function dx(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function hx(i){for(var t=0,e=i.filters;t<e.length;t++){var o=e[t];if(o.g())return o.field}return null}function fx(i){return null!==i.collectionGroup}function cp(i){var t=De(i);if(null===t.p){t.p=[];var e=hx(t),o=dx(t);if(null!==e&&null===o)e.isKeyField()||t.p.push(new lp(e)),t.p.push(new lp(ko.keyField(),"asc"));else{for(var a=!1,c=0,f=t.explicitOrderBy;c<f.length;c++){var m=f[c];t.p.push(m),m.field.isKeyField()&&(a=!0)}if(!a){var _=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new lp(ko.keyField(),_))}}}return t.p}function to(i){var t=De(i);if(!t.T)if("F"===t.limitType)t.T=D1(t.path,t.collectionGroup,cp(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var e=[],o=0,a=cp(t);o<a.length;o++){var c=a[o];e.push(new lp(c.field,"desc"===c.dir?"asc":"desc"))}var m=t.endAt?new gv(t.endAt.position,!t.endAt.before):null,_=t.startAt?new gv(t.startAt.position,!t.startAt.before):null;t.T=D1(t.path,t.collectionGroup,e,t.filters,t.limit,m,_)}return t.T}function I1(i,t,e){return new wa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function mv(i,t){return SD(to(i),to(t))&&i.limitType===t.limitType}function R1(i){return pv(to(i))+"|lt:"+i.limitType}function px(i){return"Query(target="+(e=(t=to(i)).path.canonicalString(),null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(o){return(a=o).field.canonicalString()+" "+a.op+" "+ax(a.value);var a}).join(", ")+"]"),Zc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(o){return(a=o).field.canonicalString()+" ("+a.dir+")";var a}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+MD(t.startAt)),t.endAt&&(e+=", endAt: "+MD(t.endAt)),"Target("+e+"); limitType=")+i.limitType+")";var t,e}function yv(i,t){return t.isFoundDocument()&&(a=(o=t).key.path,null!==(e=i).collectionGroup?o.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(a):ze.isDocumentKey(e.path)?e.path.isEqual(a):e.path.isImmediateParentOf(a))&&function(e,o){for(var a=0,c=e.explicitOrderBy;a<c.length;a++){var f=c[a];if(!f.field.isKeyField()&&null===o.data.field(f.field))return!1}return!0}(i,t)&&function(e,o){for(var a=0,c=e.filters;a<c.length;a++)if(!c[a].matches(o))return!1;return!0}(i,t)&&function(e,o){return!(e.startAt&&!T1(e.startAt,cp(e),o)||e.endAt&&T1(e.endAt,cp(e),o))}(i,t);var e,o,a}function x1(i){return function(t,e){for(var o=!1,a=0,c=cp(i);a<c.length;a++){var f=c[a],m=$B(f,t,e);if(0!==m)return m;o=o||f.field.isKeyField()}return 0}}function $B(i,t,e){var a,f,m,_,o=i.field.isKeyField()?ze.comparator(t.key,e.key):(f=e,m=t.data.field(a=i.field),_=f.data.field(a),null!==m&&null!==_?ap(m,_):Le());switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Le()}}function O1(i,t){if(i.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:CD(t)?"-0":t}}function F1(i){return{integerValue:""+i}}function k1(i,t){return v1(t)?F1(t):O1(i,t)}var RD=function(){this._=void 0};function qB(i,t,e){return i instanceof dp?(c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(o=e).seconds,nanos:o.nanoseconds}}}},(a=t)&&(c.fields.__previous_value__=a),{mapValue:c}):i instanceof ed?P1(i,t):i instanceof td?L1(i,t):function(o,a){var c=N1(o,a),f=V1(c)+V1(o.A);return ux(c)&&ux(o.A)?F1(f):O1(o.R,f)}(i,t);var o,a,c}function YB(i,t,e){return i instanceof ed?P1(i,t):i instanceof td?L1(i,t):e}function N1(i,t){return i instanceof hp?ux(e=t)||(o=e)&&"doubleValue"in o?t:{integerValue:0}:null;var o,e}var dp=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,x.ZT)(t,i),t}(RD),ed=function(i){function t(e){var o=this;return(o=i.call(this)||this).elements=e,o}return(0,x.ZT)(t,i),t}(RD);function P1(i,t){for(var e=B1(t),o=function(f){e.some(function(m){return os(m,f)})||e.push(f)},a=0,c=i.elements;a<c.length;a++)o(c[a]);return{arrayValue:{values:e}}}var td=function(i){function t(e){var o=this;return(o=i.call(this)||this).elements=e,o}return(0,x.ZT)(t,i),t}(RD);function L1(i,t){for(var e=B1(t),o=function(f){e=e.filter(function(m){return!os(m,f)})},a=0,c=i.elements;a<c.length;a++)o(c[a]);return{arrayValue:{values:e}}}var hp=function(i){function t(e,o){var a=this;return(a=i.call(this)||this).R=e,a.A=o,a}return(0,x.ZT)(t,i),t}(RD);function V1(i){return Fn(i.integerValue||i.doubleValue)}function B1(i){return cx(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}var _v=function(i,t){this.field=i,this.transform=t},WB=function(i,t){this.version=i,this.transformResults=t},Dr=function(){function i(t,e){this.updateTime=t,this.exists=e}return i.none=function(){return new i},i.exists=function(t){return new i(void 0,t)},i.updateTime=function(t){return new i(t)},Object.defineProperty(i.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},i}();function xD(i,t){return void 0!==i.updateTime?t.isFoundDocument()&&t.version.isEqual(i.updateTime):void 0===i.exists||i.exists===t.isFoundDocument()}var OD=function(){};function KB(i,t,e){var o,a,c,f,m;i instanceof vv?(a=t,c=e,f=(o=i).value.clone(),m=G1(o.fieldTransforms,a,c.transformResults),f.setAll(m),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()):i instanceof Gl?function(o,a,c){if(xD(o.precondition,a)){var f=G1(o.fieldTransforms,a,c.transformResults),m=a.data;m.setAll(H1(o)),m.setAll(f),a.convertToFoundDocument(c.version,m).setHasCommittedMutations()}else a.convertToUnknownDocument(c.version)}(i,t,e):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function gx(i,t,e){var a;i instanceof vv?function(o,a,c){if(xD(o.precondition,a)){var f=o.value.clone(),m=z1(o.fieldTransforms,c,a);f.setAll(m),a.convertToFoundDocument(U1(a),f).setHasLocalMutations()}}(i,t,e):i instanceof Gl?function(o,a,c){if(xD(o.precondition,a)){var f=z1(o.fieldTransforms,c,a),m=a.data;m.setAll(H1(o)),m.setAll(f),a.convertToFoundDocument(U1(a),m).setHasLocalMutations()}}(i,t,e):xD(i.precondition,a=t)&&a.convertToNoDocument(ft.min())}function QB(i,t){for(var e=null,o=0,a=i.fieldTransforms;o<a.length;o++){var c=a[o],f=t.data.field(c.field),m=N1(c.transform,f||null);null!=m&&(null==e&&(e=Si.empty()),e.set(c.field,m))}return e||null}function j1(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&(o=t.fieldTransforms,!!(void 0===(e=i.fieldTransforms)&&void 0===o||e&&o&&is(e,o,function(a,c){return(f=a).field.isEqual((m=c).field)&&(w=m.transform,(_=f.transform)instanceof ed&&w instanceof ed||_ instanceof td&&w instanceof td?is(_.elements,w.elements,os):_ instanceof hp&&w instanceof hp?os(_.A,w.A):_ instanceof dp&&w instanceof dp);var f,m,_,w})))&&(0===i.type?i.value.isEqual(t.value):1!==i.type||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask));var e,o}function U1(i){return i.isFoundDocument()?i.version:ft.min()}var vv=function(i){function t(e,o,a,c){void 0===c&&(c=[]);var f=this;return(f=i.call(this)||this).key=e,f.value=o,f.precondition=a,f.fieldTransforms=c,f.type=0,f}return(0,x.ZT)(t,i),t}(OD),Gl=function(i){function t(e,o,a,c,f){void 0===f&&(f=[]);var m=this;return(m=i.call(this)||this).key=e,m.data=o,m.fieldMask=a,m.precondition=c,m.fieldTransforms=f,m.type=1,m}return(0,x.ZT)(t,i),t}(OD);function H1(i){var t=new Map;return i.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var o=i.data.field(e);t.set(e,o)}}),t}function G1(i,t,e){var o=new Map;qe(i.length===e.length);for(var a=0;a<e.length;a++){var c=i[a],f=c.transform,m=t.data.field(c.field);o.set(c.field,YB(f,m,e[a]))}return o}function z1(i,t,e){for(var o=new Map,a=0,c=i;a<c.length;a++){var f=c[a],m=f.transform,_=e.data.field(f.field);o.set(f.field,qB(m,_,t))}return o}var kn,Et,bv=function(i){function t(e,o){var a=this;return(a=i.call(this)||this).key=e,a.precondition=o,a.type=2,a.fieldTransforms=[],a}return(0,x.ZT)(t,i),t}(OD),mx=function(i){function t(e,o){var a=this;return(a=i.call(this)||this).key=e,a.precondition=o,a.type=3,a.fieldTransforms=[],a}return(0,x.ZT)(t,i),t}(OD),JB=function(i){this.count=i};function $1(i){switch(i){case N.OK:return Le();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return Le()}}function q1(i){if(void 0===i)return St("GRPC error has no .code"),N.UNKNOWN;switch(i){case kn.OK:return N.OK;case kn.CANCELLED:return N.CANCELLED;case kn.UNKNOWN:return N.UNKNOWN;case kn.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case kn.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case kn.INTERNAL:return N.INTERNAL;case kn.UNAVAILABLE:return N.UNAVAILABLE;case kn.UNAUTHENTICATED:return N.UNAUTHENTICATED;case kn.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case kn.NOT_FOUND:return N.NOT_FOUND;case kn.ALREADY_EXISTS:return N.ALREADY_EXISTS;case kn.PERMISSION_DENIED:return N.PERMISSION_DENIED;case kn.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case kn.ABORTED:return N.ABORTED;case kn.OUT_OF_RANGE:return N.OUT_OF_RANGE;case kn.UNIMPLEMENTED:return N.UNIMPLEMENTED;case kn.DATA_LOSS:return N.DATA_LOSS;default:return Le()}}(Et=kn||(kn={}))[Et.OK=0]="OK",Et[Et.CANCELLED=1]="CANCELLED",Et[Et.UNKNOWN=2]="UNKNOWN",Et[Et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Et[Et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Et[Et.NOT_FOUND=5]="NOT_FOUND",Et[Et.ALREADY_EXISTS=6]="ALREADY_EXISTS",Et[Et.PERMISSION_DENIED=7]="PERMISSION_DENIED",Et[Et.UNAUTHENTICATED=16]="UNAUTHENTICATED",Et[Et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Et[Et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Et[Et.ABORTED=10]="ABORTED",Et[Et.OUT_OF_RANGE=11]="OUT_OF_RANGE",Et[Et.UNIMPLEMENTED=12]="UNIMPLEMENTED",Et[Et.INTERNAL=13]="INTERNAL",Et[Et.UNAVAILABLE=14]="UNAVAILABLE",Et[Et.DATA_LOSS=15]="DATA_LOSS";var Sr=function(){function i(t,e){this.comparator=t,this.root=e||zl.EMPTY}return i.prototype.insert=function(t,e){return new i(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,zl.BLACK,null,null))},i.prototype.remove=function(t){return new i(this.comparator,this.root.remove(t,this.comparator).copy(null,null,zl.BLACK,null,null))},i.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var o=this.comparator(t,e.key);if(0===o)return e.value;o<0?e=e.left:o>0&&(e=e.right)}return null},i.prototype.indexOf=function(t){for(var e=0,o=this.root;!o.isEmpty();){var a=this.comparator(t,o.key);if(0===a)return e+o.left.size;a<0?o=o.left:(e+=o.left.size+1,o=o.right)}return-1},i.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(i.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),i.prototype.minKey=function(){return this.root.minKey()},i.prototype.maxKey=function(){return this.root.maxKey()},i.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},i.prototype.forEach=function(t){this.inorderTraversal(function(e,o){return t(e,o),!1})},i.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,o){return t.push(e+":"+o),!1}),"{"+t.join(", ")+"}"},i.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},i.prototype.getIterator=function(){return new FD(this.root,null,this.comparator,!1)},i.prototype.getIteratorFrom=function(t){return new FD(this.root,t,this.comparator,!1)},i.prototype.getReverseIterator=function(){return new FD(this.root,null,this.comparator,!0)},i.prototype.getReverseIteratorFrom=function(t){return new FD(this.root,t,this.comparator,!0)},i}(),FD=function(){function i(t,e,o,a){this.isReverse=a,this.nodeStack=[];for(var c=1;!t.isEmpty();)if(c=e?o(t.key,e):1,a&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(0===c){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return i.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},i.prototype.hasNext=function(){return this.nodeStack.length>0},i.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},i}(),zl=function(){function i(t,e,o,a,c){this.key=t,this.value=e,this.color=null!=o?o:i.RED,this.left=null!=a?a:i.EMPTY,this.right=null!=c?c:i.EMPTY,this.size=this.left.size+1+this.right.size}return i.prototype.copy=function(t,e,o,a,c){return new i(null!=t?t:this.key,null!=e?e:this.value,null!=o?o:this.color,null!=a?a:this.left,null!=c?c:this.right)},i.prototype.isEmpty=function(){return!1},i.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},i.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},i.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},i.prototype.minKey=function(){return this.min().key},i.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},i.prototype.insert=function(t,e,o){var a=this,c=o(t,a.key);return(a=c<0?a.copy(null,null,null,a.left.insert(t,e,o),null):0===c?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,o))).fixUp()},i.prototype.removeMin=function(){if(this.left.isEmpty())return i.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},i.prototype.remove=function(t,e){var o,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===e(t,a.key)){if(a.right.isEmpty())return i.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()},i.prototype.isRed=function(){return this.color},i.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},i.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},i.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},i.prototype.rotateLeft=function(){var t=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},i.prototype.rotateRight=function(){var t=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},i.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},i.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},i.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Le();var t=this.left.check();if(t!==this.right.check())throw Le();return t+(this.isRed()?0:1)},i}();zl.EMPTY=null,zl.RED=!0,zl.BLACK=!1,zl.EMPTY=new(function(){function i(){this.size=0}return Object.defineProperty(i.prototype,"key",{get:function(){throw Le()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){throw Le()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"color",{get:function(){throw Le()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){throw Le()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){throw Le()},enumerable:!1,configurable:!0}),i.prototype.copy=function(t,e,o,a,c){return this},i.prototype.insert=function(t,e,o){return new zl(t,e)},i.prototype.remove=function(t,e){return this},i.prototype.isEmpty=function(){return!0},i.prototype.inorderTraversal=function(t){return!1},i.prototype.reverseTraversal=function(t){return!1},i.prototype.minKey=function(){return null},i.prototype.maxKey=function(){return null},i.prototype.isRed=function(){return!1},i.prototype.checkMaxDepth=function(){return!0},i.prototype.check=function(){return 0},i}());var qn=function(){function i(t){this.comparator=t,this.data=new Sr(this.comparator)}return i.prototype.has=function(t){return null!==this.data.get(t)},i.prototype.first=function(){return this.data.minKey()},i.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(i.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),i.prototype.indexOf=function(t){return this.data.indexOf(t)},i.prototype.forEach=function(t){this.data.inorderTraversal(function(e,o){return t(e),!1})},i.prototype.forEachInRange=function(t,e){for(var o=this.data.getIteratorFrom(t[0]);o.hasNext();){var a=o.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}},i.prototype.forEachWhile=function(t,e){var o;for(o=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();o.hasNext();)if(!t(o.getNext().key))return},i.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},i.prototype.getIterator=function(){return new Y1(this.data.getIterator())},i.prototype.getIteratorFrom=function(t){return new Y1(this.data.getIteratorFrom(t))},i.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},i.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},i.prototype.isEmpty=function(){return this.data.isEmpty()},i.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(o){e=e.add(o)}),e},i.prototype.isEqual=function(t){if(!(t instanceof i)||this.size!==t.size)return!1;for(var e=this.data.getIterator(),o=t.data.getIterator();e.hasNext();){var a=e.getNext().key,c=o.getNext().key;if(0!==this.comparator(a,c))return!1}return!0},i.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},i.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},i.prototype.copy=function(t){var e=new i(this.comparator);return e.data=t,e},i}(),Y1=function(){function i(t){this.iter=t}return i.prototype.getNext=function(){return this.iter.getNext().key},i.prototype.hasNext=function(){return this.iter.hasNext()},i}(),ZB=new Sr(ze.comparator);function no(){return ZB}var XB=new Sr(ze.comparator);function yx(){return XB}var e2=new Sr(ze.comparator);function W1(){return e2}var t2=new qn(ze.comparator);function Nt(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];for(var e=t2,o=0,a=i;o<a.length;o++){var c=a[o];e=e.add(c)}return e}var n2=new qn(dt);function kD(){return n2}var _x=function(){function i(t,e,o,a,c){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=c}return i.createSynthesizedRemoteEventForCurrentChange=function(t,e){var o=new Map;return o.set(t,vx.createSynthesizedTargetChangeForCurrentChange(t,e)),new i(ft.min(),o,kD(),no(),Nt())},i}(),vx=function(){function i(t,e,o,a,c){this.resumeToken=t,this.current=e,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=c}return i.createSynthesizedTargetChangeForCurrentChange=function(t,e){return new i(Br.EMPTY_BYTE_STRING,e,Nt(),Nt(),Nt())},i}(),ND=function(i,t,e,o){this.v=i,this.removedTargetIds=t,this.key=e,this.P=o},K1=function(i,t){this.targetId=i,this.V=t},Q1=function(i,t,e,o){void 0===e&&(e=Br.EMPTY_BYTE_STRING),void 0===o&&(o=null),this.state=i,this.targetIds=t,this.resumeToken=e,this.cause=o},J1=function(){function i(){this.S=0,this.D=X1(),this.C=Br.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(i.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),i.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},i.prototype.M=function(){var t=Nt(),e=Nt(),o=Nt();return this.D.forEach(function(a,c){switch(c){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:o=o.add(a);break;default:Le()}}),new vx(this.C,this.N,t,e,o)},i.prototype.L=function(){this.k=!1,this.D=X1()},i.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},i.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},i.prototype.U=function(){this.S+=1},i.prototype.K=function(){this.S-=1},i.prototype.j=function(){this.k=!0,this.N=!0},i}(),r2=function(){function i(t){this.W=t,this.G=new Map,this.H=no(),this.J=Z1(),this.Y=new qn(dt)}return i.prototype.X=function(t){for(var e=0,o=t.v;e<o.length;e++){var a=o[e];t.P&&t.P.isFoundDocument()?this.Z(a,t.P):this.tt(a,t.key,t.P)}for(var c=0,f=t.removedTargetIds;c<f.length;c++)this.tt(a=f[c],t.key,t.P)},i.prototype.et=function(t){var e=this;this.forEachTarget(t,function(o){var a=e.nt(o);switch(t.state){case 0:e.st(o)&&a.O(t.resumeToken);break;case 1:a.K(),a.F||a.L(),a.O(t.resumeToken);break;case 2:a.K(),a.F||e.removeTarget(o);break;case 3:e.st(o)&&(a.j(),a.O(t.resumeToken));break;case 4:e.st(o)&&(e.it(o),a.O(t.resumeToken));break;default:Le()}})},i.prototype.forEachTarget=function(t,e){var o=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(a,c){o.st(c)&&e(c)})},i.prototype.rt=function(t){var e=t.targetId,o=t.V.count,a=this.ot(e);if(a){var c=a.target;if(TD(c))if(0===o){var f=new ze(c.path);this.tt(e,f,hr.newNoDocument(f,ft.min()))}else qe(1===o);else this.ct(e)!==o&&(this.it(e),this.Y=this.Y.add(e))}},i.prototype.ut=function(t){var e=this,o=new Map;this.G.forEach(function(f,m){var _=e.ot(m);if(_){if(f.current&&TD(_.target)){var w=new ze(_.target.path);null!==e.H.get(w)||e.at(m,w)||e.tt(m,w,hr.newNoDocument(w,t))}f.$&&(o.set(m,f.M()),f.L())}});var a=Nt();this.J.forEach(function(f,m){var _=!0;m.forEachWhile(function(w){var C=e.ot(w);return!C||2===C.purpose||(_=!1,!1)}),_&&(a=a.add(f))});var c=new _x(t,o,this.Y,this.H,a);return this.H=no(),this.J=Z1(),this.Y=new qn(dt),c},i.prototype.Z=function(t,e){if(this.st(t)){var o=this.at(t,e.key)?2:0;this.nt(t).B(e.key,o),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},i.prototype.tt=function(t,e,o){if(this.st(t)){var a=this.nt(t);this.at(t,e)?a.B(e,1):a.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),o&&(this.H=this.H.insert(e,o))}},i.prototype.removeTarget=function(t){this.G.delete(t)},i.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},i.prototype.U=function(t){this.nt(t).U()},i.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new J1,this.G.set(t,e)),e},i.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new qn(dt),this.J=this.J.insert(t,e)),e},i.prototype.st=function(t){var e=null!==this.ot(t);return e||_e("WatchChangeAggregator","Detected inactive target",t),e},i.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},i.prototype.it=function(t){var e=this;this.G.set(t,new J1),this.W.getRemoteKeysForTarget(t).forEach(function(o){e.tt(t,o,null)})},i.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},i}();function Z1(){return new Sr(ze.comparator)}function X1(){return new Sr(ze.comparator)}var o2={asc:"ASCENDING",desc:"DESCENDING"},s2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},a2=function(i,t){this.databaseId=i,this.I=t};function wv(i,t){return i.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function eP(i,t){return i.I?t.toBase64():t.toUint8Array()}function l2(i,t){return wv(i,t.toTimestamp())}function tr(i){return qe(!!i),ft.fromTimestamp((e=Hl(i),new ri(e.seconds,e.nanos)));var e}function bx(i,t){return(e=i,new It(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function tP(i){var t=It.fromString(i);return qe(fP(t)),t}function Cv(i,t){return bx(i.databaseId,t.path)}function ss(i,t){var e=tP(t);if(e.get(1)!==i.databaseId.projectId)throw new ee(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new ee(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new ze(rP(e))}function wx(i,t){return bx(i.databaseId,t)}function nP(i){var t=tP(i);return 4===t.length?It.emptyPath():rP(t)}function Ev(i){return new It(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function rP(i){return qe(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function iP(i,t,e){return{name:Cv(i,t),fields:e.value.mapValue.fields}}function oP(i,t,e){var o=ss(i,t.name),a=tr(t.updateTime),c=new Si({mapValue:{fields:t.fields}}),f=hr.newFoundDocument(o,a,c);return e&&f.setHasCommittedMutations(),e?f.setHasCommittedMutations():f}function PD(i,t){var e,a;if(t instanceof vv)e={update:iP(i,t.key,t.value)};else if(t instanceof bv)e={delete:Cv(i,t.key)};else if(t instanceof Gl)e={update:iP(i,t.key,t.data),updateMask:f2(t.fieldMask)};else{if(!(t instanceof mx))return Le();e={verify:Cv(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(function(o){return function(a,c){var f=c.transform;if(f instanceof dp)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ed)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof td)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof hp)return{fieldPath:c.field.canonicalString(),increment:f.A};throw Le()}(0,o)})),t.precondition.isNone||(e.currentDocument=void 0!==(a=t.precondition).updateTime?{updateTime:l2(i,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Le()),e}function sP(i,t){var w,e=t.currentDocument?void 0!==(w=t.currentDocument).updateTime?Dr.updateTime(tr(w.updateTime)):void 0!==w.exists?Dr.exists(w.exists):Dr.none():Dr.none(),o=t.updateTransforms?t.updateTransforms.map(function(w){return function(C,S){var T=null;"setToServerValue"in S?(qe("REQUEST_TIME"===S.setToServerValue),T=new dp):"appendMissingElements"in S?T=new ed(S.appendMissingElements.values||[]):"removeAllFromArray"in S?T=new td(S.removeAllFromArray.values||[]):"increment"in S?T=new hp(C,S.increment):Le();var j=ko.fromServerFormat(S.fieldPath);return new _v(j,T)}(i,w)}):[];if(t.update){var a=ss(i,t.update.name),c=new Si({mapValue:{fields:t.update.fields}});if(t.updateMask){var f=function(w){return new op((w.fieldPaths||[]).map(function(S){return ko.fromServerFormat(S)}))}(t.updateMask);return new Gl(a,c,f,e,o)}return new vv(a,c,e,o)}if(t.delete){var m=ss(i,t.delete);return new bv(m,e)}if(t.verify){var _=ss(i,t.verify);return new mx(_,e)}return Le()}function aP(i,t){return{documents:[wx(i,t.path)]}}function lP(i,t){var e={structuredQuery:{}},o=t.path;null!==t.collectionGroup?(e.parent=wx(i,o),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=wx(i,o.popLast()),e.structuredQuery.from=[{collectionId:o.lastSegment()}]);var a=function(m){if(0!==m.length){var _=m.map(function(w){return function(C){if("=="===C.op){if(C1(C.value))return{unaryFilter:{field:fp(C.field),op:"IS_NAN"}};if(w1(C.value))return{unaryFilter:{field:fp(C.field),op:"IS_NULL"}}}else if("!="===C.op){if(C1(C.value))return{unaryFilter:{field:fp(C.field),op:"IS_NOT_NAN"}};if(w1(C.value))return{unaryFilter:{field:fp(C.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fp(C.field),op:c2(C.op),value:C.value}}}(w)});return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}}(t.filters);a&&(e.structuredQuery.where=a);var c=function(m){if(0!==m.length)return m.map(function(_){return{field:fp((w=_).field),direction:u2(w.dir)};var w})}(t.orderBy);c&&(e.structuredQuery.orderBy=c);var _,f=(_=t.limit,i.I||Zc(_)?_:{value:_});return null!==f&&(e.structuredQuery.limit=f),t.startAt&&(e.structuredQuery.startAt=dP(t.startAt)),t.endAt&&(e.structuredQuery.endAt=dP(t.endAt)),e}function uP(i){var t=nP(i.parent),e=i.structuredQuery,o=e.from?e.from.length:0,a=null;if(o>0){qe(1===o);var c=e.from[0];c.allDescendants?a=c.collectionId:t=t.child(c.collectionId)}var f=[];e.where&&(f=cP(e.where));var m=[];e.orderBy&&(m=e.orderBy.map(function(S){return new lp(pp((T=S).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));var S,T,_=null;e.limit&&(_=Zc(T="object"==typeof(S=e.limit)?S.value:S)?null:T);var w=null;e.startAt&&(w=hP(e.startAt));var C=null;return e.endAt&&(C=hP(e.endAt)),A1(t,a,m,f,_,"F",w,C)}function cP(i){return i?void 0!==i.unaryFilter?[h2(i)]:void 0!==i.fieldFilter?[d2(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(function(t){return cP(t)}).reduce(function(t,e){return t.concat(e)}):Le():[]}function dP(i){return{before:i.before,values:i.position}}function hP(i){return new gv(i.values||[],!!i.before)}function u2(i){return o2[i]}function c2(i){return s2[i]}function fp(i){return{fieldPath:i.canonicalString()}}function pp(i){return ko.fromServerFormat(i.fieldPath)}function d2(i){return Ti.create(pp(i.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Le()}}(i.fieldFilter.op),i.fieldFilter.value)}function h2(i){switch(i.unaryFilter.op){case"IS_NAN":var t=pp(i.unaryFilter.field);return Ti.create(t,"==",{doubleValue:NaN});case"IS_NULL":var e=pp(i.unaryFilter.field);return Ti.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var o=pp(i.unaryFilter.field);return Ti.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var a=pp(i.unaryFilter.field);return Ti.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Le()}}function f2(i){var t=[];return i.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}}function fP(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function No(i){for(var t="",e=0;e<i.length;e++)t.length>0&&(t=pP(t)),t=p2(i.get(e),t);return pP(t)}function p2(i,t){for(var e=t,o=i.length,a=0;a<o;a++){var c=i.charAt(a);switch(c){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=c}}return e}function pP(i){return i+"\x01\x01"}function Ca(i){var t=i.length;if(qe(t>=2),2===t)return qe("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),It.emptyPath();for(var e=t-2,o=[],a="",c=0;c<t;){var f=i.indexOf("\x01",c);switch((f<0||f>e)&&Le(),i.charAt(f+1)){case"\x01":var m=i.substring(c,f),_=void 0;0===a.length?_=m:(_=a+=m,a=""),o.push(_);break;case"\x10":a+=i.substring(c,f),a+="\0";break;case"\x11":a+=i.substring(c,f+1);break;default:Le()}c=f+2}return new It(o)}var g2=function(i,t){this.seconds=i,this.nanoseconds=t},Mi=function(i,t,e){this.ownerId=i,this.allowTabSynchronization=t,this.leaseTimestampMs=e};Mi.store="owner",Mi.key="owner";var $l=function(i,t,e){this.userId=i,this.lastAcknowledgedBatchId=t,this.lastStreamToken=e};$l.store="mutationQueues",$l.keyPath="userId";var Zt=function(i,t,e,o,a){this.userId=i,this.batchId=t,this.localWriteTimeMs=e,this.baseMutations=o,this.mutations=a};Zt.store="mutations",Zt.keyPath="batchId",Zt.userMutationsIndex="userMutationsIndex",Zt.userMutationsKeyPath=["userId","batchId"];var Tr=function(){function i(){}return i.prefixForUser=function(t){return[t]},i.prefixForPath=function(t,e){return[t,No(e)]},i.key=function(t,e,o){return[t,No(e),o]},i}();Tr.store="documentMutations",Tr.PLACEHOLDER=new Tr;var m2=function(i,t){this.path=i,this.readTime=t},y2=function(i,t){this.path=i,this.version=t},_n=function(i,t,e,o,a,c){this.unknownDocument=i,this.noDocument=t,this.document=e,this.hasCommittedMutations=o,this.readTime=a,this.parentPath=c};_n.store="remoteDocuments",_n.readTimeIndex="readTimeIndex",_n.readTimeIndexPath="readTime",_n.collectionReadTimeIndex="collectionReadTimeIndex",_n.collectionReadTimeIndexPath=["parentPath","readTime"];var as=function(i){this.byteSize=i};as.store="remoteDocumentGlobal",as.key="remoteDocumentGlobalKey";var ii=function(i,t,e,o,a,c,f){this.targetId=i,this.canonicalId=t,this.readTime=e,this.resumeToken=o,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=c,this.query=f};ii.store="targets",ii.keyPath="targetId",ii.queryTargetsIndexName="queryTargetsIndex",ii.queryTargetsKeyPath=["canonicalId","targetId"];var fr=function(i,t,e){this.targetId=i,this.path=t,this.sequenceNumber=e};fr.store="targetDocuments",fr.keyPath=["targetId","path"],fr.documentTargetsIndex="documentTargetsIndex",fr.documentTargetsKeyPath=["path","targetId"];var Ai=function(i,t,e,o){this.highestTargetId=i,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=e,this.targetCount=o};Ai.key="targetGlobalKey",Ai.store="targetGlobal";var nd=function(i,t){this.collectionId=i,this.parent=t};nd.store="collectionParents",nd.keyPath=["collectionId","parent"];var Ea=function(i,t,e,o){this.clientId=i,this.updateTimeMs=t,this.networkEnabled=e,this.inForeground=o};Ea.store="clientMetadata",Ea.keyPath="clientId";var gp=function(i,t,e){this.bundleId=i,this.createTime=t,this.version=e};gp.store="bundles",gp.keyPath="bundleId";var mp=function(i,t,e){this.name=i,this.readTime=t,this.bundledQuery=e};mp.store="namedQueries",mp.keyPath="name";var _2=(0,x.ev)((0,x.ev)([],(0,x.ev)((0,x.ev)([],(0,x.ev)((0,x.ev)([],(0,x.ev)((0,x.ev)([],[$l.store,Zt.store,Tr.store,_n.store,ii.store,Mi.store,Ai.store,fr.store]),[Ea.store])),[as.store])),[nd.store])),[gp.store,mp.store]),gP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",mP=function(){function i(){this.onCommittedListeners=[]}return i.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},i.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},i}(),Mr=function(){var i=this;this.promise=new Promise(function(t,e){i.resolve=t,i.reject=e})},Ee=function(){function i(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(o){e.isDone=!0,e.result=o,e.nextCallback&&e.nextCallback(o)},function(o){e.isDone=!0,e.error=o,e.catchCallback&&e.catchCallback(o)})}return i.prototype.catch=function(t){return this.next(void 0,t)},i.prototype.next=function(t,e){var o=this;return this.callbackAttached&&Le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new i(function(a,c){o.nextCallback=function(f){o.wrapSuccess(t,f).next(a,c)},o.catchCallback=function(f){o.wrapFailure(e,f).next(a,c)}})},i.prototype.toPromise=function(){var t=this;return new Promise(function(e,o){t.next(e,o)})},i.prototype.wrapUserFunction=function(t){try{var e=t();return e instanceof i?e:i.resolve(e)}catch(o){return i.reject(o)}},i.prototype.wrapSuccess=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):i.resolve(e)},i.prototype.wrapFailure=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):i.reject(e)},i.resolve=function(t){return new i(function(e,o){e(t)})},i.reject=function(t){return new i(function(e,o){o(t)})},i.waitFor=function(t){return new i(function(e,o){var a=0,c=0,f=!1;t.forEach(function(m){++a,m.next(function(){++c,f&&c===a&&e()},function(_){return o(_)})}),f=!0,c===a&&e()})},i.or=function(t){for(var e=i.resolve(!1),o=function(f){e=e.next(function(m){return m?i.resolve(m):f()})},a=0,c=t;a<c.length;a++)o(c[a]);return e},i.forEach=function(t,e){var o=this,a=[];return t.forEach(function(c,f){a.push(e.call(o,c,f))}),this.waitFor(a)},i}(),yP=function(){function i(t,e){var o=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Mr,this.transaction.oncomplete=function(){o.ft.resolve()},this.transaction.onabort=function(){e.error?o.ft.reject(new Dv(t,e.error)):o.ft.resolve()},this.transaction.onerror=function(a){var c=Cx(a.target.error);o.ft.reject(new Dv(t,c))}}return i.open=function(t,e,o,a){try{return new i(e,t.transaction(a,o))}catch(c){throw new Dv(e,c)}},Object.defineProperty(i.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),i.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(_e("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},i.prototype.store=function(t){var e=this.transaction.objectStore(t);return new b2(e)},i}(),yp=function(){function i(t,e,o){this.name=t,this.version=e,this.wt=o,12.2===i._t((0,At.z$)())&&St("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return i.delete=function(t){return _e("SimpleDb","Removing database:",t),id(window.indexedDB.deleteDatabase(t)).toPromise()},i.yt=function(){if("undefined"==typeof indexedDB)return!1;if(i.gt())return!0;var t=(0,At.z$)(),e=i._t(t),o=0<e&&e<10,a=i.Et(t),c=0<a&&a<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||o||c)},i.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},i.It=function(t,e){return t.store(e)},i._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(o)},i.Et=function(t){var e=t.match(/Android ([\d.]+)/i),o=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(o)},i.prototype.At=function(t){return(0,x.mG)(this,void 0,void 0,function(){var e,o=this;return(0,x.Jh)(this,function(a){switch(a.label){case 0:return this.db?[3,2]:(_e("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(c,f){var m=indexedDB.open(o.name,o.version);m.onsuccess=function(_){c(_.target.result)},m.onblocked=function(){f(new Dv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=function(_){var w=_.target.error;f("VersionError"===w.name?new ee(N.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Dv(t,w))},m.onupgradeneeded=function(_){_e("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',_.oldVersion),o.wt.Rt(_.target.result,m.transaction,_.oldVersion,o.version).next(function(){_e("SimpleDb","Database upgrade to version "+o.version+" complete")})}})]);case 1:e.db=a.sent(),a.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(c){return o.bt(c)}),this.db)]}})})},i.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},i.prototype.runTransaction=function(t,e,o,a){return(0,x.mG)(this,void 0,void 0,function(){var c,f,m,_,w;return(0,x.Jh)(this,function(C){switch(C.label){case 0:c="readonly"===e,f=0,m=function(){var S,T,I,F,j;return(0,x.Jh)(this,function(q){switch(q.label){case 0:++f,q.label=1;case 1:return q.trys.push([1,4,,5]),[4,_.At(t)];case 2:return _.db=q.sent(),S=yP.open(_.db,t,c?"readonly":"readwrite",o),T=a(S).catch(function(ce){return S.abort(ce),Ee.reject(ce)}).toPromise(),I={},T.catch(function(){}),[4,S.dt];case 3:return[2,(I.value=(q.sent(),T),I)];case 4:return _e("SimpleDb","Transaction failed with error:",(F=q.sent()).message,"Retrying:",j="FirebaseError"!==F.name&&f<3),_.close(),j?[3,5]:[2,{value:Promise.reject(F)}];case 5:return[2]}})},_=this,C.label=1;case 1:return[5,m()];case 2:if("object"==typeof(w=C.sent()))return[2,w.value];C.label=3;case 3:return[3,1];case 4:return[2]}})})},i.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},i}(),v2=function(){function i(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(i.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),i.prototype.done=function(){this.Vt=!0},i.prototype.Ct=function(t){this.St=t},i.prototype.delete=function(){return id(this.Pt.delete())},i}(),Dv=function(i){function t(e,o){var a=this;return(a=i.call(this,N.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+o)||this).name="IndexedDbTransactionError",a}return(0,x.ZT)(t,i),t}(ee);function rd(i){return"IndexedDbTransactionError"===i.name}var b2=function(){function i(t){this.store=t}return i.prototype.put=function(t,e){var o;return void 0!==e?(_e("SimpleDb","PUT",this.store.name,t,e),o=this.store.put(e,t)):(_e("SimpleDb","PUT",this.store.name,"<auto-key>",t),o=this.store.put(t)),id(o)},i.prototype.add=function(t){return _e("SimpleDb","ADD",this.store.name,t,t),id(this.store.add(t))},i.prototype.get=function(t){var e=this;return id(this.store.get(t)).next(function(o){return void 0===o&&(o=null),_e("SimpleDb","GET",e.store.name,t,o),o})},i.prototype.delete=function(t){return _e("SimpleDb","DELETE",this.store.name,t),id(this.store.delete(t))},i.prototype.count=function(){return _e("SimpleDb","COUNT",this.store.name),id(this.store.count())},i.prototype.Nt=function(t,e){var o=this.cursor(this.options(t,e)),a=[];return this.xt(o,function(c,f){a.push(f)}).next(function(){return a})},i.prototype.kt=function(t,e){_e("SimpleDb","DELETE ALL",this.store.name);var o=this.options(t,e);o.Ft=!1;var a=this.cursor(o);return this.xt(a,function(c,f,m){return m.delete()})},i.prototype.$t=function(t,e){var o;e?o=t:(o={},e=t);var a=this.cursor(o);return this.xt(a,e)},i.prototype.Ot=function(t){var e=this.cursor({});return new Ee(function(o,a){e.onerror=function(c){var f=Cx(c.target.error);a(f)},e.onsuccess=function(c){var f=c.target.result;f?t(f.primaryKey,f.value).next(function(m){m?f.continue():o()}):o()}})},i.prototype.xt=function(t,e){var o=[];return new Ee(function(a,c){t.onerror=function(f){c(f.target.error)},t.onsuccess=function(f){var m=f.target.result;if(m){var _=new v2(m),w=e(m.primaryKey,m.value,_);if(w instanceof Ee){var C=w.catch(function(S){return _.done(),Ee.reject(S)});o.push(C)}_.isDone?a():null===_.Dt?m.continue():m.continue(_.Dt)}else a()}}).next(function(){return Ee.waitFor(o)})},i.prototype.options=function(t,e){var o;return void 0!==t&&("string"==typeof t?o=t:e=t),{index:o,range:e}},i.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var o=this.store.index(t.index);return t.Ft?o.openKeyCursor(t.range,e):o.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},i}();function id(i){return new Ee(function(t,e){i.onsuccess=function(o){t(o.target.result)},i.onerror=function(o){var a=Cx(o.target.error);e(a)}})}var _P=!1;function Cx(i){var t=yp._t((0,At.z$)());if(t>=12.2&&t<13){var e="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(e)>=0){var o=new ee("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return _P||(_P=!0,setTimeout(function(){throw o},0)),o}}return i}var vP=function(i){function t(e,o){var a=this;return(a=i.call(this)||this).Mt=e,a.currentSequenceNumber=o,a}return(0,x.ZT)(t,i),t}(mP);function oi(i,t){var e=De(i);return yp.It(e.Mt,t)}var Ex=function(){function i(t,e,o,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=o,this.mutations=a}return i.prototype.applyToRemoteDocument=function(t,e){for(var o=e.mutationResults,a=0;a<this.mutations.length;a++){var c=this.mutations[a];c.key.isEqual(t.key)&&KB(c,t,o[a])}},i.prototype.applyToLocalView=function(t){for(var e=0,o=this.baseMutations;e<o.length;e++)(f=o[e]).key.isEqual(t.key)&&gx(f,t,this.localWriteTime);for(var a=0,c=this.mutations;a<c.length;a++){var f;(f=c[a]).key.isEqual(t.key)&&gx(f,t,this.localWriteTime)}},i.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(o){var a=t.get(o.key),c=a;e.applyToLocalView(c),a.isValidDocument()||c.convertToNoDocument(ft.min())})},i.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Nt())},i.prototype.isEqual=function(t){return this.batchId===t.batchId&&is(this.mutations,t.mutations,function(e,o){return j1(e,o)})&&is(this.baseMutations,t.baseMutations,function(e,o){return j1(e,o)})},i}(),w2=function(){function i(t,e,o,a){this.batch=t,this.commitVersion=e,this.mutationResults=o,this.docVersions=a}return i.from=function(t,e,o){qe(t.mutations.length===o.length);for(var a=W1(),c=t.mutations,f=0;f<c.length;f++)a=a.insert(c[f].key,o[f].version);return new i(t,e,o,a)},i}(),LD=function(){function i(t,e,o,a,c,f,m){void 0===c&&(c=ft.min()),void 0===f&&(f=ft.min()),void 0===m&&(m=Br.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m}return i.prototype.withSequenceNumber=function(t){return new i(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},i.prototype.withResumeToken=function(t,e){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},i.prototype.withLastLimboFreeSnapshotVersion=function(t){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},i}(),bP=function(i){this.Lt=i};function Dx(i,t){if(t.document)return oP(i.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=ze.fromSegments(t.noDocument.path),o=vp(t.noDocument.readTime),a=hr.newNoDocument(e,o);return t.hasCommittedMutations?a.setHasCommittedMutations():a}if(t.unknownDocument){var c=ze.fromSegments(t.unknownDocument.path);return o=vp(t.unknownDocument.version),hr.newUnknownDocument(c,o)}return Le()}function wP(i,t,e){var S,T,o=Sx(e),a=t.key.path.popLast().toArray();if(t.isFoundDocument()){var c={name:Cv(S=i.Lt,(T=t).key),fields:T.data.value.mapValue.fields,updateTime:wv(S,T.version.toTimestamp())},f=t.hasCommittedMutations;return new _n(null,null,c,f,o,a)}if(t.isNoDocument()){var m=t.key.path.toArray(),_=_p(t.version);return f=t.hasCommittedMutations,new _n(null,new m2(m,_),null,f,o,a)}if(t.isUnknownDocument()){var w=t.key.path.toArray(),C=_p(t.version);return new _n(new y2(w,C),null,null,!0,o,a)}return Le()}function Sx(i){var t=i.toTimestamp();return[t.seconds,t.nanoseconds]}function CP(i){var t=new ri(i[0],i[1]);return ft.fromTimestamp(t)}function _p(i){var t=i.toTimestamp();return new g2(t.seconds,t.nanoseconds)}function vp(i){var t=new ri(i.seconds,i.nanoseconds);return ft.fromTimestamp(t)}function bp(i,t){for(var e=(t.baseMutations||[]).map(function(_){return sP(i.Lt,_)}),o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);var f=t.mutations.map(function(_){return sP(i.Lt,_)}),m=ri.fromMillis(t.localWriteTimeMs);return new Ex(t.batchId,m,e,f)}function Sv(i){var t,e,o=vp(i.readTime),a=void 0!==i.lastLimboFreeSnapshotVersion?vp(i.lastLimboFreeSnapshotVersion):ft.min();return void 0!==i.query.documents?(qe(1===(e=i.query).documents.length),t=to(up(nP(e.documents[0])))):t=to(uP(i.query)),new LD(t,i.targetId,0,i.lastListenSequenceNumber,o,a,Br.fromBase64String(i.resumeToken))}function EP(i,t){var e,o=_p(t.snapshotVersion),a=_p(t.lastLimboFreeSnapshotVersion);e=TD(t.target)?aP(i.Lt,t.target):lP(i.Lt,t.target);var c=t.resumeToken.toBase64();return new ii(t.targetId,pv(t.target),o,c,t.sequenceNumber,a,e)}function Tx(i){var t=uP({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?I1(t,t.limit,"L"):t}var C2=function(){function i(){}return i.prototype.getBundleMetadata=function(t,e){return DP(t).get(e).next(function(o){if(o)return{id:(a=o).bundleId,createTime:vp(a.createTime),version:a.version};var a})},i.prototype.saveBundleMetadata=function(t,e){return DP(t).put({bundleId:(o=e).id,createTime:_p(tr(o.createTime)),version:o.version});var o},i.prototype.getNamedQuery=function(t,e){return SP(t).get(e).next(function(o){if(o)return{name:(a=o).name,query:Tx(a.bundledQuery),readTime:vp(a.readTime)};var a})},i.prototype.saveNamedQuery=function(t,e){return SP(t).put({name:(o=e).name,readTime:_p(tr(o.readTime)),bundledQuery:o.bundledQuery});var o},i}();function DP(i){return oi(i,gp.store)}function SP(i){return oi(i,mp.store)}var E2=function(){function i(){this.Bt=new Mx}return i.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Ee.resolve()},i.prototype.getCollectionParents=function(t,e){return Ee.resolve(this.Bt.getEntries(e))},i}(),Mx=function(){function i(){this.index={}}return i.prototype.add=function(t){var e=t.lastSegment(),o=t.popLast(),a=this.index[e]||new qn(It.comparator),c=!a.has(o);return this.index[e]=a.add(o),c},i.prototype.has=function(t){var e=t.lastSegment(),o=t.popLast(),a=this.index[e];return a&&a.has(o)},i.prototype.getEntries=function(t){return(this.index[t]||new qn(It.comparator)).toArray()},i}(),D2=function(){function i(){this.qt=new Mx}return i.prototype.addToCollectionParentIndex=function(t,e){var o=this;if(!this.qt.has(e)){var a=e.lastSegment(),c=e.popLast();t.addOnCommittedListener(function(){o.qt.add(e)});var f={collectionId:a,parent:No(c)};return TP(t).put(f)}return Ee.resolve()},i.prototype.getCollectionParents=function(t,e){var o=[],a=IDBKeyRange.bound([e,""],[p1(e),""],!1,!0);return TP(t).Nt(a).next(function(c){for(var f=0,m=c;f<m.length;f++){var _=m[f];if(_.collectionId!==e)break;o.push(Ca(_.parent))}return o})},i}();function TP(i){return oi(i,nd.store)}var MP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ls=function(){function i(t,e,o){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=o}return i.withCacheSize=function(t){return new i(t,i.DEFAULT_COLLECTION_PERCENTILE,i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},i}();function AP(i,t,e){var o=i.store(Zt.store),a=i.store(Tr.store),c=[],f=IDBKeyRange.only(e.batchId),m=0,_=o.$t({range:f},function(F,j,q){return m++,q.delete()});c.push(_.next(function(){qe(1===m)}));for(var w=[],C=0,S=e.mutations;C<S.length;C++){var T=S[C],I=Tr.key(t,T.key.path,e.batchId);c.push(a.delete(I)),w.push(T.key)}return Ee.waitFor(c).next(function(){return w})}function VD(i){if(!i)return 0;var t;if(i.document)t=i.document;else if(i.unknownDocument)t=i.unknownDocument;else{if(!i.noDocument)throw Le();t=i.noDocument}return JSON.stringify(t).length}ls.DEFAULT_COLLECTION_PERCENTILE=10,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ls.DEFAULT=new ls(41943040,ls.DEFAULT_COLLECTION_PERCENTILE,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ls.DISABLED=new ls(-1,0,0);var S2=function(){function i(t,e,o,a){this.userId=t,this.R=e,this.Ut=o,this.referenceDelegate=a,this.Kt={}}return i.Qt=function(t,e,o,a){return qe(""!==t.uid),new i(t.isAuthenticated()?t.uid:"",e,o,a)},i.prototype.checkEmpty=function(t){var e=!0,o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ql(t).$t({index:Zt.userMutationsIndex,range:o},function(a,c,f){e=!1,f.done()}).next(function(){return e})},i.prototype.addMutationBatch=function(t,e,o,a){var c=this,f=wp(t),m=ql(t);return m.add({}).next(function(_){qe("number"==typeof _);for(var w=new Ex(_,e,o,a),C=function(ce,ve,Ce){var xe=Ce.baseMutations.map(function(st){return PD(ce.Lt,st)}),ke=Ce.mutations.map(function(st){return PD(ce.Lt,st)});return new Zt(ve,Ce.batchId,Ce.localWriteTime.toMillis(),xe,ke)}(c.R,c.userId,w),S=[],T=new qn(function(ce,ve){return dt(ce.canonicalString(),ve.canonicalString())}),I=0,F=a;I<F.length;I++){var j=F[I],q=Tr.key(c.userId,j.key.path,_);T=T.add(j.key.path.popLast()),S.push(m.put(C)),S.push(f.put(q,Tr.PLACEHOLDER))}return T.forEach(function(ce){S.push(c.Ut.addToCollectionParentIndex(t,ce))}),t.addOnCommittedListener(function(){c.Kt[_]=w.keys()}),Ee.waitFor(S).next(function(){return w})})},i.prototype.lookupMutationBatch=function(t,e){var o=this;return ql(t).get(e).next(function(a){return a?(qe(a.userId===o.userId),bp(o.R,a)):null})},i.prototype.jt=function(t,e){var o=this;return this.Kt[e]?Ee.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(a){if(a){var c=a.keys();return o.Kt[e]=c,c}return null})},i.prototype.getNextMutationBatchAfterBatchId=function(t,e){var o=this,a=e+1,c=IDBKeyRange.lowerBound([this.userId,a]),f=null;return ql(t).$t({index:Zt.userMutationsIndex,range:c},function(m,_,w){_.userId===o.userId&&(qe(_.batchId>=a),f=bp(o.R,_)),w.done()}).next(function(){return f})},i.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),o=-1;return ql(t).$t({index:Zt.userMutationsIndex,range:e,reverse:!0},function(a,c,f){o=c.batchId,f.done()}).next(function(){return o})},i.prototype.getAllMutationBatches=function(t){var e=this,o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ql(t).Nt(Zt.userMutationsIndex,o).next(function(a){return a.map(function(c){return bp(e.R,c)})})},i.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var o=this,a=Tr.prefixForPath(this.userId,e.path),c=IDBKeyRange.lowerBound(a),f=[];return wp(t).$t({range:c},function(m,_,w){var C=m[0],T=m[2],I=Ca(m[1]);if(C===o.userId&&e.path.isEqual(I))return ql(t).get(T).next(function(F){if(!F)throw Le();qe(F.userId===o.userId),f.push(bp(o.R,F))});w.done()}).next(function(){return f})},i.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var o=this,a=new qn(dt),c=[];return e.forEach(function(f){var m=Tr.prefixForPath(o.userId,f.path),_=IDBKeyRange.lowerBound(m),w=wp(t).$t({range:_},function(C,S,T){var I=C[0],j=C[2],q=Ca(C[1]);I===o.userId&&f.path.isEqual(q)?a=a.add(j):T.done()});c.push(w)}),Ee.waitFor(c).next(function(){return o.Wt(t,a)})},i.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var o=this,a=e.path,c=a.length+1,f=Tr.prefixForPath(this.userId,a),m=IDBKeyRange.lowerBound(f),_=new qn(dt);return wp(t).$t({range:m},function(w,C,S){var T=w[0],F=w[2],j=Ca(w[1]);T===o.userId&&a.isPrefixOf(j)?j.length===c&&(_=_.add(F)):S.done()}).next(function(){return o.Wt(t,_)})},i.prototype.Wt=function(t,e){var o=this,a=[],c=[];return e.forEach(function(f){c.push(ql(t).get(f).next(function(m){if(null===m)throw Le();qe(m.userId===o.userId),a.push(bp(o.R,m))}))}),Ee.waitFor(c).next(function(){return a})},i.prototype.removeMutationBatch=function(t,e){var o=this;return AP(t.Mt,this.userId,e).next(function(a){return t.addOnCommittedListener(function(){o.Gt(e.batchId)}),Ee.forEach(a,function(c){return o.referenceDelegate.markPotentiallyOrphaned(t,c)})})},i.prototype.Gt=function(t){delete this.Kt[t]},i.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(o){if(!o)return Ee.resolve();var a=IDBKeyRange.lowerBound(Tr.prefixForUser(e.userId)),c=[];return wp(t).$t({range:a},function(f,m,_){if(f[0]===e.userId){var w=Ca(f[1]);c.push(w)}else _.done()}).next(function(){qe(0===c.length)})})},i.prototype.containsKey=function(t,e){return IP(t,this.userId,e)},i.prototype.zt=function(t){var e=this;return RP(t).get(this.userId).next(function(o){return o||new $l(e.userId,-1,"")})},i}();function IP(i,t,e){var o=Tr.prefixForPath(t,e.path),a=o[1],c=IDBKeyRange.lowerBound(o),f=!1;return wp(i).$t({range:c,Ft:!0},function(m,_,w){m[0]===t&&m[1]===a&&(f=!0),w.done()}).next(function(){return f})}function ql(i){return oi(i,Zt.store)}function wp(i){return oi(i,Tr.store)}function RP(i){return oi(i,$l.store)}var BD=function(){function i(t){this.Ht=t}return i.prototype.next=function(){return this.Ht+=2,this.Ht},i.Jt=function(){return new i(0)},i.Yt=function(){return new i(-1)},i}(),T2=function(){function i(t,e){this.referenceDelegate=t,this.R=e}return i.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(o){var a=new BD(o.highestTargetId);return o.highestTargetId=a.next(),e.Zt(t,o).next(function(){return o.highestTargetId})})},i.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(e){return ft.fromTimestamp(new ri(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},i.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(e){return e.highestListenSequenceNumber})},i.prototype.setTargetsMetadata=function(t,e,o){var a=this;return this.Xt(t).next(function(c){return c.highestListenSequenceNumber=e,o&&(c.lastRemoteSnapshotVersion=o.toTimestamp()),e>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=e),a.Zt(t,c)})},i.prototype.addTargetData=function(t,e){var o=this;return this.te(t,e).next(function(){return o.Xt(t).next(function(a){return a.targetCount+=1,o.ee(e,a),o.Zt(t,a)})})},i.prototype.updateTargetData=function(t,e){return this.te(t,e)},i.prototype.removeTargetData=function(t,e){var o=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Cp(t).delete(e.targetId)}).next(function(){return o.Xt(t)}).next(function(a){return qe(a.targetCount>0),a.targetCount-=1,o.Zt(t,a)})},i.prototype.removeTargets=function(t,e,o){var a=this,c=0,f=[];return Cp(t).$t(function(m,_){var w=Sv(_);w.sequenceNumber<=e&&null===o.get(w.targetId)&&(c++,f.push(a.removeTargetData(t,w)))}).next(function(){return Ee.waitFor(f)}).next(function(){return c})},i.prototype.forEachTarget=function(t,e){return Cp(t).$t(function(o,a){var c=Sv(a);e(c)})},i.prototype.Xt=function(t){return xP(t).get(Ai.key).next(function(e){return qe(null!==e),e})},i.prototype.Zt=function(t,e){return xP(t).put(Ai.key,e)},i.prototype.te=function(t,e){return Cp(t).put(EP(this.R,e))},i.prototype.ee=function(t,e){var o=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,o=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,o=!0),o},i.prototype.getTargetCount=function(t){return this.Xt(t).next(function(e){return e.targetCount})},i.prototype.getTargetData=function(t,e){var o=pv(e),a=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]),c=null;return Cp(t).$t({range:a,index:ii.queryTargetsIndexName},function(f,m,_){var w=Sv(m);SD(e,w.target)&&(c=w,_.done())}).next(function(){return c})},i.prototype.addMatchingKeys=function(t,e,o){var a=this,c=[],f=Yl(t);return e.forEach(function(m){var _=No(m.path);c.push(f.put(new fr(o,_))),c.push(a.referenceDelegate.addReference(t,o,m))}),Ee.waitFor(c)},i.prototype.removeMatchingKeys=function(t,e,o){var a=this,c=Yl(t);return Ee.forEach(e,function(f){var m=No(f.path);return Ee.waitFor([c.delete([o,m]),a.referenceDelegate.removeReference(t,o,f)])})},i.prototype.removeMatchingKeysForTargetId=function(t,e){var o=Yl(t),a=IDBKeyRange.bound([e],[e+1],!1,!0);return o.delete(a)},i.prototype.getMatchingKeysForTargetId=function(t,e){var o=IDBKeyRange.bound([e],[e+1],!1,!0),a=Yl(t),c=Nt();return a.$t({range:o,Ft:!0},function(f,m,_){var w=Ca(f[1]),C=new ze(w);c=c.add(C)}).next(function(){return c})},i.prototype.containsKey=function(t,e){var o=No(e.path),a=IDBKeyRange.bound([o],[p1(o)],!1,!0),c=0;return Yl(t).$t({index:fr.documentTargetsIndex,Ft:!0,range:a},function(f,m,_){0!==f[0]&&(c++,_.done())}).next(function(){return c>0})},i.prototype.lt=function(t,e){return Cp(t).get(e).next(function(o){return o?Sv(o):null})},i}();function Cp(i){return oi(i,ii.store)}function xP(i){return oi(i,Ai.store)}function Yl(i){return oi(i,fr.store)}function od(i){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(t){if(i.code!==N.FAILED_PRECONDITION||i.message!==gP)throw i;return _e("LocalStore","Unexpectedly lost primary lease"),[2]})})}function OP(i,t){var o=i[1],c=t[1],f=dt(i[0],t[0]);return 0===f?dt(o,c):f}var M2=function(){function i(t){this.ne=t,this.buffer=new qn(OP),this.se=0}return i.prototype.ie=function(){return++this.se},i.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var o=this.buffer.last();OP(e,o)<0&&(this.buffer=this.buffer.delete(o).add(e))}},Object.defineProperty(i.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),i}(),A2=function(){function i(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return i.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},i.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(i.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),i.prototype.ue=function(t){var e=this,o=this.oe?3e5:6e4;_e("LruGarbageCollector","Garbage collection scheduled in "+o+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,function(){return(0,x.mG)(e,void 0,void 0,function(){var a;return(0,x.Jh)(this,function(c){switch(c.label){case 0:this.ce=null,this.oe=!0,c.label=1;case 1:return c.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return c.sent(),[3,7];case 3:return rd(a=c.sent())?(_e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a),[3,6]):[3,4];case 4:return[4,od(a)];case 5:c.sent(),c.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return c.sent(),[2]}})})})},i}(),I2=function(){function i(t,e){this.ae=t,this.params=e}return i.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(o){return Math.floor(e/100*o)})},i.prototype.nthSequenceNumber=function(t,e){var o=this;if(0===e)return Ee.resolve(me.o);var a=new M2(e);return this.ae.forEachTarget(t,function(c){return a.re(c.sequenceNumber)}).next(function(){return o.ae.le(t,function(c){return a.re(c)})}).next(function(){return a.maxValue})},i.prototype.removeTargets=function(t,e,o){return this.ae.removeTargets(t,e,o)},i.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},i.prototype.collect=function(t,e){var o=this;return-1===this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),Ee.resolve(MP)):this.getCacheSize(t).next(function(a){return a<o.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector","Garbage collection skipped; Cache size "+a+" is lower than threshold "+o.params.cacheSizeCollectionThreshold),MP):o.fe(t,e)})},i.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},i.prototype.fe=function(t,e){var o,a,c,f,m,_,w,C=this,S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(T){return T>C.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+C.params.maximumSequenceNumbersToCollect+" from "+T),a=C.params.maximumSequenceNumbersToCollect):a=T,f=Date.now(),C.nthSequenceNumber(t,a)}).next(function(T){return o=T,m=Date.now(),C.removeTargets(t,o,e)}).next(function(T){return c=T,_=Date.now(),C.removeOrphanedDocuments(t,o)}).next(function(T){return w=Date.now(),ut()<=ha.in.DEBUG&&_e("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(f-S)+"ms\n\tDetermined least recently used "+a+" in "+(m-f)+"ms\n\tRemoved "+c+" targets in "+(_-m)+"ms\n\tRemoved "+T+" documents in "+(w-_)+"ms\nTotal Duration: "+(w-S)+"ms"),Ee.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:T})})},i}(),R2=function(){function i(t,e){this.db=t,this.garbageCollector=new I2(this,e)}return i.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(o){return e.next(function(a){return o+a})})},i.prototype.de=function(t){var e=0;return this.le(t,function(o){e++}).next(function(){return e})},i.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},i.prototype.le=function(t,e){return this.we(t,function(o,a){return e(a)})},i.prototype.addReference=function(t,e,o){return jD(t,o)},i.prototype.removeReference=function(t,e,o){return jD(t,o)},i.prototype.removeTargets=function(t,e,o){return this.db.getTargetCache().removeTargets(t,e,o)},i.prototype.markPotentiallyOrphaned=function(t,e){return jD(t,e)},i.prototype._e=function(t,e){return a=e,c=!1,RP(o=t).Ot(function(f){return IP(o,f,a).next(function(m){return m&&(c=!0),Ee.resolve(!m)})}).next(function(){return c});var o,a,c},i.prototype.removeOrphanedDocuments=function(t,e){var o=this,a=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[],f=0;return this.we(t,function(m,_){if(_<=e){var w=o._e(t,m).next(function(C){if(!C)return f++,a.getEntry(t,m).next(function(){return a.removeEntry(m),Yl(t).delete([0,No(m.path)])})});c.push(w)}}).next(function(){return Ee.waitFor(c)}).next(function(){return a.apply(t)}).next(function(){return f})},i.prototype.removeTarget=function(t,e){var o=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,o)},i.prototype.updateLimboDocument=function(t,e){return jD(t,e)},i.prototype.we=function(t,e){var o,a=Yl(t),c=me.o;return a.$t({index:fr.documentTargetsIndex},function(f,m){var w=m.path,C=m.sequenceNumber;0===f[0]?(c!==me.o&&e(new ze(Ca(o)),c),c=C,o=w):c=me.o}).next(function(){c!==me.o&&e(new ze(Ca(o)),c)})},i.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},i}();function jD(i,t){return Yl(i).put((o=i.currentSequenceNumber,new fr(0,No(t.path),o)));var o}var Ep=function(){function i(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return i.prototype.get=function(t){var e=this.mapKeyFn(t),o=this.inner[e];if(void 0!==o)for(var a=0,c=o;a<c.length;a++){var f=c[a],_=f[1];if(this.equalsFn(f[0],t))return _}},i.prototype.has=function(t){return void 0!==this.get(t)},i.prototype.set=function(t,e){var o=this.mapKeyFn(t),a=this.inner[o];if(void 0!==a){for(var c=0;c<a.length;c++)if(this.equalsFn(a[c][0],t))return void(a[c]=[t,e]);a.push([t,e])}else this.inner[o]=[[t,e]]},i.prototype.delete=function(t){var e=this.mapKeyFn(t),o=this.inner[e];if(void 0===o)return!1;for(var a=0;a<o.length;a++)if(this.equalsFn(o[a][0],t))return 1===o.length?delete this.inner[e]:o.splice(a,1),!0;return!1},i.prototype.forEach=function(t){Jc(this.inner,function(e,o){for(var a=0,c=o;a<c.length;a++){var f=c[a];t(f[0],f[1])}})},i.prototype.isEmpty=function(){return m1(this.inner)},i}(),FP=function(){function i(){this.changes=new Ep(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return i.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:ft.min()},i.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},i.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:hr.newInvalidDocument(t),readTime:e})},i.prototype.getEntry=function(t,e){this.assertNotApplied();var o=this.changes.get(e);return void 0!==o?Ee.resolve(o.document):this.getFromCache(t,e)},i.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},i.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},i.prototype.assertNotApplied=function(){},i}(),x2=function(){function i(t,e){this.R=t,this.Ut=e}return i.prototype.addEntry=function(t,e,o){return Wl(t).put(UD(e),o)},i.prototype.removeEntry=function(t,e){var o=Wl(t),a=UD(e);return o.delete(a)},i.prototype.updateMetadata=function(t,e){var o=this;return this.getMetadata(t).next(function(a){return a.byteSize+=e,o.me(t,a)})},i.prototype.getEntry=function(t,e){var o=this;return Wl(t).get(UD(e)).next(function(a){return o.ye(e,a)})},i.prototype.ge=function(t,e){var o=this;return Wl(t).get(UD(e)).next(function(a){return{document:o.ye(e,a),size:VD(a)}})},i.prototype.getEntries=function(t,e){var o=this,a=no();return this.pe(t,e,function(c,f){var m=o.ye(c,f);a=a.insert(c,m)}).next(function(){return a})},i.prototype.Ee=function(t,e){var o=this,a=no(),c=new Sr(ze.comparator);return this.pe(t,e,function(f,m){var _=o.ye(f,m);a=a.insert(f,_),c=c.insert(f,VD(m))}).next(function(){return{documents:a,Te:c}})},i.prototype.pe=function(t,e,o){if(e.isEmpty())return Ee.resolve();var a=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),c=e.getIterator(),f=c.getNext();return Wl(t).$t({range:a},function(m,_,w){for(var C=ze.fromSegments(m);f&&ze.comparator(f,C)<0;)o(f,null),f=c.getNext();f&&f.isEqual(C)&&(o(f,_),f=c.hasNext()?c.getNext():null),f?w.Ct(f.path.toArray()):w.done()}).next(function(){for(;f;)o(f,null),f=c.hasNext()?c.getNext():null})},i.prototype.getDocumentsMatchingQuery=function(t,e,o){var a=this,c=no(),f=e.path.length+1,m={};if(o.isEqual(ft.min())){var _=e.path.toArray();m.range=IDBKeyRange.lowerBound(_)}else{var w=e.path.toArray(),C=Sx(o);m.range=IDBKeyRange.lowerBound([w,C],!0),m.index=_n.collectionReadTimeIndex}return Wl(t).$t(m,function(S,T,I){if(S.length===f){var F=Dx(a.R,T);e.path.isPrefixOf(F.key.path)?yv(e,F)&&(c=c.insert(F.key,F)):I.done()}}).next(function(){return c})},i.prototype.newChangeBuffer=function(t){return new O2(this,!!t&&t.trackRemovals)},i.prototype.getSize=function(t){return this.getMetadata(t).next(function(e){return e.byteSize})},i.prototype.getMetadata=function(t){return kP(t).get(as.key).next(function(e){return qe(!!e),e})},i.prototype.me=function(t,e){return kP(t).put(as.key,e)},i.prototype.ye=function(t,e){if(e){var o=Dx(this.R,e);if(!o.isNoDocument()||!o.version.isEqual(ft.min()))return o}return hr.newInvalidDocument(t)},i}(),O2=function(i){function t(e,o){var a=this;return(a=i.call(this)||this).Ie=e,a.trackRemovals=o,a.Ae=new Ep(function(c){return c.toString()},function(c,f){return c.isEqual(f)}),a}return(0,x.ZT)(t,i),t.prototype.applyChanges=function(e){var o=this,a=[],c=0,f=new qn(function(m,_){return dt(m.canonicalString(),_.canonicalString())});return this.changes.forEach(function(m,_){var w=o.Ae.get(m);if(_.document.isValidDocument()){var C=wP(o.Ie.R,_.document,o.getReadTime(m));f=f.add(m.path.popLast());var S=VD(C);c+=S-w,a.push(o.Ie.addEntry(e,m,C))}else if(c-=w,o.trackRemovals){var T=wP(o.Ie.R,hr.newNoDocument(m,ft.min()),o.getReadTime(m));a.push(o.Ie.addEntry(e,m,T))}else a.push(o.Ie.removeEntry(e,m))}),f.forEach(function(m){a.push(o.Ie.Ut.addToCollectionParentIndex(e,m))}),a.push(this.Ie.updateMetadata(e,c)),Ee.waitFor(a)},t.prototype.getFromCache=function(e,o){var a=this;return this.Ie.ge(e,o).next(function(c){return a.Ae.set(o,c.size),c.document})},t.prototype.getAllFromCache=function(e,o){var a=this;return this.Ie.Ee(e,o).next(function(c){var f=c.documents;return c.Te.forEach(function(m,_){a.Ae.set(m,_)}),f})},t}(FP);function kP(i){return oi(i,as.store)}function Wl(i){return oi(i,_n.store)}function UD(i){return i.path.toArray()}var F2=function(){function i(t){this.R=t}return i.prototype.Rt=function(t,e,o,a){var c=this;qe(o<a&&o>=0&&a<=11);var _,f=new yP("createOrUpgrade",e);o<1&&a>=1&&(t.createObjectStore(Mi.store),(_=t).createObjectStore($l.store,{keyPath:$l.keyPath}),_.createObjectStore(Zt.store,{keyPath:Zt.keyPath,autoIncrement:!0}).createIndex(Zt.userMutationsIndex,Zt.userMutationsKeyPath,{unique:!0}),_.createObjectStore(Tr.store),NP(t),function(_){_.createObjectStore(_n.store)}(t));var m=Ee.resolve();return o<3&&a>=3&&(0!==o&&(function(_){_.deleteObjectStore(fr.store),_.deleteObjectStore(ii.store),_.deleteObjectStore(Ai.store)}(t),NP(t)),m=m.next(function(){return function(_){var w=_.store(Ai.store),C=new Ai(0,0,ft.min().toTimestamp(),0);return w.put(Ai.key,C)}(f)})),o<4&&a>=4&&(0!==o&&(m=m.next(function(){return function(_,w){return w.store(Zt.store).Nt().next(function(C){_.deleteObjectStore(Zt.store),_.createObjectStore(Zt.store,{keyPath:Zt.keyPath,autoIncrement:!0}).createIndex(Zt.userMutationsIndex,Zt.userMutationsKeyPath,{unique:!0});var S=w.store(Zt.store),T=C.map(function(I){return S.put(I)});return Ee.waitFor(T)})}(t,f)})),m=m.next(function(){!function(_){_.createObjectStore(Ea.store,{keyPath:Ea.keyPath})}(t)})),o<5&&a>=5&&(m=m.next(function(){return c.Re(f)})),o<6&&a>=6&&(m=m.next(function(){return function(_){_.createObjectStore(as.store)}(t),c.be(f)})),o<7&&a>=7&&(m=m.next(function(){return c.ve(f)})),o<8&&a>=8&&(m=m.next(function(){return c.Pe(t,f)})),o<9&&a>=9&&(m=m.next(function(){(function(_){_.objectStoreNames.contains("remoteDocumentChanges")&&_.deleteObjectStore("remoteDocumentChanges")})(t),function(_){var w=_.objectStore(_n.store);w.createIndex(_n.readTimeIndex,_n.readTimeIndexPath,{unique:!1}),w.createIndex(_n.collectionReadTimeIndex,_n.collectionReadTimeIndexPath,{unique:!1})}(e)})),o<10&&a>=10&&(m=m.next(function(){return c.Ve(f)})),o<11&&a>=11&&(m=m.next(function(){(function(_){_.createObjectStore(gp.store,{keyPath:gp.keyPath})})(t),function(_){_.createObjectStore(mp.store,{keyPath:mp.keyPath})}(t)})),m},i.prototype.be=function(t){var e=0;return t.store(_n.store).$t(function(o,a){e+=VD(a)}).next(function(){var o=new as(e);return t.store(as.store).put(as.key,o)})},i.prototype.Re=function(t){var e=this,o=t.store($l.store),a=t.store(Zt.store);return o.Nt().next(function(c){return Ee.forEach(c,function(f){var m=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return a.Nt(Zt.userMutationsIndex,m).next(function(_){return Ee.forEach(_,function(w){qe(w.userId===f.userId);var C=bp(e.R,w);return AP(t,f.userId,C).next(function(){})})})})})},i.prototype.ve=function(t){var e=t.store(fr.store),o=t.store(_n.store);return t.store(Ai.store).get(Ai.key).next(function(a){var c=[];return o.$t(function(f,m){var _=new It(f),w=[0,No(_)];c.push(e.get(w).next(function(C){return C?Ee.resolve():e.put(new fr(0,No(_),a.highestListenSequenceNumber))}))}).next(function(){return Ee.waitFor(c)})})},i.prototype.Pe=function(t,e){t.createObjectStore(nd.store,{keyPath:nd.keyPath});var o=e.store(nd.store),a=new Mx,c=function(f){if(a.add(f)){var m=f.lastSegment(),_=f.popLast();return o.put({collectionId:m,parent:No(_)})}};return e.store(_n.store).$t({Ft:!0},function(f,m){var _=new It(f);return c(_.popLast())}).next(function(){return e.store(Tr.store).$t({Ft:!0},function(f,m){var w=Ca(f[1]);return c(w.popLast())})})},i.prototype.Ve=function(t){var e=this,o=t.store(ii.store);return o.$t(function(a,c){var f=Sv(c),m=EP(e.R,f);return o.put(m)})},i}();function NP(i){i.createObjectStore(fr.store,{keyPath:fr.keyPath}).createIndex(fr.documentTargetsIndex,fr.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(ii.store,{keyPath:ii.keyPath}).createIndex(ii.queryTargetsIndexName,ii.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(Ai.store)}var Ax="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",k2=function(){function i(t,e,o,a,c,f,m,_,w,C){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=o,this.Se=c,this.window=f,this.document=m,this.De=w,this.Ce=C,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(S){return Promise.resolve()},!i.yt())throw new ee(N.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new R2(this,a),this.Le=e+"main",this.R=new bP(_),this.Be=new yp(this.Le,11,new F2(this.R)),this.qe=new T2(this.referenceDelegate,this.R),this.Ut=new D2,this.Ue=new x2(this.R,this.Ut),this.Ke=new C2,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===C&&St("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return i.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ee(N.FAILED_PRECONDITION,Ax);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new me(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},i.prototype.He=function(t){var e=this;return this.Me=function(o){return(0,x.mG)(e,void 0,void 0,function(){return(0,x.Jh)(this,function(a){return this.started?[2,t(o)]:[2]})})},t(this.isPrimary)},i.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(o){return(0,x.mG)(e,void 0,void 0,function(){return(0,x.Jh)(this,function(a){switch(a.label){case 0:return null===o.newVersion?[4,t()]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})})},i.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,x.mG)(e,void 0,void 0,function(){return(0,x.Jh)(this,function(o){switch(o.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})}))},i.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return HD(e).put(new Ea(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(o){o||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(o){return t.isPrimary&&!o?t.Xe(e).next(function(){return!1}):!!o&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(rd(e))return _e("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return _e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},i.prototype.Je=function(t){var e=this;return Tv(t).get(Mi.key).next(function(o){return Ee.resolve(e.tn(o))})},i.prototype.en=function(t){return HD(t).delete(this.clientId)},i.prototype.nn=function(){return(0,x.mG)(this,void 0,void 0,function(){var t,e,o,c=this;return(0,x.Jh)(this,function(f){switch(f.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(m){var _=oi(m,Ea.store);return _.Nt().next(function(w){var C=c.rn(w,18e5),S=w.filter(function(T){return-1===C.indexOf(T)});return Ee.forEach(S,function(T){return _.delete(T.clientId)}).next(function(){return S})})}).catch(function(){return[]})]);case 1:if(t=f.sent(),this.Qe)for(e=0,o=t;e<o.length;e++)this.Qe.removeItem(this.on(o[e].clientId));f.label=2;case 2:return[2]}})})},i.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},i.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},i.prototype.Ye=function(t){var e=this;return this.Ce?Ee.resolve(!0):Tv(t).get(Mi.key).next(function(o){if(null!==o&&e.sn(o.leaseTimestampMs,5e3)&&!e.cn(o.ownerId)){if(e.tn(o)&&e.networkEnabled)return!0;if(!e.tn(o)){if(!o.allowTabSynchronization)throw new ee(N.FAILED_PRECONDITION,Ax);return!1}}return!(!e.networkEnabled||!e.inForeground)||HD(t).Nt().next(function(a){return void 0===e.rn(a,5e3).find(function(c){return!(e.clientId===c.clientId||!(!e.networkEnabled&&c.networkEnabled||!e.inForeground&&c.inForeground&&e.networkEnabled===c.networkEnabled))})})}).next(function(o){return e.isPrimary!==o&&_e("IndexedDbPersistence","Client "+(o?"is":"is not")+" eligible for a primary lease."),o})},i.prototype.shutdown=function(){return(0,x.mG)(this,void 0,void 0,function(){var t=this;return(0,x.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Mi.store,Ea.store],function(o){var a=new vP(o,me.o);return t.Xe(a).next(function(){return t.en(a)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},i.prototype.rn=function(t,e){var o=this;return t.filter(function(a){return o.sn(a.updateTimeMs,e)&&!o.cn(a.clientId)})},i.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return HD(e).Nt().next(function(o){return t.rn(o,18e5).map(function(a){return a.clientId})})})},Object.defineProperty(i.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),i.prototype.getMutationQueue=function(t){return S2.Qt(t,this.R,this.Ut,this.referenceDelegate)},i.prototype.getTargetCache=function(){return this.qe},i.prototype.getRemoteDocumentCache=function(){return this.Ue},i.prototype.getIndexManager=function(){return this.Ut},i.prototype.getBundleCache=function(){return this.Ke},i.prototype.runTransaction=function(t,e,o){var c,a=this;return _e("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",_2,function(m){return c=new vP(m,a.Ne?a.Ne.next():me.o),"readwrite-primary"===e?a.Je(c).next(function(_){return!!_||a.Ye(c)}).next(function(_){if(!_)throw St("Failed to obtain primary lease for action '"+t+"'."),a.isPrimary=!1,a.Se.enqueueRetryable(function(){return a.Me(!1)}),new ee(N.FAILED_PRECONDITION,gP);return o(c)}).next(function(_){return a.Ze(c).next(function(){return _})}):a.dn(c).next(function(){return o(c)})}).then(function(m){return c.raiseOnCommittedEvent(),m})},i.prototype.dn=function(t){var e=this;return Tv(t).get(Mi.key).next(function(o){if(null!==o&&e.sn(o.leaseTimestampMs,5e3)&&!e.cn(o.ownerId)&&!e.tn(o)&&!(e.Ce||e.allowTabSynchronization&&o.allowTabSynchronization))throw new ee(N.FAILED_PRECONDITION,Ax)})},i.prototype.Ze=function(t){var e=new Mi(this.clientId,this.allowTabSynchronization,Date.now());return Tv(t).put(Mi.key,e)},i.yt=function(){return yp.yt()},i.prototype.Xe=function(t){var e=this,o=Tv(t);return o.get(Mi.key).next(function(a){return e.tn(a)?(_e("IndexedDbPersistence","Releasing primary lease."),o.delete(Mi.key)):Ee.resolve()})},i.prototype.sn=function(t,e){var o=Date.now();return!(t<o-e||t>o&&(St("Detected an update time that is in the future: "+t+" > "+o),1))},i.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},i.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},i.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),(0,At.G6)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.ke))},i.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},i.prototype.cn=function(t){var e;try{var o=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return _e("IndexedDbPersistence","Client '"+t+"' "+(o?"is":"is not")+" zombied in LocalStorage"),o}catch(a){return St("IndexedDbPersistence","Failed to get zombied client id.",a),!1}},i.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){St("Failed to set zombie client id.",t)}},i.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},i.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},i}();function Tv(i){return oi(i,Mi.store)}function HD(i){return oi(i,Ea.store)}function Ix(i,t){var e=i.projectId;return i.isDefaultDatabase||(e+="."+i.database),"firestore/"+t+"/"+e+"/"}var N2=function(i,t){this.progress=i,this.wn=t},PP=function(){function i(t,e,o){this.Ue=t,this._n=e,this.Ut=o}return i.prototype.mn=function(t,e){var o=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(a){return o.yn(t,e,a)})},i.prototype.yn=function(t,e,o){return this.Ue.getEntry(t,e).next(function(a){for(var c=0,f=o;c<f.length;c++)f[c].applyToLocalView(a);return a})},i.prototype.gn=function(t,e){t.forEach(function(o,a){for(var c=0,f=e;c<f.length;c++)f[c].applyToLocalView(a)})},i.prototype.pn=function(t,e){var o=this;return this.Ue.getEntries(t,e).next(function(a){return o.En(t,a).next(function(){return a})})},i.prototype.En=function(t,e){var o=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(a){return o.gn(e,a)})},i.prototype.getDocumentsMatchingQuery=function(t,e,o){return ze.isDocumentKey((a=e).path)&&null===a.collectionGroup&&0===a.filters.length?this.Tn(t,e.path):fx(e)?this.In(t,e,o):this.An(t,e,o);var a},i.prototype.Tn=function(t,e){return this.mn(t,new ze(e)).next(function(o){var a=yx();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})},i.prototype.In=function(t,e,o){var a=this,c=e.collectionGroup,f=yx();return this.Ut.getCollectionParents(t,c).next(function(m){return Ee.forEach(m,function(_){var C,S,w=(C=e,S=_.child(c),new wa(S,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));return a.An(t,w,o).next(function(C){C.forEach(function(S,T){f=f.insert(S,T)})})}).next(function(){return f})})},i.prototype.An=function(t,e,o){var a,c,f=this;return this.Ue.getDocumentsMatchingQuery(t,e,o).next(function(m){return a=m,f._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(m){return f.Rn(t,c=m,a).next(function(_){a=_;for(var w=0,C=c;w<C.length;w++)for(var S=C[w],T=0,I=S.mutations;T<I.length;T++){var F=I[T],j=F.key,q=a.get(j);null==q&&(q=hr.newInvalidDocument(j),a=a.insert(j,q)),gx(F,q,S.localWriteTime),q.isFoundDocument()||(a=a.remove(j))}})}).next(function(){return a.forEach(function(m,_){yv(e,_)||(a=a.remove(m))}),a})},i.prototype.Rn=function(t,e,o){for(var a=Nt(),c=0,f=e;c<f.length;c++)for(var m=0,_=f[c].mutations;m<_.length;m++){var w=_[m];w instanceof Gl&&null===o.get(w.key)&&(a=a.add(w.key))}var C=o;return this.Ue.getEntries(t,a).next(function(S){return S.forEach(function(T,I){I.isFoundDocument()&&(C=C.insert(T,I))}),C})},i}(),P2=function(){function i(t,e,o,a){this.targetId=t,this.fromCache=e,this.bn=o,this.vn=a}return i.Pn=function(t,e){for(var o=Nt(),a=Nt(),c=0,f=e.docChanges;c<f.length;c++){var m=f[c];switch(m.type){case 0:o=o.add(m.doc.key);break;case 1:a=a.add(m.doc.key)}}return new i(t,e.fromCache,o,a)},i}(),LP=function(){function i(){}return i.prototype.Vn=function(t){this.Sn=t},i.prototype.getDocumentsMatchingQuery=function(t,e,o,a){var f,c=this;return 0===(f=e).filters.length&&null===f.limit&&null==f.startAt&&null==f.endAt&&(0===f.explicitOrderBy.length||1===f.explicitOrderBy.length&&f.explicitOrderBy[0].field.isKeyField())||o.isEqual(ft.min())?this.Dn(t,e):this.Sn.pn(t,a).next(function(f){var m=c.Cn(e,f);return(AD(e)||ID(e))&&c.Nn(e.limitType,m,a,o)?c.Dn(t,e):(ut()<=ha.in.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),px(e)),c.Sn.getDocumentsMatchingQuery(t,e,o).next(function(_){return m.forEach(function(w){_=_.insert(w.key,w)}),_}))})},i.prototype.Cn=function(t,e){var o=new qn(x1(t));return e.forEach(function(a,c){yv(t,c)&&(o=o.add(c))}),o},i.prototype.Nn=function(t,e,o,a){if(o.size!==e.size)return!0;var c="F"===t?e.last():e.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)},i.prototype.Dn=function(t,e){return ut()<=ha.in.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",px(e)),this.Sn.getDocumentsMatchingQuery(t,e,ft.min())},i}(),L2=function(){function i(t,e,o,a){this.persistence=t,this.xn=e,this.R=a,this.kn=new Sr(dt),this.Fn=new Ep(function(c){return pv(c)},SD),this.$n=ft.min(),this._n=t.getMutationQueue(o),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new PP(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return i.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(o){return t.collect(o,e.kn)})},i}();function VP(i,t,e,o){return new L2(i,t,e,o)}function BP(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,o,a,c;return(0,x.Jh)(this,function(f){switch(f.label){case 0:return e=De(i),o=e._n,a=e.Mn,[4,e.persistence.runTransaction("Handle user change","readonly",function(m){var _;return e._n.getAllMutationBatches(m).next(function(w){return _=w,o=e.persistence.getMutationQueue(t),a=new PP(e.On,o,e.persistence.getIndexManager()),o.getAllMutationBatches(m)}).next(function(w){for(var C=[],S=[],T=Nt(),I=0,F=_;I<F.length;I++){var j=F[I];C.push(j.batchId);for(var q=0,ce=j.mutations;q<ce.length;q++)T=T.add(ce[q].key)}for(var Ce=0,xe=w;Ce<xe.length;Ce++){var ke=xe[Ce];S.push(ke.batchId);for(var st=0,Tt=ke.mutations;st<Tt.length;st++)T=T.add(Tt[st].key)}return a.pn(m,T).next(function(Ur){return{Ln:Ur,removedBatchIds:C,addedBatchIds:S}})})})];case 1:return c=f.sent(),[2,(e._n=o,e.Mn=a,e.xn.Vn(e.Mn),c)]}})})}function V2(i,t){var e=De(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(o){var f,m,_,w,C,S,T,a=t.batch.keys(),c=e.On.newChangeBuffer({trackRemovals:!0});return(f=e,m=o,_=t,w=c,C=_.batch,S=C.keys(),T=Ee.resolve(),S.forEach(function(I){T=T.next(function(){return w.getEntry(m,I)}).next(function(F){var j=_.docVersions.get(I);qe(null!==j),F.version.compareTo(j)<0&&(C.applyToRemoteDocument(F,_),F.isValidDocument()&&w.addEntry(F,_.commitVersion))})}),T.next(function(){return f._n.removeMutationBatch(m,C)})).next(function(){return c.apply(o)}).next(function(){return e._n.performConsistencyCheck(o)}).next(function(){return e.Mn.pn(o,a)})})}function jP(i){var t=De(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.qe.getLastRemoteSnapshotVersion(e)})}function B2(i,t){var e=De(i),o=t.snapshotVersion,a=e.kn;return e.persistence.runTransaction("Apply remote event","readwrite-primary",function(c){var f=e.On.newChangeBuffer({trackRemovals:!0});a=e.kn;var m=[];t.targetChanges.forEach(function(C,S){var j,q,ce,T=a.get(S);if(T){m.push(e.qe.removeMatchingKeys(c,C.removedDocuments,S).next(function(){return e.qe.addMatchingKeys(c,C.addedDocuments,S)}));var I=C.resumeToken;if(I.approximateByteSize()>0){var F=T.withResumeToken(I,o).withSequenceNumber(c.currentSequenceNumber);a=a.insert(S,F),j=T,ce=C,qe((q=F).resumeToken.approximateByteSize()>0),(0===j.resumeToken.approximateByteSize()||q.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0)&&m.push(e.qe.updateTargetData(c,F))}}});var _=no();if(t.documentUpdates.forEach(function(C,S){t.resolvedLimboDocuments.has(C)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(c,C))}),m.push(UP(c,f,t.documentUpdates,o,void 0).next(function(C){_=C})),!o.isEqual(ft.min())){var w=e.qe.getLastRemoteSnapshotVersion(c).next(function(C){return e.qe.setTargetsMetadata(c,c.currentSequenceNumber,o)});m.push(w)}return Ee.waitFor(m).next(function(){return f.apply(c)}).next(function(){return e.Mn.En(c,_)}).next(function(){return _})}).then(function(c){return e.kn=a,c})}function UP(i,t,e,o,a){var c=Nt();return e.forEach(function(f){return c=c.add(f)}),t.getEntries(i,c).next(function(f){var m=no();return e.forEach(function(_,w){var C=f.get(_),S=(null==a?void 0:a.get(_))||o;w.isNoDocument()&&w.version.isEqual(ft.min())?(t.removeEntry(_,S),m=m.insert(_,w)):!C.isValidDocument()||w.version.compareTo(C.version)>0||0===w.version.compareTo(C.version)&&C.hasPendingWrites?(t.addEntry(w,S),m=m.insert(_,w)):_e("LocalStore","Ignoring outdated watch update for ",_,". Current version:",C.version," Watch version:",w.version)}),m})}function j2(i,t){var e=De(i);return e.persistence.runTransaction("Get next mutation batch","readonly",function(o){return void 0===t&&(t=-1),e._n.getNextMutationBatchAfterBatchId(o,t)})}function Dp(i,t){var e=De(i);return e.persistence.runTransaction("Allocate target","readwrite",function(o){var a;return e.qe.getTargetData(o,t).next(function(c){return c?Ee.resolve(a=c):e.qe.allocateTargetId(o).next(function(f){return a=new LD(t,f,0,o.currentSequenceNumber),e.qe.addTargetData(o,a).next(function(){return a})})})}).then(function(o){var a=e.kn.get(o.targetId);return(null===a||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.kn=e.kn.insert(o.targetId,o),e.Fn.set(t,o.targetId)),o})}function Sp(i,t,e){return(0,x.mG)(this,void 0,void 0,function(){var o,a,c,f;return(0,x.Jh)(this,function(m){switch(m.label){case 0:o=De(i),a=o.kn.get(t),c=e?"readwrite":"readwrite-primary",m.label=1;case 1:return m.trys.push([1,4,,5]),e?[3,3]:[4,o.persistence.runTransaction("Release target",c,function(_){return o.persistence.referenceDelegate.removeTarget(_,a)})];case 2:m.sent(),m.label=3;case 3:return[3,5];case 4:if(!rd(f=m.sent()))throw f;return _e("LocalStore","Failed to update sequence numbers for target "+t+": "+f),[3,5];case 5:return o.kn=o.kn.remove(t),o.Fn.delete(a.target),[2]}})})}function GD(i,t,e){var o=De(i),a=ft.min(),c=Nt();return o.persistence.runTransaction("Execute query","readonly",function(f){return(m=o,_=f,w=to(t),C=De(m),S=C.Fn.get(w),void 0!==S?Ee.resolve(C.kn.get(S)):C.qe.getTargetData(_,w)).next(function(m){if(m)return a=m.lastLimboFreeSnapshotVersion,o.qe.getMatchingKeysForTargetId(f,m.targetId).next(function(_){c=_})}).next(function(){return o.xn.getDocumentsMatchingQuery(f,t,e?a:ft.min(),e?c:Nt())}).next(function(m){return{documents:m,Bn:c}});var m,_,w,C,S})}function HP(i,t){var e=De(i),o=De(e.qe),a=e.kn.get(t);return a?Promise.resolve(a.target):e.persistence.runTransaction("Get target data","readonly",function(c){return o.lt(c,t).next(function(f){return f?f.target:null})})}function GP(i){var t=De(i);return t.persistence.runTransaction("Get new document changes","readonly",function(e){return a=e,c=t.$n,f=De(t.On),m=no(),_=Sx(c),w=Wl(a),C=IDBKeyRange.lowerBound(_,!0),w.$t({index:_n.readTimeIndex,range:C},function(S,T){var I=Dx(f.R,T);m=m.insert(I.key,I),_=T.readTime}).next(function(){return{wn:m,readTime:CP(_)}});var a,c,f,m,_,w,C}).then(function(e){var o=e.wn;return t.$n=e.readTime,o})}function U2(i){return(0,x.mG)(this,void 0,void 0,function(){var t;return(0,x.Jh)(this,function(e){return[2,(t=De(i)).persistence.runTransaction("Synchronize last document change read time","readonly",function(o){return c=Wl(o),f=ft.min(),c.$t({index:_n.readTimeIndex,reverse:!0},function(m,_,w){_.readTime&&(f=CP(_.readTime)),w.done()}).next(function(){return f});var c,f}).then(function(o){t.$n=o})]})})}function H2(i,t,e,o){return(0,x.mG)(this,void 0,void 0,function(){var a,c,f,m,_,w,C,S,T,I;return(0,x.Jh)(this,function(F){switch(F.label){case 0:for(a=De(i),c=Nt(),f=no(),m=W1(),_=0,w=e;_<w.length;_++)S=t.qn((C=w[_]).metadata.name),C.document&&(c=c.add(S)),f=f.insert(S,t.Un(C)),m=m.insert(S,t.Kn(C.metadata.readTime));return T=a.On.newChangeBuffer({trackRemovals:!0}),[4,Dp(a,(j=o,to(up(It.fromString("__bundle__/docs/"+j)))))];case 1:return I=F.sent(),[2,a.persistence.runTransaction("Apply bundle documents","readwrite",function(j){return UP(j,T,f,ft.min(),m).next(function(q){return T.apply(j),q}).next(function(q){return a.qe.removeMatchingKeysForTargetId(j,I.targetId).next(function(){return a.qe.addMatchingKeys(j,c,I.targetId)}).next(function(){return a.Mn.En(j,q)}).next(function(){return q})})})]}var j})})}function G2(i,t,e){return void 0===e&&(e=Nt()),(0,x.mG)(this,void 0,void 0,function(){var o,a;return(0,x.Jh)(this,function(c){switch(c.label){case 0:return[4,Dp(i,to(Tx(t.bundledQuery)))];case 1:return o=c.sent(),[2,(a=De(i)).persistence.runTransaction("Save named query","readwrite",function(f){var m=tr(t.readTime);if(o.snapshotVersion.compareTo(m)>=0)return a.Ke.saveNamedQuery(f,t);var _=o.withResumeToken(Br.EMPTY_BYTE_STRING,m);return a.kn=a.kn.insert(_.targetId,_),a.qe.updateTargetData(f,_).next(function(){return a.qe.removeMatchingKeysForTargetId(f,o.targetId)}).next(function(){return a.qe.addMatchingKeys(f,e,o.targetId)}).next(function(){return a.Ke.saveNamedQuery(f,t)})})]}})})}var z2=function(){function i(t){this.R=t,this.Qn=new Map,this.jn=new Map}return i.prototype.getBundleMetadata=function(t,e){return Ee.resolve(this.Qn.get(e))},i.prototype.saveBundleMetadata=function(t,e){var o;return this.Qn.set(e.id,{id:(o=e).id,version:o.version,createTime:tr(o.createTime)}),Ee.resolve()},i.prototype.getNamedQuery=function(t,e){return Ee.resolve(this.jn.get(e))},i.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:(o=e).name,query:Tx(o.bundledQuery),readTime:tr(o.readTime)}),Ee.resolve();var o},i}(),Rx=function(){function i(){this.Wn=new qn(nr.Gn),this.zn=new qn(nr.Hn)}return i.prototype.isEmpty=function(){return this.Wn.isEmpty()},i.prototype.addReference=function(t,e){var o=new nr(t,e);this.Wn=this.Wn.add(o),this.zn=this.zn.add(o)},i.prototype.Jn=function(t,e){var o=this;t.forEach(function(a){return o.addReference(a,e)})},i.prototype.removeReference=function(t,e){this.Yn(new nr(t,e))},i.prototype.Xn=function(t,e){var o=this;t.forEach(function(a){return o.removeReference(a,e)})},i.prototype.Zn=function(t){var e=this,o=new ze(new It([])),a=new nr(o,t),c=new nr(o,t+1),f=[];return this.zn.forEachInRange([a,c],function(m){e.Yn(m),f.push(m.key)}),f},i.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},i.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},i.prototype.es=function(t){var e=new ze(new It([])),o=new nr(e,t),a=new nr(e,t+1),c=Nt();return this.zn.forEachInRange([o,a],function(f){c=c.add(f.key)}),c},i.prototype.containsKey=function(t){var e=new nr(t,0),o=this.Wn.firstAfterOrEqual(e);return null!==o&&t.isEqual(o.key)},i}(),nr=function(){function i(t,e){this.key=t,this.ns=e}return i.Gn=function(t,e){return ze.comparator(t.key,e.key)||dt(t.ns,e.ns)},i.Hn=function(t,e){return dt(t.ns,e.ns)||ze.comparator(t.key,e.key)},i}(),$2=function(){function i(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new qn(nr.Gn)}return i.prototype.checkEmpty=function(t){return Ee.resolve(0===this._n.length)},i.prototype.addMutationBatch=function(t,e,o,a){var c=this.ss;this.ss++;var f=new Ex(c,e,o,a);this._n.push(f);for(var m=0,_=a;m<_.length;m++){var w=_[m];this.rs=this.rs.add(new nr(w.key,c)),this.Ut.addToCollectionParentIndex(t,w.key.path.popLast())}return Ee.resolve(f)},i.prototype.lookupMutationBatch=function(t,e){return Ee.resolve(this.os(e))},i.prototype.getNextMutationBatchAfterBatchId=function(t,e){var a=this.cs(e+1),c=a<0?0:a;return Ee.resolve(this._n.length>c?this._n[c]:null)},i.prototype.getHighestUnacknowledgedBatchId=function(){return Ee.resolve(0===this._n.length?-1:this.ss-1)},i.prototype.getAllMutationBatches=function(t){return Ee.resolve(this._n.slice())},i.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var o=this,a=new nr(e,0),c=new nr(e,Number.POSITIVE_INFINITY),f=[];return this.rs.forEachInRange([a,c],function(m){var _=o.os(m.ns);f.push(_)}),Ee.resolve(f)},i.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var o=this,a=new qn(dt);return e.forEach(function(c){var f=new nr(c,0),m=new nr(c,Number.POSITIVE_INFINITY);o.rs.forEachInRange([f,m],function(_){a=a.add(_.ns)})}),Ee.resolve(this.us(a))},i.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var o=e.path,a=o.length+1,c=o;ze.isDocumentKey(c)||(c=c.child(""));var f=new nr(new ze(c),0),m=new qn(dt);return this.rs.forEachWhile(function(_){var w=_.key.path;return!!o.isPrefixOf(w)&&(w.length===a&&(m=m.add(_.ns)),!0)},f),Ee.resolve(this.us(m))},i.prototype.us=function(t){var e=this,o=[];return t.forEach(function(a){var c=e.os(a);null!==c&&o.push(c)}),o},i.prototype.removeMutationBatch=function(t,e){var o=this;qe(0===this.hs(e.batchId,"removed")),this._n.shift();var a=this.rs;return Ee.forEach(e.mutations,function(c){var f=new nr(c.key,e.batchId);return a=a.delete(f),o.referenceDelegate.markPotentiallyOrphaned(t,c.key)}).next(function(){o.rs=a})},i.prototype.Gt=function(t){},i.prototype.containsKey=function(t,e){var o=new nr(e,0),a=this.rs.firstAfterOrEqual(o);return Ee.resolve(e.isEqual(a&&a.key))},i.prototype.performConsistencyCheck=function(t){return Ee.resolve()},i.prototype.hs=function(t,e){return this.cs(t)},i.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},i.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},i}(),q2=function(){function i(t,e){this.Ut=t,this.ls=e,this.docs=new Sr(ze.comparator),this.size=0}return i.prototype.addEntry=function(t,e,o){var a=e.key,c=this.docs.get(a),f=c?c.size:0,m=this.ls(e);return this.docs=this.docs.insert(a,{document:e.clone(),size:m,readTime:o}),this.size+=m-f,this.Ut.addToCollectionParentIndex(t,a.path.popLast())},i.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},i.prototype.getEntry=function(t,e){var o=this.docs.get(e);return Ee.resolve(o?o.document.clone():hr.newInvalidDocument(e))},i.prototype.getEntries=function(t,e){var o=this,a=no();return e.forEach(function(c){var f=o.docs.get(c);a=a.insert(c,f?f.document.clone():hr.newInvalidDocument(c))}),Ee.resolve(a)},i.prototype.getDocumentsMatchingQuery=function(t,e,o){for(var a=no(),c=new ze(e.path.child("")),f=this.docs.getIteratorFrom(c);f.hasNext();){var m=f.getNext(),w=m.value,C=w.document,S=w.readTime;if(!e.path.isPrefixOf(m.key.path))break;S.compareTo(o)<=0||yv(e,C)&&(a=a.insert(C.key,C.clone()))}return Ee.resolve(a)},i.prototype.fs=function(t,e){return Ee.forEach(this.docs,function(o){return e(o)})},i.prototype.newChangeBuffer=function(t){return new Y2(this)},i.prototype.getSize=function(t){return Ee.resolve(this.size)},i}(),Y2=function(i){function t(e){var o=this;return(o=i.call(this)||this).Ie=e,o}return(0,x.ZT)(t,i),t.prototype.applyChanges=function(e){var o=this,a=[];return this.changes.forEach(function(c,f){f.document.isValidDocument()?a.push(o.Ie.addEntry(e,f.document,o.getReadTime(c))):o.Ie.removeEntry(c)}),Ee.waitFor(a)},t.prototype.getFromCache=function(e,o){return this.Ie.getEntry(e,o)},t.prototype.getAllFromCache=function(e,o){return this.Ie.getEntries(e,o)},t}(FP),W2=function(){function i(t){this.persistence=t,this.ds=new Ep(function(e){return pv(e)},SD),this.lastRemoteSnapshotVersion=ft.min(),this.highestTargetId=0,this.ws=0,this._s=new Rx,this.targetCount=0,this.ys=BD.Jt()}return i.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(o,a){return e(a)}),Ee.resolve()},i.prototype.getLastRemoteSnapshotVersion=function(t){return Ee.resolve(this.lastRemoteSnapshotVersion)},i.prototype.getHighestSequenceNumber=function(t){return Ee.resolve(this.ws)},i.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Ee.resolve(this.highestTargetId)},i.prototype.setTargetsMetadata=function(t,e,o){return o&&(this.lastRemoteSnapshotVersion=o),e>this.ws&&(this.ws=e),Ee.resolve()},i.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new BD(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},i.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Ee.resolve()},i.prototype.updateTargetData=function(t,e){return this.te(e),Ee.resolve()},i.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Ee.resolve()},i.prototype.removeTargets=function(t,e,o){var a=this,c=0,f=[];return this.ds.forEach(function(m,_){_.sequenceNumber<=e&&null===o.get(_.targetId)&&(a.ds.delete(m),f.push(a.removeMatchingKeysForTargetId(t,_.targetId)),c++)}),Ee.waitFor(f).next(function(){return c})},i.prototype.getTargetCount=function(t){return Ee.resolve(this.targetCount)},i.prototype.getTargetData=function(t,e){var o=this.ds.get(e)||null;return Ee.resolve(o)},i.prototype.addMatchingKeys=function(t,e,o){return this._s.Jn(e,o),Ee.resolve()},i.prototype.removeMatchingKeys=function(t,e,o){this._s.Xn(e,o);var a=this.persistence.referenceDelegate,c=[];return a&&e.forEach(function(f){c.push(a.markPotentiallyOrphaned(t,f))}),Ee.waitFor(c)},i.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Ee.resolve()},i.prototype.getMatchingKeysForTargetId=function(t,e){var o=this._s.es(e);return Ee.resolve(o)},i.prototype.containsKey=function(t,e){return Ee.resolve(this._s.containsKey(e))},i}(),K2=function(){function i(t,e){var o=this;this.gs={},this.Ne=new me(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new W2(this),this.Ut=new E2,this.Ue=new q2(this.Ut,function(f){return o.referenceDelegate.ps(f)}),this.R=new bP(e),this.Ke=new z2(this.R)}return i.prototype.start=function(){return Promise.resolve()},i.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(i.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),i.prototype.setDatabaseDeletedListener=function(){},i.prototype.setNetworkEnabled=function(){},i.prototype.getIndexManager=function(){return this.Ut},i.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new $2(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},i.prototype.getTargetCache=function(){return this.qe},i.prototype.getRemoteDocumentCache=function(){return this.Ue},i.prototype.getBundleCache=function(){return this.Ke},i.prototype.runTransaction=function(t,e,o){var a=this;_e("MemoryPersistence","Starting transaction:",t);var c=new Q2(this.Ne.next());return this.referenceDelegate.Es(),o(c).next(function(f){return a.referenceDelegate.Ts(c).next(function(){return f})}).toPromise().then(function(f){return c.raiseOnCommittedEvent(),f})},i.prototype.Is=function(t,e){return Ee.or(Object.values(this.gs).map(function(o){return function(){return o.containsKey(t,e)}}))},i}(),Q2=function(i){function t(e){var o=this;return(o=i.call(this)||this).currentSequenceNumber=e,o}return(0,x.ZT)(t,i),t}(mP),J2=function(){function i(t){this.persistence=t,this.As=new Rx,this.Rs=null}return i.bs=function(t){return new i(t)},Object.defineProperty(i.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Le()},enumerable:!1,configurable:!0}),i.prototype.addReference=function(t,e,o){return this.As.addReference(o,e),this.vs.delete(o.toString()),Ee.resolve()},i.prototype.removeReference=function(t,e,o){return this.As.removeReference(o,e),this.vs.add(o.toString()),Ee.resolve()},i.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Ee.resolve()},i.prototype.removeTarget=function(t,e){var o=this;this.As.Zn(e.targetId).forEach(function(c){return o.vs.add(c.toString())});var a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,e.targetId).next(function(c){c.forEach(function(f){return o.vs.add(f.toString())})}).next(function(){return a.removeTargetData(t,e)})},i.prototype.Es=function(){this.Rs=new Set},i.prototype.Ts=function(t){var e=this,o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.vs,function(a){var c=ze.fromPath(a);return e.Ps(t,c).next(function(f){f||o.removeEntry(c)})}).next(function(){return e.Rs=null,o.apply(t)})},i.prototype.updateLimboDocument=function(t,e){var o=this;return this.Ps(t,e).next(function(a){a?o.vs.delete(e.toString()):o.vs.add(e.toString())})},i.prototype.ps=function(t){return 0},i.prototype.Ps=function(t,e){var o=this;return Ee.or([function(){return Ee.resolve(o.As.containsKey(e))},function(){return o.persistence.getTargetCache().containsKey(t,e)},function(){return o.persistence.Is(t,e)}])},i}(),pr=function(){function i(t){this.uid=t}return i.prototype.isAuthenticated=function(){return null!=this.uid},i.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},i.prototype.isEqual=function(t){return t.uid===this.uid},i}();function zP(i,t){return"firestore_clients_"+i+"_"+t}function $P(i,t,e){var o="firestore_mutations_"+i+"_"+e;return t.isAuthenticated()&&(o+="_"+t.uid),o}function xx(i,t){return"firestore_targets_"+i+"_"+t}pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");var qP=function(){function i(t,e,o,a){this.user=t,this.batchId=e,this.state=o,this.error=a}return i.Vs=function(t,e,o){var a,c=JSON.parse(o),f="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return f&&c.error&&(f="string"==typeof c.error.message&&"string"==typeof c.error.code)&&(a=new ee(c.error.code,c.error.message)),f?new i(t,e,c.state,a):(St("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+o),null)},i.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},i}(),Ox=function(){function i(t,e,o){this.targetId=t,this.state=e,this.error=o}return i.Vs=function(t,e){var o,a=JSON.parse(e),c="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return c&&a.error&&(c="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(o=new ee(a.error.code,a.error.message)),c?new i(t,a.state,o):(St("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},i.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},i}(),YP=function(){function i(t,e){this.clientId=t,this.activeTargetIds=e}return i.Vs=function(t,e){for(var o=JSON.parse(e),a="object"==typeof o&&o.activeTargetIds instanceof Array,c=kD(),f=0;a&&f<o.activeTargetIds.length;++f)a=v1(o.activeTargetIds[f]),c=c.add(o.activeTargetIds[f]);return a?new i(t,c):(St("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},i}(),Z2=function(){function i(t,e){this.clientId=t,this.onlineState=e}return i.Vs=function(t){var e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new i(e.clientId,e.onlineState):(St("SharedClientState","Failed to parse online state: "+t),null)},i}(),Fx=function(){function i(){this.activeTargetIds=kD()}return i.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},i.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},i.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},i}(),kx=function(){function i(t,e,o,a,c){this.window=t,this.Se=e,this.persistenceKey=o,this.Ns=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Sr(dt),this.started=!1,this.$s=[];var f=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.Os=zP(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new Fx),this.Ls=new RegExp("^firestore_clients_"+f+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+f+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+f+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(m){return"firestore_bundle_loaded_"+m}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return i.yt=function(t){return!(!t||!t.localStorage)},i.prototype.start=function(){return(0,x.mG)(this,void 0,void 0,function(){var t,e,o,a,c,f,m,_,w,C,T=this;return(0,x.Jh)(this,function(I){switch(I.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=I.sent(),e=0,o=t;e<o.length;e++)(a=o[e])!==this.Ns&&(c=this.getItem(zP(this.persistenceKey,a)))&&(f=YP.Vs(a,c))&&(this.Fs=this.Fs.insert(f.clientId,f));for(this.Qs(),(m=this.storage.getItem(this.Us))&&(_=this.js(m))&&this.Ws(_),w=0,C=this.$s;w<C.length;w++)this.ks(C[w]);return this.$s=[],this.window.addEventListener("pagehide",function(){return T.shutdown()}),this.started=!0,[2]}})})},i.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},i.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},i.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach(function(o,a){a.activeTargetIds.has(t)&&(e=!0)}),e},i.prototype.addPendingMutation=function(t){this.zs(t,"pending")},i.prototype.updateMutationState=function(t,e,o){this.zs(t,e,o),this.Hs(t)},i.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var o=this.storage.getItem(xx(this.persistenceKey,t));if(o){var a=Ox.Vs(t,o);a&&(e=a.state)}}return this.Js.Ds(t),this.Qs(),e},i.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},i.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},i.prototype.clearQueryState=function(t){this.removeItem(xx(this.persistenceKey,t))},i.prototype.updateQueryState=function(t,e,o){this.Ys(t,e,o)},i.prototype.handleUserChange=function(t,e,o){var a=this;e.forEach(function(c){a.Hs(c)}),this.currentUser=t,o.forEach(function(c){a.addPendingMutation(c)})},i.prototype.setOnlineState=function(t){this.Xs(t)},i.prototype.notifyBundleLoaded=function(){this.Zs()},i.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},i.prototype.getItem=function(t){var e=this.storage.getItem(t);return _e("SharedClientState","READ",t,e),e},i.prototype.setItem=function(t,e){_e("SharedClientState","SET",t,e),this.storage.setItem(t,e)},i.prototype.removeItem=function(t){_e("SharedClientState","REMOVE",t),this.storage.removeItem(t)},i.prototype.ks=function(t){var e=this,o=t;if(o.storageArea===this.storage){if(_e("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Os)return void St("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,x.mG)(e,void 0,void 0,function(){var a,c,f,m,_,w;return(0,x.Jh)(this,function(C){if(this.started){if(null!==o.key)if(this.Ls.test(o.key)){if(null==o.newValue)return a=this.ti(o.key),[2,this.ei(a,null)];if(c=this.ni(o.key,o.newValue))return[2,this.ei(c.clientId,c)]}else if(this.Bs.test(o.key)){if(null!==o.newValue&&(f=this.si(o.key,o.newValue)))return[2,this.ii(f)]}else if(this.qs.test(o.key)){if(null!==o.newValue&&(m=this.ri(o.key,o.newValue)))return[2,this.oi(m)]}else if(o.key===this.Us){if(null!==o.newValue&&(_=this.js(o.newValue)))return[2,this.Ws(_)]}else if(o.key===this.Ms)(w=function(S){var T=me.o;if(null!=S)try{var I=JSON.parse(S);qe("number"==typeof I),T=I}catch(F){St("SharedClientState","Failed to read sequence number from WebStorage",F)}return T}(o.newValue))!==me.o&&this.sequenceNumberHandler(w);else if(o.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(o);return[2]})})})}},Object.defineProperty(i.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),i.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},i.prototype.zs=function(t,e,o){var a=new qP(this.currentUser,t,e,o),c=$P(this.persistenceKey,this.currentUser,t);this.setItem(c,a.Ss())},i.prototype.Hs=function(t){var e=$P(this.persistenceKey,this.currentUser,t);this.removeItem(e)},i.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},i.prototype.Ys=function(t,e,o){var a=xx(this.persistenceKey,t),c=new Ox(t,e,o);this.setItem(a,c.Ss())},i.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},i.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},i.prototype.ni=function(t,e){var o=this.ti(t);return YP.Vs(o,e)},i.prototype.si=function(t,e){var o=this.Bs.exec(t),a=Number(o[1]);return qP.Vs(new pr(void 0!==o[2]?o[2]:null),a,e)},i.prototype.ri=function(t,e){var o=this.qs.exec(t),a=Number(o[1]);return Ox.Vs(a,e)},i.prototype.js=function(t){return Z2.Vs(t)},i.prototype.ii=function(t){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(_e("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},i.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},i.prototype.ei=function(t,e){var o=this,a=e?this.Fs.insert(t,e):this.Fs.remove(t),c=this.Gs(this.Fs),f=this.Gs(a),m=[],_=[];return f.forEach(function(w){c.has(w)||m.push(w)}),c.forEach(function(w){f.has(w)||_.push(w)}),this.syncEngine.hi(m,_).then(function(){o.Fs=a})},i.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},i.prototype.Gs=function(t){var e=kD();return t.forEach(function(o,a){e=e.unionWith(a.activeTargetIds)}),e},i}(),WP=function(){function i(){this.li=new Fx,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return i.prototype.addPendingMutation=function(t){},i.prototype.updateMutationState=function(t,e,o){},i.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},i.prototype.updateQueryState=function(t,e,o){this.fi[t]=e},i.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},i.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},i.prototype.clearQueryState=function(t){delete this.fi[t]},i.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},i.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},i.prototype.start=function(){return this.li=new Fx,Promise.resolve()},i.prototype.handleUserChange=function(t,e,o){},i.prototype.setOnlineState=function(t){},i.prototype.shutdown=function(){},i.prototype.writeSequenceNumber=function(t){},i.prototype.notifyBundleLoaded=function(){},i}(),X2=function(){function i(){}return i.prototype.di=function(t){},i.prototype.shutdown=function(){},i}(),KP=function(){function i(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return i.prototype.di=function(t){this.gi.push(t)},i.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},i.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},i.prototype._i=function(){_e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},i.prototype.yi=function(){_e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},i.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},i}(),e3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},t3=function(){function i(t){this.Ei=t.Ei,this.Ti=t.Ti}return i.prototype.Ii=function(t){this.Ai=t},i.prototype.Ri=function(t){this.bi=t},i.prototype.onMessage=function(t){this.vi=t},i.prototype.close=function(){this.Ti()},i.prototype.send=function(t){this.Ei(t)},i.prototype.Pi=function(){this.Ai()},i.prototype.Vi=function(t){this.bi(t)},i.prototype.Si=function(t){this.vi(t)},i}(),n3=function(i){function t(e){var o=this;return(o=i.call(this,e)||this).forceLongPolling=e.forceLongPolling,o.autoDetectLongPolling=e.autoDetectLongPolling,o.useFetchStreams=e.useFetchStreams,o}return(0,x.ZT)(t,i),t.prototype.Fi=function(e,o,a,c){return new Promise(function(f,m){var _=new H;_.listenOnce(E.COMPLETE,function(){try{switch(_.getLastErrorCode()){case b.NO_ERROR:var C=_.getResponseJson();_e("Connection","XHR received:",JSON.stringify(C)),f(C);break;case b.TIMEOUT:_e("Connection",'RPC "'+e+'" timed out'),m(new ee(N.DEADLINE_EXCEEDED,"Request time out"));break;case b.HTTP_ERROR:var S=_.getStatus();if(_e("Connection",'RPC "'+e+'" failed with status:',S,"response text:",_.getResponseText()),S>0){var T=_.getResponseJson().error;if(T&&T.status&&T.message){var I=(j=T.status.toLowerCase().replace(/_/g,"-"),Object.values(N).indexOf(j)>=0?j:N.UNKNOWN);m(new ee(I,T.message))}else m(new ee(N.UNKNOWN,"Server responded with status "+_.getStatus()))}else m(new ee(N.UNAVAILABLE,"Connection failed."));break;default:Le()}}finally{_e("Connection",'RPC "'+e+'" completed.')}var j});var w=JSON.stringify(c);_.send(o,"POST",w,a,15)})},t.prototype.Oi=function(e,o){var a=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=new l,f=Uf(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new R({})),this.ki(m.initMessageHeaders,o),(0,At.uI)()||(0,At.b$)()||(0,At.d)()||(0,At.w1)()||(0,At.Mn)()||(0,At.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");var _=a.join("");_e("Connection","Creating WebChannel: "+_,m);var w=c.createWebChannel(_,m),C=!1,S=!1,T=new t3({Ei:function(F){S?_e("Connection","Not sending because WebChannel is closed:",F):(C||(_e("Connection","Opening WebChannel transport."),w.open(),C=!0),_e("Connection","WebChannel sending:",F),w.send(F))},Ti:function(){return w.close()}}),I=function(F,j,q){F.listen(j,function(ce){try{q(ce)}catch(ve){setTimeout(function(){throw ve},0)}})};return I(w,L.EventType.OPEN,function(){S||_e("Connection","WebChannel transport opened.")}),I(w,L.EventType.CLOSE,function(){S||(S=!0,_e("Connection","WebChannel transport closed"),T.Vi())}),I(w,L.EventType.ERROR,function(F){S||(S=!0,Fo("Connection","WebChannel transport errored:",F),T.Vi(new ee(N.UNAVAILABLE,"The operation could not be completed")))}),I(w,L.EventType.MESSAGE,function(F){var j;if(!S){var q=F.data[0];qe(!!q);var ve=q.error||(null===(j=q[0])||void 0===j?void 0:j.error);if(ve){_e("Connection","WebChannel received error:",ve);var Ce=ve.status,xe=function(st){var Tt=kn[st];if(void 0!==Tt)return q1(Tt)}(Ce),ke=ve.message;void 0===xe&&(xe=N.INTERNAL,ke="Unknown error status: "+Ce+" with message "+ve.message),S=!0,T.Vi(new ee(xe,ke)),w.close()}else _e("Connection","WebChannel received:",q),T.Si(q)}}),I(f,D.STAT_EVENT,function(F){F.stat===M_PROXY?_e("Connection","Detected buffering proxy"):F.stat===M_NOPROXY&&_e("Connection","Detected no buffering proxy")}),setTimeout(function(){T.Pi()},0),T},t}(function(){function i(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return i.prototype.Ni=function(t,e,o,a){var c=this.xi(t,e);_e("RestConnection","Sending: ",c,o);var f={};return this.ki(f,a),this.Fi(t,c,f,o).then(function(m){return _e("RestConnection","Received: ",m),m},function(m){throw Fo("RestConnection",t+" failed with error: ",m,"url: ",c,"request:",o),m})},i.prototype.$i=function(t,e,o,a){return this.Ni(t,e,o,a)},i.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var o in e.authHeaders)e.authHeaders.hasOwnProperty(o)&&(t[o]=e.authHeaders[o])},i.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+e3[t]},i}());function QP(){return"undefined"!=typeof window?window:null}function zD(){return"undefined"!=typeof document?document:null}function Mv(i){return new a2(i,!0)}var Nx=function(){function i(t,e,o,a,c){void 0===o&&(o=1e3),void 0===a&&(a=1.5),void 0===c&&(c=6e4),this.Se=t,this.timerId=e,this.Mi=o,this.Li=a,this.Bi=c,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return i.prototype.reset=function(){this.qi=0},i.prototype.Qi=function(){this.qi=this.Bi},i.prototype.ji=function(t){var e=this;this.cancel();var o=Math.floor(this.qi+this.Wi()),a=Math.max(0,Date.now()-this.Ki),c=Math.max(0,o-a);c>0&&_e("ExponentialBackoff","Backing off for "+c+" ms (base delay: "+this.qi+" ms, delay with jitter: "+o+" ms, last attempt: "+a+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,c,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},i.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},i.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},i.prototype.Wi=function(){return(Math.random()-.5)*this.qi},i}(),JP=function(){function i(t,e,o,a,c,f){this.Se=t,this.zi=o,this.Hi=a,this.Ji=c,this.listener=f,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Nx(t,e)}return i.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},i.prototype.er=function(){return 2===this.state},i.prototype.start=function(){3!==this.state?this.auth():this.nr()},i.prototype.stop=function(){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},i.prototype.sr=function(){this.state=0,this.Zi.reset()},i.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},i.prototype.cr=function(t){this.ur(),this.stream.send(t)},i.prototype.rr=function(){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},i.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},i.prototype.close=function(t,e){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(o){switch(o.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===N.RESOURCE_EXHAUSTED?(St(e.toString()),St("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===N.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return o.sent(),[2]}})})},i.prototype.ar=function(){},i.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),o=this.Yi;this.Ji.getToken().then(function(a){t.Yi===o&&t.lr(a)},function(a){e(function(){var c=new ee(N.UNKNOWN,"Fetching auth token failed: "+a.message);return t.dr(c)})})},i.prototype.lr=function(t){var e=this,o=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){o(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(a){o(function(){return e.dr(a)})}),this.stream.onMessage(function(a){o(function(){return e.onMessage(a)})})},i.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,x.mG)(t,void 0,void 0,function(){return(0,x.Jh)(this,function(e){return this.state=0,this.start(),[2]})})})},i.prototype.dr=function(t){return _e("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},i.prototype.hr=function(t){var e=this;return function(o){e.Se.enqueueAndForget(function(){return e.Yi===t?o():(_e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},i}(),r3=function(i){function t(e,o,a,c,f){var m=this;return(m=i.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",o,a,f)||this).R=c,m}return(0,x.ZT)(t,i),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var o=function(c,f){var m,q;if("targetChange"in f){var _="NO_CHANGE"===(q=f.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===q?1:"REMOVE"===q?2:"CURRENT"===q?3:"RESET"===q?4:Le(),w=f.targetChange.targetIds||[],C=function(q,ce){return q.I?(qe(void 0===ce||"string"==typeof ce),Br.fromBase64String(ce||"")):(qe(void 0===ce||ce instanceof Uint8Array),Br.fromUint8Array(ce||new Uint8Array))}(c,f.targetChange.resumeToken),S=(T=f.targetChange.cause)&&function(q){var ce=void 0===q.code?N.UNKNOWN:q1(q.code);return new ee(ce,q.message||"")}(T);m=new Q1(_,w,C,S||null)}else if("documentChange"in f){w=ss(c,(_=f.documentChange).document.name),C=tr(_.document.updateTime);var T=new Si({mapValue:{fields:_.document.fields}}),I=(S=hr.newFoundDocument(w,C,T),_.targetIds||[]);m=new ND(I,_.removedTargetIds||[],S.key,S)}else if("documentDelete"in f)w=ss(c,(_=f.documentDelete).document),C=_.readTime?tr(_.readTime):ft.min(),T=hr.newNoDocument(w,C),m=new ND([],S=_.removedTargetIds||[],T.key,T);else if("documentRemove"in f)w=ss(c,(_=f.documentRemove).document),m=new ND([],C=_.removedTargetIds||[],w,null);else{if(!("filter"in f))return Le();var j=f.filter;w=new JB(_=j.count||0),m=new K1(C=j.targetId,w)}return m}(this.R,e),a=function(c){if(!("targetChange"in c))return ft.min();var f=c.targetChange;return f.targetIds&&f.targetIds.length?ft.min():f.readTime?tr(f.readTime):ft.min()}(e);return this.listener._r(o,a)},t.prototype.mr=function(e){var c,f,m,_,o={};o.database=Ev(this.R),o.addTarget=(c=this.R,(m=TD(_=(f=e).target)?{documents:aP(c,_)}:{query:lP(c,_)}).targetId=f.targetId,f.resumeToken.approximateByteSize()>0?m.resumeToken=eP(c,f.resumeToken):f.snapshotVersion.compareTo(ft.min())>0&&(m.readTime=wv(c,f.snapshotVersion.toTimestamp())),m);var a=function(c,f){var m=function(_,w){switch(w){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Le()}}(0,f.purpose);return null==m?null:{"goog-listen-tags":m}}(0,e);a&&(o.labels=a),this.cr(o)},t.prototype.yr=function(e){var o={};o.database=Ev(this.R),o.removeTarget=e,this.cr(o)},t}(JP),i3=function(i){function t(e,o,a,c,f){var m=this;return(m=i.call(this,e,"write_stream_connection_backoff","write_stream_idle",o,a,f)||this).R=c,m.gr=!1,m}return(0,x.ZT)(t,i),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,i.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var o=(f=e.commitTime,(c=e.writeResults)&&c.length>0?(qe(void 0!==f),c.map(function(m){return w=f,(C=tr((_=m).updateTime?_.updateTime:w)).isEqual(ft.min())&&(C=tr(w)),new WB(C,_.transformResults||[]);var _,w,C})):[]),a=tr(e.commitTime);return this.listener.Tr(a,o)}var c,f;return qe(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=Ev(this.R),this.cr(e)},t.prototype.Er=function(e){var o=this,a={streamToken:this.lastStreamToken,writes:e.map(function(c){return PD(o.R,c)})};this.cr(a)},t}(JP),o3=function(i){function t(e,o,a){var c=this;return(c=i.call(this)||this).credentials=e,c.Hi=o,c.R=a,c.Rr=!1,c}return(0,x.ZT)(t,i),t.prototype.br=function(){if(this.Rr)throw new ee(N.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,o,a){var c=this;return this.br(),this.credentials.getToken().then(function(f){return c.Hi.Ni(e,o,a,f)}).catch(function(f){throw"FirebaseError"===f.name?(f.code===N.UNAUTHENTICATED&&c.credentials.invalidateToken(),f):new ee(N.UNKNOWN,f.toString())})},t.prototype.$i=function(e,o,a){var c=this;return this.br(),this.credentials.getToken().then(function(f){return c.Hi.$i(e,o,a,f)}).catch(function(f){throw"FirebaseError"===f.name?(f.code===N.UNAUTHENTICATED&&c.credentials.invalidateToken(),f):new ee(N.UNKNOWN,f.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),s3=function(){function i(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return i.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},i.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},i.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},i.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},i.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(St(e),this.Vr=!1):_e("OnlineStateTracker",e)},i.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},i}(),a3=function(i,t,e,o,a){var c=this;this.localStore=i,this.datastore=t,this.asyncQueue=e,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=a,this.Lr.di(function(f){e.enqueueAndForget(function(){return(0,x.mG)(c,void 0,void 0,function(){return(0,x.Jh)(this,function(m){switch(m.label){case 0:return Kl(this)?(_e("RemoteStore","Restarting streams for network reachability change."),[4,function(_){return(0,x.mG)(this,void 0,void 0,function(){var w;return(0,x.Jh)(this,function(C){switch(C.label){case 0:return(w=De(_)).Or.add(4),[4,Tp(w)];case 1:return C.sent(),w.Br.set("Unknown"),w.Or.delete(4),[4,Av(w)];case 2:return C.sent(),[2]}})})}(this)]):[3,2];case 1:m.sent(),m.label=2;case 2:return[2]}})})})}),this.Br=new s3(e,o)};function Av(i){return(0,x.mG)(this,void 0,void 0,function(){var t,e;return(0,x.Jh)(this,function(o){switch(o.label){case 0:if(!Kl(i))return[3,4];t=0,e=i.Mr,o.label=1;case 1:return t<e.length?[4,(0,e[t])(!0)]:[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Tp(i){return(0,x.mG)(this,void 0,void 0,function(){var t,e;return(0,x.Jh)(this,function(o){switch(o.label){case 0:t=0,e=i.Mr,o.label=1;case 1:return t<e.length?[4,(0,e[t])(!1)]:[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function $D(i,t){var e=De(i);e.$r.has(t.targetId)||(e.$r.set(t.targetId,t),Vx(e)?Lx(e):Ap(e).er()&&Px(e,t))}function Iv(i,t){var e=De(i),o=Ap(e);e.$r.delete(t),o.er()&&ZP(e,t),0===e.$r.size&&(o.er()?o.ir():Kl(e)&&e.Br.set("Unknown"))}function Px(i,t){i.qr.U(t.targetId),Ap(i).mr(t)}function ZP(i,t){i.qr.U(t),Ap(i).yr(t)}function Lx(i){i.qr=new r2({getRemoteKeysForTarget:function(t){return i.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return i.$r.get(t)||null}}),Ap(i).start(),i.Br.Sr()}function Vx(i){return Kl(i)&&!Ap(i).tr()&&i.$r.size>0}function Kl(i){return 0===De(i).Or.size}function XP(i){i.qr=void 0}function l3(i){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(t){return i.$r.forEach(function(e,o){Px(i,e)}),[2]})})}function u3(i,t){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(e){return XP(i),Vx(i)?(i.Br.Nr(t),Lx(i)):i.Br.set("Unknown"),[2]})})}function c3(i,t,e){return(0,x.mG)(this,void 0,void 0,function(){var o,a,c;return(0,x.Jh)(this,function(f){switch(f.label){case 0:if(i.Br.set("Online"),!(t instanceof Q1&&2===t.state&&t.cause))return[3,6];f.label=1;case 1:return f.trys.push([1,3,,5]),[4,function(m,_){return(0,x.mG)(this,void 0,void 0,function(){var w,C,S,T;return(0,x.Jh)(this,function(I){switch(I.label){case 0:w=_.cause,C=0,S=_.targetIds,I.label=1;case 1:return C<S.length?m.$r.has(T=S[C])?[4,m.remoteSyncer.rejectListen(T,w)]:[3,3]:[3,5];case 2:I.sent(),m.$r.delete(T),m.qr.removeTarget(T),I.label=3;case 3:I.label=4;case 4:return C++,[3,1];case 5:return[2]}})})}(i,t)];case 2:return f.sent(),[3,5];case 3:return o=f.sent(),_e("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),o),[4,qD(i,o)];case 4:return f.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof ND?i.qr.X(t):t instanceof K1?i.qr.rt(t):i.qr.et(t),e.isEqual(ft.min()))return[3,13];f.label=7;case 7:return f.trys.push([7,11,,13]),[4,jP(i.localStore)];case 8:return a=f.sent(),e.compareTo(a)>=0?[4,(m=i,_=e,w=m.qr.ut(_),w.targetChanges.forEach(function(C,S){if(C.resumeToken.approximateByteSize()>0){var T=m.$r.get(S);T&&m.$r.set(S,T.withResumeToken(C.resumeToken,_))}}),w.targetMismatches.forEach(function(C){var S=m.$r.get(C);if(S){m.$r.set(C,S.withResumeToken(Br.EMPTY_BYTE_STRING,S.snapshotVersion)),ZP(m,C);var T=new LD(S.target,C,1,S.sequenceNumber);Px(m,T)}}),m.remoteSyncer.applyRemoteEvent(w))]:[3,10];case 9:f.sent(),f.label=10;case 10:return[3,13];case 11:return _e("RemoteStore","Failed to raise snapshot:",c=f.sent()),[4,qD(i,c)];case 12:return f.sent(),[3,13];case 13:return[2]}var m,_,w})})}function qD(i,t,e){return(0,x.mG)(this,void 0,void 0,function(){var o=this;return(0,x.Jh)(this,function(a){switch(a.label){case 0:if(!rd(t))throw t;return i.Or.add(1),[4,Tp(i)];case 1:return a.sent(),i.Br.set("Offline"),e||(e=function(){return jP(i.localStore)}),i.asyncQueue.enqueueRetryable(function(){return(0,x.mG)(o,void 0,void 0,function(){return(0,x.Jh)(this,function(c){switch(c.label){case 0:return _e("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return c.sent(),i.Or.delete(1),[4,Av(i)];case 2:return c.sent(),[2]}})})}),[2]}})})}function eL(i,t){return t().catch(function(e){return qD(i,e,t)})}function Mp(i){return(0,x.mG)(this,void 0,void 0,function(){var t,e,o,a,c;return(0,x.Jh)(this,function(f){switch(f.label){case 0:t=De(i),e=Ql(t),o=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,f.label=1;case 1:if(!(Kl(m=t)&&m.Fr.length<10))return[3,7];f.label=2;case 2:return f.trys.push([2,4,,6]),[4,j2(t.localStore,o)];case 3:return null===(a=f.sent())?(0===t.Fr.length&&e.ir(),[3,7]):(o=a.batchId,function(m,_){m.Fr.push(_);var w=Ql(m);w.er()&&w.pr&&w.Er(_.mutations)}(t,a),[3,6]);case 4:return c=f.sent(),[4,qD(t,c)];case 5:return f.sent(),[3,6];case 6:return[3,1];case 7:return tL(t)&&nL(t),[2]}var m})})}function tL(i){return Kl(i)&&!Ql(i).tr()&&i.Fr.length>0}function nL(i){Ql(i).start()}function d3(i){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(t){return Ql(i).Ar(),[2]})})}function h3(i){return(0,x.mG)(this,void 0,void 0,function(){var t,e,o;return(0,x.Jh)(this,function(c){for(t=Ql(i),e=0,o=i.Fr;e<o.length;e++)t.Er(o[e].mutations);return[2]})})}function f3(i,t,e){return(0,x.mG)(this,void 0,void 0,function(){var o,a;return(0,x.Jh)(this,function(c){switch(c.label){case 0:return o=i.Fr.shift(),a=w2.from(o,t,e),[4,eL(i,function(){return i.remoteSyncer.applySuccessfulWrite(a)})];case 1:return c.sent(),[4,Mp(i)];case 2:return c.sent(),[2]}})})}function p3(i,t){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(e){switch(e.label){case 0:return t&&Ql(i).pr?[4,function(o,a){return(0,x.mG)(this,void 0,void 0,function(){var c,f;return(0,x.Jh)(this,function(m){switch(m.label){case 0:return $1(f=a.code)&&f!==N.ABORTED?(c=o.Fr.shift(),Ql(o).sr(),[4,eL(o,function(){return o.remoteSyncer.rejectFailedWrite(c.batchId,a)})]):[3,3];case 1:return m.sent(),[4,Mp(o)];case 2:m.sent(),m.label=3;case 3:return[2]}})})}(i,t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return tL(i)&&nL(i),[2]}})})}function Bx(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e;return(0,x.Jh)(this,function(o){switch(o.label){case 0:return e=De(i),t?(e.Or.delete(2),[4,Av(e)]):[3,2];case 1:return o.sent(),[3,5];case 2:return t?[3,4]:(e.Or.add(2),[4,Tp(e)]);case 3:o.sent(),e.Br.set("Unknown"),o.label=4;case 4:o.label=5;case 5:return[2]}})})}function Ap(i){var e,o,a,c,t=this;return i.Ur||(i.Ur=(e=i.datastore,o=i.asyncQueue,a={Ii:l3.bind(null,i),Ri:u3.bind(null,i),_r:c3.bind(null,i)},(c=De(e)).br(),new r3(o,c.Hi,c.credentials,c.R,a)),i.Mr.push(function(e){return(0,x.mG)(t,void 0,void 0,function(){return(0,x.Jh)(this,function(o){switch(o.label){case 0:return e?(i.Ur.sr(),Vx(i)?Lx(i):i.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,i.Ur.stop()];case 2:o.sent(),XP(i),o.label=3;case 3:return[2]}})})})),i.Ur}function Ql(i){var e,o,a,c,t=this;return i.Kr||(i.Kr=(e=i.datastore,o=i.asyncQueue,a={Ii:d3.bind(null,i),Ri:p3.bind(null,i),Ir:h3.bind(null,i),Tr:f3.bind(null,i)},(c=De(e)).br(),new i3(o,c.Hi,c.credentials,c.R,a)),i.Mr.push(function(e){return(0,x.mG)(t,void 0,void 0,function(){return(0,x.Jh)(this,function(o){switch(o.label){case 0:return e?(i.Kr.sr(),[4,Mp(i)]):[3,2];case 1:return o.sent(),[3,4];case 2:return[4,i.Kr.stop()];case 3:o.sent(),i.Fr.length>0&&(_e("RemoteStore","Stopping write stream with "+i.Fr.length+" pending writes"),i.Fr=[]),o.label=4;case 4:return[2]}})})})),i.Kr}var g3=function(){function i(t,e,o,a,c){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=o,this.op=a,this.removalCallback=c,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(f){})}return i.createAndSchedule=function(t,e,o,a,c){var f=new i(t,e,Date.now()+o,a,c);return f.start(o),f},i.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},i.prototype.skipDelay=function(){return this.handleDelayElapsed()},i.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ee(N.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},i.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},i.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},i}();function Ip(i,t){if(St("AsyncQueue",t+": "+i),rd(i))return new ee(N.UNAVAILABLE,t+": "+i);throw i}var rL=function(){function i(t){this.comparator=t?function(e,o){return t(e,o)||ze.comparator(e.key,o.key)}:function(e,o){return ze.comparator(e.key,o.key)},this.keyedMap=yx(),this.sortedSet=new Sr(this.comparator)}return i.emptySet=function(t){return new i(t.comparator)},i.prototype.has=function(t){return null!=this.keyedMap.get(t)},i.prototype.get=function(t){return this.keyedMap.get(t)},i.prototype.first=function(){return this.sortedSet.minKey()},i.prototype.last=function(){return this.sortedSet.maxKey()},i.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},i.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(i.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),i.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,o){return t(e),!1})},i.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},i.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},i.prototype.isEqual=function(t){if(!(t instanceof i)||this.size!==t.size)return!1;for(var e=this.sortedSet.getIterator(),o=t.sortedSet.getIterator();e.hasNext();){var a=e.getNext().key,c=o.getNext().key;if(!a.isEqual(c))return!1}return!0},i.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},i.prototype.copy=function(t,e){var o=new i;return o.comparator=this.comparator,o.keyedMap=t,o.sortedSet=e,o},i}(),iL=function(){function i(){this.Qr=new Sr(ze.comparator)}return i.prototype.track=function(t){var e=t.doc.key,o=this.Qr.get(e);o?0!==t.type&&3===o.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==o.type?this.Qr=this.Qr.insert(e,{type:o.type,doc:t.doc}):2===t.type&&2===o.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===o.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===o.type?this.Qr=this.Qr.remove(e):1===t.type&&2===o.type?this.Qr=this.Qr.insert(e,{type:1,doc:o.doc}):0===t.type&&1===o.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Le():this.Qr=this.Qr.insert(e,t)},i.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,o){t.push(o)}),t},i}(),YD=function(){function i(t,e,o,a,c,f,m,_){this.query=t,this.docs=e,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=_}return i.fromInitialDocuments=function(t,e,o,a){var c=[];return e.forEach(function(f){c.push({type:0,doc:f})}),new i(t,e,rL.emptySet(e),c,o,a,!0,!1)},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mv(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,o=t.docChanges;if(e.length!==o.length)return!1;for(var a=0;a<e.length;a++)if(e[a].type!==o[a].type||!e[a].doc.isEqual(o[a].doc))return!1;return!0},i}(),m3=function(){this.Wr=void 0,this.listeners=[]},y3=function(){this.queries=new Ep(function(i){return R1(i)},mv),this.onlineState="Unknown",this.Gr=new Set};function jx(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,o,a,c,f,m,_;return(0,x.Jh)(this,function(w){switch(w.label){case 0:if(e=De(i),a=!1,(c=e.queries.get(o=t.query))||(a=!0,c=new m3),!a)return[3,4];w.label=1;case 1:return w.trys.push([1,3,,4]),f=c,[4,e.onListen(o)];case 2:return f.Wr=w.sent(),[3,4];case 3:return m=w.sent(),_=Ip(m,"Initialization of query '"+px(t.query)+"' failed"),[2,void t.onError(_)];case 4:return e.queries.set(o,c),c.listeners.push(t),t.zr(e.onlineState),c.Wr&&t.Hr(c.Wr)&&Hx(e),[2]}})})}function Ux(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,o,a,c,f;return(0,x.Jh)(this,function(m){return e=De(i),a=!1,(c=e.queries.get(o=t.query))&&(f=c.listeners.indexOf(t))>=0&&(c.listeners.splice(f,1),a=0===c.listeners.length),a?[2,(e.queries.delete(o),e.onUnlisten(o))]:[2]})})}function _3(i,t){for(var e=De(i),o=!1,a=0,c=t;a<c.length;a++){var f=c[a],_=e.queries.get(f.query);if(_){for(var w=0,C=_.listeners;w<C.length;w++)C[w].Hr(f)&&(o=!0);_.Wr=f}}o&&Hx(e)}function v3(i,t,e){var o=De(i),a=o.queries.get(t);if(a)for(var c=0,f=a.listeners;c<f.length;c++)f[c].onError(e);o.queries.delete(t)}function Hx(i){i.Gr.forEach(function(t){t.next()})}var Gx=function(){function i(t,e,o){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=o||{}}return i.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],o=0,a=t.docChanges;o<a.length;o++){var c=a[o];3!==c.type&&e.push(c)}t=new YD(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var f=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),f=!0):this.eo(t,this.onlineState)&&(this.no(t),f=!0),this.Xr=t,f},i.prototype.onError=function(t){this.Jr.error(t)},i.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},i.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},i.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},i.prototype.no=function(t){t=YD.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},i}(),b3=function(){function i(t,e){this.payload=t,this.byteLength=e}return i.prototype.io=function(){return"metadata"in this.payload},i}(),oL=function(){function i(t){this.R=t}return i.prototype.qn=function(t){return ss(this.R,t)},i.prototype.Un=function(t){return t.metadata.exists?oP(this.R,t.document,!1):hr.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},i.prototype.Kn=function(t){return tr(t)},i}();!function(){function i(t,e,o){this.ro=t,this.localStore=e,this.R=o,this.queries=[],this.documents=[],this.progress=function(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}(t)}i.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},i.prototype.co=function(t){for(var e=new Map,o=new oL(this.R),a=0,c=t;a<c.length;a++){var f=c[a];if(f.metadata.queries)for(var m=o.qn(f.metadata.name),_=0,w=f.metadata.queries;_<w.length;_++){var C=w[_],S=(e.get(C)||Nt()).add(m);e.set(C,S)}}return e},i.prototype.complete=function(){return(0,x.mG)(this,void 0,void 0,function(){var t,e,o,a,c;return(0,x.Jh)(this,function(f){switch(f.label){case 0:return[4,H2(this.localStore,new oL(this.R),this.documents,this.ro.id)];case 1:t=f.sent(),e=this.co(this.documents),o=0,a=this.queries,f.label=2;case 2:return o<a.length?[4,G2(this.localStore,c=a[o],e.get(c.name))]:[3,5];case 3:f.sent(),f.label=4;case 4:return o++,[3,2];case 5:return[2,(this.progress.taskState="Success",new N2(Object.assign({},this.progress),t))]}})})}}();var aL=function(i){this.key=i},lL=function(i){this.key=i},uL=function(){function i(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Nt(),this.mutatedKeys=Nt(),this.lo=x1(t),this.fo=new rL(this.lo)}return Object.defineProperty(i.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),i.prototype._o=function(t,e){var o=this,a=e?e.mo:new iL,c=e?e.fo:this.fo,f=e?e.mutatedKeys:this.mutatedKeys,m=c,_=!1,w=AD(this.query)&&c.size===this.query.limit?c.last():null,C=ID(this.query)&&c.size===this.query.limit?c.first():null;if(t.inorderTraversal(function(T,I){var F=c.get(T),j=yv(o.query,I)?I:null,q=!!F&&o.mutatedKeys.has(F.key),ce=!!j&&(j.hasLocalMutations||o.mutatedKeys.has(j.key)&&j.hasCommittedMutations),ve=!1;F&&j?F.data.isEqual(j.data)?q!==ce&&(a.track({type:3,doc:j}),ve=!0):o.yo(F,j)||(a.track({type:2,doc:j}),ve=!0,(w&&o.lo(j,w)>0||C&&o.lo(j,C)<0)&&(_=!0)):!F&&j?(a.track({type:0,doc:j}),ve=!0):F&&!j&&(a.track({type:1,doc:F}),ve=!0,(w||C)&&(_=!0)),ve&&(j?(m=m.add(j),f=ce?f.add(T):f.delete(T)):(m=m.delete(T),f=f.delete(T)))}),AD(this.query)||ID(this.query))for(;m.size>this.query.limit;){var S=AD(this.query)?m.last():m.first();m=m.delete(S.key),f=f.delete(S.key),a.track({type:1,doc:S})}return{fo:m,mo:a,Nn:_,mutatedKeys:f}},i.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},i.prototype.applyChanges=function(t,e,o){var a=this,c=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var f=t.mo.jr();f.sort(function(C,S){return I=S.type,(F=function(j){switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le()}})(C.type)-F(I)||a.lo(C.doc,S.doc);var I,F}),this.po(o);var m=e?this.Eo():[],_=0===this.ho.size&&this.current?1:0,w=_!==this.ao;return this.ao=_,0!==f.length||w?{snapshot:new YD(this.query,t.fo,c,f,t.mutatedKeys,0===_,w,!1),To:m}:{To:m}},i.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new iL,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},i.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},i.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(o){return e.uo=e.uo.add(o)}),t.modifiedDocuments.forEach(function(o){}),t.removedDocuments.forEach(function(o){return e.uo=e.uo.delete(o)}),this.current=t.current)},i.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Nt(),this.fo.forEach(function(a){t.Io(a.key)&&(t.ho=t.ho.add(a.key))});var o=[];return e.forEach(function(a){t.ho.has(a)||o.push(new lL(a))}),this.ho.forEach(function(a){e.has(a)||o.push(new aL(a))}),o},i.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Nt();var e=this._o(t.documents);return this.applyChanges(e,!0)},i.prototype.Ro=function(){return YD.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},i}(),C3=function(i,t,e){this.query=i,this.targetId=t,this.view=e},E3=function(i){this.key=i,this.bo=!1},D3=function(){function i(t,e,o,a,c,f){this.localStore=t,this.remoteStore=e,this.eventManager=o,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.vo={},this.Po=new Ep(function(m){return R1(m)},mv),this.Vo=new Map,this.So=new Set,this.Do=new Sr(ze.comparator),this.Co=new Map,this.No=new Rx,this.xo={},this.ko=new Map,this.Fo=BD.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(i.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),i}();function S3(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,a,c,f,m;return(0,x.Jh)(this,function(_){switch(_.label){case 0:return e=Kx(i),(c=e.Po.get(t))?(e.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ro(),[3,4]):[3,1];case 1:return[4,Dp(e.localStore,to(t))];case 2:return f=_.sent(),m=e.sharedClientState.addLocalQueryTarget(f.targetId),[4,zx(e,t,f.targetId,"current"===m)];case 3:a=_.sent(),e.isPrimaryClient&&$D(e.remoteStore,f),_.label=4;case 4:return[2,a]}})})}function zx(i,t,e,o){return(0,x.mG)(this,void 0,void 0,function(){var a,c,f,m,_,w;return(0,x.Jh)(this,function(C){switch(C.label){case 0:return i.Oo=function(S,T,I){return function(F,j,q,ce){return(0,x.mG)(this,void 0,void 0,function(){var ve,Ce,xe;return(0,x.Jh)(this,function(ke){switch(ke.label){case 0:return(ve=j.view._o(q)).Nn?[4,GD(F.localStore,j.query,!1).then(function(st){return j.view._o(st.documents,ve)})]:[3,2];case 1:ve=ke.sent(),ke.label=2;case 2:return Ce=ce&&ce.targetChanges.get(j.targetId),xe=j.view.applyChanges(ve,F.isPrimaryClient,Ce),[2,(Yx(F,j.targetId,xe.To),xe.snapshot)]}})})}(i,S,T,I)},[4,GD(i.localStore,t,!0)];case 1:return a=C.sent(),c=new uL(t,a.Bn),f=c._o(a.documents),m=vx.createSynthesizedTargetChangeForCurrentChange(e,o&&"Offline"!==i.onlineState),_=c.applyChanges(f,i.isPrimaryClient,m),Yx(i,e,_.To),w=new C3(t,e,c),[2,(i.Po.set(t,w),i.Vo.has(e)?i.Vo.get(e).push(t):i.Vo.set(e,[t]),_.snapshot)]}})})}function T3(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,o,a;return(0,x.Jh)(this,function(c){switch(c.label){case 0:return e=De(i),o=e.Po.get(t),(a=e.Vo.get(o.targetId)).length>1?[2,(e.Vo.set(o.targetId,a.filter(function(f){return!mv(f,t)})),void e.Po.delete(t))]:e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(o.targetId),e.sharedClientState.isActiveQueryTarget(o.targetId)?[3,2]:[4,Sp(e.localStore,o.targetId,!1).then(function(){e.sharedClientState.clearQueryState(o.targetId),Iv(e.remoteStore,o.targetId),Rp(e,o.targetId)}).catch(od)]):[3,3];case 1:c.sent(),c.label=2;case 2:return[3,5];case 3:return Rp(e,o.targetId),[4,Sp(e.localStore,o.targetId,!0)];case 4:c.sent(),c.label=5;case 5:return[2]}})})}function M3(i,t,e){return(0,x.mG)(this,void 0,void 0,function(){var o,a,c,f;return(0,x.Jh)(this,function(m){switch(m.label){case 0:o=Qx(i),m.label=1;case 1:return m.trys.push([1,5,,6]),[4,(_=o.localStore,w=t,S=De(_),T=ri.now(),I=w.reduce(function(F,j){return F.add(j.key)},Nt()),S.persistence.runTransaction("Locally write mutations","readwrite",function(F){return S.Mn.pn(F,I).next(function(j){C=j;for(var q=[],ce=0,ve=w;ce<ve.length;ce++){var Ce=ve[ce],xe=QB(Ce,C.get(Ce.key));null!=xe&&q.push(new Gl(Ce.key,xe,E1(xe.value.mapValue),Dr.exists(!0)))}return S._n.addMutationBatch(F,T,q,w)})}).then(function(F){return F.applyToLocalDocumentSet(C),{batchId:F.batchId,changes:C}}))];case 2:return a=m.sent(),o.sharedClientState.addPendingMutation(a.batchId),function(_,w,C){var S=_.xo[_.currentUser.toKey()];S||(S=new Sr(dt)),S=S.insert(w,C),_.xo[_.currentUser.toKey()]=S}(o,a.batchId,e),[4,Da(o,a.changes)];case 3:return m.sent(),[4,Mp(o.remoteStore)];case 4:return m.sent(),[3,6];case 5:return c=m.sent(),f=Ip(c,"Failed to persist write"),e.reject(f),[3,6];case 6:return[2]}var _,w,C,S,T,I})})}function cL(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,o;return(0,x.Jh)(this,function(a){switch(a.label){case 0:e=De(i),a.label=1;case 1:return a.trys.push([1,4,,6]),[4,B2(e.localStore,t)];case 2:return o=a.sent(),t.targetChanges.forEach(function(c,f){var m=e.Co.get(f);m&&(qe(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?m.bo=!0:c.modifiedDocuments.size>0?qe(m.bo):c.removedDocuments.size>0&&(qe(m.bo),m.bo=!1))}),[4,Da(e,o,t)];case 3:return a.sent(),[3,6];case 4:return[4,od(a.sent())];case 5:return a.sent(),[3,6];case 6:return[2]}})})}function dL(i,t,e){var o=De(i);if(o.isPrimaryClient&&0===e||!o.isPrimaryClient&&1===e){var a=[];o.Po.forEach(function(c,f){var m=f.view.zr(t);m.snapshot&&a.push(m.snapshot)}),function(c,f){var m=De(c);m.onlineState=f;var _=!1;m.queries.forEach(function(w,C){for(var S=0,T=C.listeners;S<T.length;S++)T[S].zr(f)&&(_=!0)}),_&&Hx(m)}(o.eventManager,t),a.length&&o.vo._r(a),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}function A3(i,t,e){return(0,x.mG)(this,void 0,void 0,function(){var o,a,c,f,m,_;return(0,x.Jh)(this,function(w){switch(w.label){case 0:return(o=De(i)).sharedClientState.updateQueryState(t,"rejected",e),a=o.Co.get(t),(c=a&&a.key)?(f=(f=new Sr(ze.comparator)).insert(c,hr.newNoDocument(c,ft.min())),m=Nt().add(c),_=new _x(ft.min(),new Map,new qn(dt),f,m),[4,cL(o,_)]):[3,2];case 1:return w.sent(),o.Do=o.Do.remove(c),o.Co.delete(t),Wx(o),[3,4];case 2:return[4,Sp(o.localStore,t,!1).then(function(){return Rp(o,t,e)}).catch(od)];case 3:w.sent(),w.label=4;case 4:return[2]}})})}function I3(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,o,a;return(0,x.Jh)(this,function(c){switch(c.label){case 0:e=De(i),o=t.batch.batchId,c.label=1;case 1:return c.trys.push([1,4,,6]),[4,V2(e.localStore,t)];case 2:return a=c.sent(),qx(e,o,null),$x(e,o),e.sharedClientState.updateMutationState(o,"acknowledged"),[4,Da(e,a)];case 3:return c.sent(),[3,6];case 4:return[4,od(c.sent())];case 5:return c.sent(),[3,6];case 6:return[2]}})})}function R3(i,t,e){return(0,x.mG)(this,void 0,void 0,function(){var o,a;return(0,x.Jh)(this,function(c){switch(c.label){case 0:o=De(i),c.label=1;case 1:return c.trys.push([1,4,,6]),[4,(f=o.localStore,m=t,_=De(f),_.persistence.runTransaction("Reject batch","readwrite-primary",function(w){var C;return _._n.lookupMutationBatch(w,m).next(function(S){return qe(null!==S),C=S.keys(),_._n.removeMutationBatch(w,S)}).next(function(){return _._n.performConsistencyCheck(w)}).next(function(){return _.Mn.pn(w,C)})}))];case 2:return a=c.sent(),qx(o,t,e),$x(o,t),o.sharedClientState.updateMutationState(t,"rejected",e),[4,Da(o,a)];case 3:return c.sent(),[3,6];case 4:return[4,od(c.sent())];case 5:return c.sent(),[3,6];case 6:return[2]}var f,m,_})})}function x3(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,o,a,c,f;return(0,x.Jh)(this,function(m){switch(m.label){case 0:Kl((e=De(i)).remoteStore)||_e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),m.label=1;case 1:return m.trys.push([1,3,,4]),[4,(_=e.localStore,w=De(_),w.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(C){return w._n.getHighestUnacknowledgedBatchId(C)}))];case 2:return-1===(o=m.sent())?[2,void t.resolve()]:((a=e.ko.get(o)||[]).push(t),e.ko.set(o,a),[3,4]);case 3:return c=m.sent(),f=Ip(c,"Initialization of waitForPendingWrites() operation failed"),t.reject(f),[3,4];case 4:return[2]}var _,w})})}function $x(i,t){(i.ko.get(t)||[]).forEach(function(e){e.resolve()}),i.ko.delete(t)}function qx(i,t,e){var o=De(i),a=o.xo[o.currentUser.toKey()];if(a){var c=a.get(t);c&&(e?c.reject(e):c.resolve(),a=a.remove(t)),o.xo[o.currentUser.toKey()]=a}}function Rp(i,t,e){void 0===e&&(e=null),i.sharedClientState.removeLocalQueryTarget(t);for(var o=0,a=i.Vo.get(t);o<a.length;o++){var c=a[o];i.Po.delete(c),e&&i.vo.Mo(c,e)}i.Vo.delete(t),i.isPrimaryClient&&i.No.Zn(t).forEach(function(f){i.No.containsKey(f)||hL(i,f)})}function hL(i,t){i.So.delete(t.path.canonicalString());var e=i.Do.get(t);null!==e&&(Iv(i.remoteStore,e),i.Do=i.Do.remove(t),i.Co.delete(e),Wx(i))}function Yx(i,t,e){for(var o=0,a=e;o<a.length;o++){var c=a[o];c instanceof aL?(i.No.addReference(c.key,t),O3(i,c)):c instanceof lL?(_e("SyncEngine","Document no longer in limbo: "+c.key),i.No.removeReference(c.key,t),i.No.containsKey(c.key)||hL(i,c.key)):Le()}}function O3(i,t){var e=t.key,o=e.path.canonicalString();i.Do.get(e)||i.So.has(o)||(_e("SyncEngine","New document in limbo: "+e),i.So.add(o),Wx(i))}function Wx(i){for(;i.So.size>0&&i.Do.size<i.maxConcurrentLimboResolutions;){var t=i.So.values().next().value;i.So.delete(t);var e=new ze(It.fromString(t)),o=i.Fo.next();i.Co.set(o,new E3(e)),i.Do=i.Do.insert(e,o),$D(i.remoteStore,new LD(to(up(e.path)),o,2,me.o))}}function Da(i,t,e){return(0,x.mG)(this,void 0,void 0,function(){var o,a,c,f;return(0,x.Jh)(this,function(m){switch(m.label){case 0:return o=De(i),a=[],c=[],f=[],o.Po.isEmpty()?[3,3]:(o.Po.forEach(function(_,w){f.push(o.Oo(w,t,e).then(function(C){if(C){o.isPrimaryClient&&o.sharedClientState.updateQueryState(w.targetId,C.fromCache?"not-current":"current"),a.push(C);var S=P2.Pn(w.targetId,C);c.push(S)}}))}),[4,Promise.all(f)]);case 1:return m.sent(),o.vo._r(a),[4,function(_,w){return(0,x.mG)(this,void 0,void 0,function(){var C,S,T,I,F,j,q,ve;return(0,x.Jh)(this,function(Ce){switch(Ce.label){case 0:C=De(_),Ce.label=1;case 1:return Ce.trys.push([1,3,,4]),[4,C.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(xe){return Ee.forEach(w,function(ke){return Ee.forEach(ke.bn,function(st){return C.persistence.referenceDelegate.addReference(xe,ke.targetId,st)}).next(function(){return Ee.forEach(ke.vn,function(st){return C.persistence.referenceDelegate.removeReference(xe,ke.targetId,st)})})})})];case 2:return Ce.sent(),[3,4];case 3:if(!rd(S=Ce.sent()))throw S;return _e("LocalStore","Failed to update sequence numbers: "+S),[3,4];case 4:for(T=0,I=w;T<I.length;T++)j=(F=I[T]).targetId,F.fromCache||(q=C.kn.get(j),ve=q.withLastLimboFreeSnapshotVersion(q.snapshotVersion),C.kn=C.kn.insert(j,ve));return[2]}})})}(o.localStore,c)];case 2:m.sent(),m.label=3;case 3:return[2]}})})}function F3(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,o;return(0,x.Jh)(this,function(a){switch(a.label){case 0:return(e=De(i)).currentUser.isEqual(t)?[3,3]:(_e("SyncEngine","User change. New user:",t.toKey()),[4,BP(e.localStore,t)]);case 1:return o=a.sent(),e.currentUser=t,(c=e).ko.forEach(function(m){m.forEach(function(_){_.reject(new ee(N.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.ko.clear(),e.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),[4,Da(e,o.Ln)];case 2:a.sent(),a.label=3;case 3:return[2]}var c})})}function k3(i,t){var e=De(i),o=e.Co.get(t);if(o&&o.bo)return Nt().add(o.key);var a=Nt(),c=e.Vo.get(t);if(!c)return a;for(var f=0,m=c;f<m.length;f++){var w=e.Po.get(m[f]);a=a.unionWith(w.view.wo)}return a}function N3(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,o,a;return(0,x.Jh)(this,function(c){switch(c.label){case 0:return[4,GD((e=De(i)).localStore,t.query,!0)];case 1:return o=c.sent(),a=t.view.Ao(o),[2,(e.isPrimaryClient&&Yx(e,t.targetId,a.To),a)]}})})}function P3(i){return(0,x.mG)(this,void 0,void 0,function(){var t;return(0,x.Jh)(this,function(e){return[2,GP((t=De(i)).localStore).then(function(o){return Da(t,o)})]})})}function L3(i,t,e,o){return(0,x.mG)(this,void 0,void 0,function(){var a,c;return(0,x.Jh)(this,function(f){switch(f.label){case 0:return[4,(m=(a=De(i)).localStore,_=t,w=De(m),C=De(w._n),w.persistence.runTransaction("Lookup mutation documents","readonly",function(S){return C.jt(S,_).next(function(T){return T?w.Mn.pn(S,T):Ee.resolve(null)})}))];case 1:return null===(c=f.sent())?[3,6]:"pending"!==e?[3,3]:[4,Mp(a.remoteStore)];case 2:return f.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(qx(a,t,o||null),$x(a,t),function(m,_){De(De(m)._n).Gt(_)}(a.localStore,t)):Le(),f.label=4;case 4:return[4,Da(a,c)];case 5:return f.sent(),[3,7];case 6:_e("SyncEngine","Cannot apply mutation batch with id: "+t),f.label=7;case 7:return[2]}var m,_,w,C})})}function V3(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,o,a,c,f,_,w;return(0,x.Jh)(this,function(C){switch(C.label){case 0:return Kx(e=De(i)),Qx(e),!0!==t||!0===e.$o?[3,3]:(o=e.sharedClientState.getAllActiveQueryTargets(),[4,fL(e,o.toArray())]);case 1:return a=C.sent(),e.$o=!0,[4,Bx(e.remoteStore,!0)];case 2:for(C.sent(),c=0,f=a;c<f.length;c++)$D(e.remoteStore,f[c]);return[3,7];case 3:return!1!==t||!1===e.$o?[3,7]:(_=[],w=Promise.resolve(),e.Vo.forEach(function(S,T){e.sharedClientState.isLocalQueryTarget(T)?_.push(T):w=w.then(function(){return Rp(e,T),Sp(e.localStore,T,!0)}),Iv(e.remoteStore,T)}),[4,w]);case 4:return C.sent(),[4,fL(e,_)];case 5:return C.sent(),(T=De(e)).Co.forEach(function(I,F){Iv(T.remoteStore,F)}),T.No.ts(),T.Co=new Map,T.Do=new Sr(ze.comparator),e.$o=!1,[4,Bx(e.remoteStore,!1)];case 6:C.sent(),C.label=7;case 7:return[2]}var T})})}function fL(i,t,e){return(0,x.mG)(this,void 0,void 0,function(){var o,a,c,f,m,_,w,C,S,T,F,j,q;return(0,x.Jh)(this,function(ce){switch(ce.label){case 0:o=De(i),a=[],c=[],f=0,m=t,ce.label=1;case 1:return f<m.length?(w=void 0,(C=o.Vo.get(_=m[f]))&&0!==C.length?[4,Dp(o.localStore,to(C[0]))]:[3,7]):[3,13];case 2:w=ce.sent(),S=0,T=C,ce.label=3;case 3:return S<T.length?(F=o.Po.get(T[S]),[4,N3(o,F)]):[3,6];case 4:(j=ce.sent()).snapshot&&c.push(j.snapshot),ce.label=5;case 5:return S++,[3,3];case 6:return[3,11];case 7:return[4,HP(o.localStore,_)];case 8:return q=ce.sent(),[4,Dp(o.localStore,q)];case 9:return w=ce.sent(),[4,zx(o,pL(q),_,!1)];case 10:ce.sent(),ce.label=11;case 11:a.push(w),ce.label=12;case 12:return f++,[3,1];case 13:return[2,(o.vo._r(c),a)]}})})}function pL(i){return A1(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function B3(i){var t=De(i);return De(De(t.localStore).persistence).fn()}function j3(i,t,e,o){return(0,x.mG)(this,void 0,void 0,function(){var a,c,f;return(0,x.Jh)(this,function(m){switch(m.label){case 0:return(a=De(i)).$o?(_e("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!a.Vo.has(t))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,GP(a.localStore)];case 3:return c=m.sent(),f=_x.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,Da(a,c,f)];case 4:return m.sent(),[3,8];case 5:return[4,Sp(a.localStore,t,!0)];case 6:return m.sent(),Rp(a,t,o),[3,8];case 7:Le(),m.label=8;case 8:return[2]}})})}function U3(i,t,e){return(0,x.mG)(this,void 0,void 0,function(){var o,a,c,f,m,_,w,C,S;return(0,x.Jh)(this,function(I){switch(I.label){case 0:if(!(o=Kx(i)).$o)return[3,10];a=0,c=t,I.label=1;case 1:return a<c.length?o.Vo.has(f=c[a])?(_e("SyncEngine","Adding an already active target "+f),[3,5]):[4,HP(o.localStore,f)]:[3,6];case 2:return m=I.sent(),[4,Dp(o.localStore,m)];case 3:return _=I.sent(),[4,zx(o,pL(m),_.targetId,!1)];case 4:I.sent(),$D(o.remoteStore,_),I.label=5;case 5:return a++,[3,1];case 6:w=function(F){return(0,x.Jh)(this,function(j){switch(j.label){case 0:return o.Vo.has(F)?[4,Sp(o.localStore,F,!1).then(function(){Iv(o.remoteStore,F),Rp(o,F)}).catch(od)]:[3,2];case 1:j.sent(),j.label=2;case 2:return[2]}})},C=0,S=e,I.label=7;case 7:return C<S.length?[5,w(S[C])]:[3,10];case 8:I.sent(),I.label=9;case 9:return C++,[3,7];case 10:return[2]}})})}function Kx(i){var t=De(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=cL.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=k3.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=A3.bind(null,t),t.vo._r=_3.bind(null,t.eventManager),t.vo.Mo=v3.bind(null,t.eventManager),t}function Qx(i){var t=De(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=I3.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=R3.bind(null,t),t}var gL=function(){function i(){this.synchronizeTabs=!1}return i.prototype.initialize=function(t){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(e){switch(e.label){case 0:return this.R=Mv(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},i.prototype.Uo=function(t){return null},i.prototype.Ko=function(t){return VP(this.persistence,new LP,t.initialUser,this.R)},i.prototype.qo=function(t){return new K2(J2.bs,this.R)},i.prototype.Bo=function(t){return new WP},i.prototype.terminate=function(){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},i}(),mL=function(i){function t(e,o,a){var c=this;return(c=i.call(this)||this).Qo=e,c.cacheSizeBytes=o,c.forceOwnership=a,c.synchronizeTabs=!1,c}return(0,x.ZT)(t,i),t.prototype.initialize=function(e){return(0,x.mG)(this,void 0,void 0,function(){var o=this;return(0,x.Jh)(this,function(a){switch(a.label){case 0:return[4,i.prototype.initialize.call(this,e)];case 1:return a.sent(),[4,U2(this.localStore)];case 2:return a.sent(),[4,this.Qo.initialize(this,e)];case 3:return a.sent(),[4,Qx(this.Qo.syncEngine)];case 4:return a.sent(),[4,Mp(this.Qo.remoteStore)];case 5:return a.sent(),[4,this.persistence.He(function(){return o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()})];case 6:return a.sent(),[2]}})})},t.prototype.Ko=function(e){return VP(this.persistence,new LP,e.initialUser,this.R)},t.prototype.Uo=function(e){return new A2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)},t.prototype.qo=function(e){var o=Ix(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?ls.withCacheSize(this.cacheSizeBytes):ls.DEFAULT;return new k2(this.synchronizeTabs,o,e.clientId,a,e.asyncQueue,QP(),zD(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new WP},t}(gL),G3=function(i){function t(e,o){var a=this;return(a=i.call(this,e,o,!1)||this).Qo=e,a.cacheSizeBytes=o,a.synchronizeTabs=!0,a}return(0,x.ZT)(t,i),t.prototype.initialize=function(e){return(0,x.mG)(this,void 0,void 0,function(){var o,a=this;return(0,x.Jh)(this,function(c){switch(c.label){case 0:return[4,i.prototype.initialize.call(this,e)];case 1:return c.sent(),o=this.Qo.syncEngine,this.sharedClientState instanceof kx?(this.sharedClientState.syncEngine={ui:L3.bind(null,o),ai:j3.bind(null,o),hi:U3.bind(null,o),fn:B3.bind(null,o),ci:P3.bind(null,o)},[4,this.sharedClientState.start()]):[3,3];case 2:c.sent(),c.label=3;case 3:return[4,this.persistence.He(function(f){return(0,x.mG)(a,void 0,void 0,function(){return(0,x.Jh)(this,function(m){switch(m.label){case 0:return[4,V3(this.Qo.syncEngine,f)];case 1:return m.sent(),this.gcScheduler&&(f&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):f||this.gcScheduler.stop()),[2]}})})})];case 4:return c.sent(),[2]}})})},t.prototype.Bo=function(e){var o=QP();if(!kx.yt(o))throw new ee(N.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var a=Ix(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new kx(o,e.asyncQueue,a,e.clientId,e.initialUser)},t}(mL),Jx=function(){function i(){}return i.prototype.initialize=function(t,e){return(0,x.mG)(this,void 0,void 0,function(){var o=this;return(0,x.Jh)(this,function(a){switch(a.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(c){return dL(o.syncEngine,c,1)},this.remoteStore.remoteSyncer.handleCredentialChange=F3.bind(null,this.syncEngine),[4,Bx(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:a.sent(),a.label=2;case 2:return[2]}})})},i.prototype.createEventManager=function(t){return new y3},i.prototype.createDatastore=function(t){var o=Mv(t.databaseInfo.databaseId),a=new n3(t.databaseInfo);return new o3(t.credentials,a,o)},i.prototype.createRemoteStore=function(t){var e,o,a,c,f,m=this;return e=this.localStore,o=this.datastore,a=t.asyncQueue,c=function(_){return dL(m.syncEngine,_,0)},f=KP.yt()?new KP:new X2,new a3(e,o,a,c,f)},i.prototype.createSyncEngine=function(t,e){return w=e,C=new D3(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions),w&&(C.$o=!0),C;var w,C},i.prototype.terminate=function(){return function(t){return(0,x.mG)(this,void 0,void 0,function(){var e;return(0,x.Jh)(this,function(o){switch(o.label){case 0:return e=De(t),_e("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Tp(e)];case 1:return o.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},i}(),WD=function(){function i(t){this.observer=t,this.muted=!1}return i.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},i.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},i.prototype.Wo=function(){this.muted=!0},i.prototype.jo=function(t,e){var o=this;this.muted||setTimeout(function(){o.muted||t(e)},0)},i}(),$3=(function(){function i(t,e){var o=this;this.Go=t,this.R=e,this.metadata=new Mr,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(a){a&&a.io()?o.metadata.resolve(a.payload.metadata):o.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==a?void 0:a.payload)))},function(a){return o.metadata.reject(a)})}i.prototype.close=function(){return this.Go.cancel()},i.prototype.getMetadata=function(){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(t){return[2,this.metadata.promise]})})},i.prototype.Lo=function(){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},i.prototype.Ho=function(){return(0,x.mG)(this,void 0,void 0,function(){var t,e,o,a;return(0,x.Jh)(this,function(c){switch(c.label){case 0:return[4,this.Jo()];case 1:return null===(t=c.sent())?[2,null]:(e=this.zo.decode(t),o=Number(e),isNaN(o)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(o)]);case 2:return a=c.sent(),[2,new b3(JSON.parse(a),t.length+o)]}})})},i.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},i.prototype.Jo=function(){return(0,x.mG)(this,void 0,void 0,function(){var t,e;return(0,x.Jh)(this,function(o){switch(o.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(o.sent())return[3,3];o.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},i.prototype.Xo=function(t){return(0,x.mG)(this,void 0,void 0,function(){var e;return(0,x.Jh)(this,function(o){switch(o.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:o.sent()&&this.Yo("Reached the end of bundle when more is expected."),o.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},i.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},i.prototype.tc=function(){return(0,x.mG)(this,void 0,void 0,function(){var t,e;return(0,x.Jh)(this,function(o){switch(o.label){case 0:return[4,this.Go.read()];case 1:return(t=o.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function i(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return i.prototype.lookup=function(t){return(0,x.mG)(this,void 0,void 0,function(){var e,o=this;return(0,x.Jh)(this,function(a){switch(a.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ee(N.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(c,f){return(0,x.mG)(this,void 0,void 0,function(){var m,_,w,C,S,T;return(0,x.Jh)(this,function(I){switch(I.label){case 0:return m=De(c),_=Ev(m.R)+"/documents",w={documents:f.map(function(F){return Cv(m.R,F)})},[4,m.$i("BatchGetDocuments",_,w)];case 1:return C=I.sent(),S=new Map,C.forEach(function(F){var q,ce,j=(q=m.R,"found"in(ce=F)?function(ve,Ce){qe(!!Ce.found);var xe=ss(ve,Ce.found.name),ke=tr(Ce.found.updateTime),st=new Si({mapValue:{fields:Ce.found.fields}});return hr.newFoundDocument(xe,ke,st)}(q,ce):"missing"in ce?function(ve,Ce){qe(!!Ce.missing),qe(!!Ce.readTime);var xe=ss(ve,Ce.missing),ke=tr(Ce.readTime);return hr.newNoDocument(xe,ke)}(q,ce):Le());S.set(j.key.toString(),j)}),T=[],[2,(f.forEach(function(F){var j=S.get(F.toString());qe(!!j),T.push(j)}),T)]}})})}(this.datastore,t)];case 1:return[2,((e=a.sent()).forEach(function(c){return o.recordVersion(c)}),e)]}})})},i.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},i.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(t.toString())},i.prototype.delete=function(t){this.write(new bv(t,this.precondition(t))),this.writtenDocs.add(t.toString())},i.prototype.commit=function(){return(0,x.mG)(this,void 0,void 0,function(){var t,e=this;return(0,x.Jh)(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(a){t.delete(a.key.toString())}),t.forEach(function(a,c){var f=ze.fromPath(c);e.mutations.push(new mx(f,e.precondition(f)))}),[4,function(a,c){return(0,x.mG)(this,void 0,void 0,function(){var f,m,_;return(0,x.Jh)(this,function(w){switch(w.label){case 0:return f=De(a),m=Ev(f.R)+"/documents",_={writes:c.map(function(C){return PD(f.R,C)})},[4,f.Ni("Commit",m,_)];case 1:return w.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return o.sent(),this.committed=!0,[2]}})})},i.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Le();e=ft.min()}var o=this.readVersions.get(t.key.toString());if(o){if(!e.isEqual(o))throw new ee(N.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},i.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Dr.updateTime(e):Dr.none()},i.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(ft.min()))throw new ee(N.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dr.updateTime(e)}return Dr.exists(!0)},i.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},i.prototype.ensureCommitNotCalled=function(){},i}()),q3=function(){function i(t,e,o,a){this.asyncQueue=t,this.datastore=e,this.updateFunction=o,this.deferred=a,this.ec=5,this.Zi=new Nx(this.asyncQueue,"transaction_retry")}return i.prototype.run=function(){this.ec-=1,this.nc()},i.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,x.mG)(t,void 0,void 0,function(){var e,o,a=this;return(0,x.Jh)(this,function(c){return e=new $3(this.datastore),(o=this.sc(e))&&o.then(function(f){a.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){a.deferred.resolve(f)}).catch(function(m){a.ic(m)})})}).catch(function(f){a.ic(f)}),[2]})})})},i.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Zc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}},i.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},i.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!$1(e)}return!1},i}(),Y3=function(){function i(t,e,o){var a=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=o,this.user=pr.UNAUTHENTICATED,this.clientId=ip.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(c){return(0,x.mG)(a,void 0,void 0,function(){return(0,x.Jh)(this,function(f){switch(f.label){case 0:return _e("FirestoreClient","Received user=",c.uid),[4,this.credentialListener(c)];case 1:return f.sent(),this.user=c,[2]}})})})}return i.prototype.getConfiguration=function(){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},i.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},i.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ee(N.FAILED_PRECONDITION,"The client has already been terminated.")},i.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,x.mG)(t,void 0,void 0,function(){var o,a;return(0,x.Jh)(this,function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:c.sent(),c.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:c.sent(),c.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return o=c.sent(),a=Ip(o,"Failed to shutdown persistence"),e.reject(a),[3,6];case 6:return[2]}})})}),e.promise},i}();function _L(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,o,a=this;return(0,x.Jh)(this,function(c){switch(c.label){case 0:return i.asyncQueue.verifyOperationInProgress(),_e("FirestoreClient","Initializing OfflineComponentProvider"),[4,i.getConfiguration()];case 1:return e=c.sent(),[4,t.initialize(e)];case 2:return c.sent(),o=e.initialUser,i.setCredentialChangeListener(function(f){return(0,x.mG)(a,void 0,void 0,function(){return(0,x.Jh)(this,function(m){switch(m.label){case 0:return o.isEqual(f)?[3,2]:[4,BP(t.localStore,f)];case 1:m.sent(),o=f,m.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return i.terminate()}),i.offlineComponents=t,[2]}})})}function vL(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,o;return(0,x.Jh)(this,function(a){switch(a.label){case 0:return i.asyncQueue.verifyOperationInProgress(),[4,Zx(i)];case 1:return e=a.sent(),_e("FirestoreClient","Initializing OnlineComponentProvider"),[4,i.getConfiguration()];case 2:return o=a.sent(),[4,t.initialize(e,o)];case 3:return a.sent(),i.setCredentialChangeListener(function(c){return function(f,m){return(0,x.mG)(this,void 0,void 0,function(){var _,w;return(0,x.Jh)(this,function(C){switch(C.label){case 0:return(_=De(f)).asyncQueue.verifyOperationInProgress(),_e("RemoteStore","RemoteStore received new credentials"),w=Kl(_),_.Or.add(3),[4,Tp(_)];case 1:return C.sent(),w&&_.Br.set("Unknown"),[4,_.remoteSyncer.handleCredentialChange(m)];case 2:return C.sent(),_.Or.delete(3),[4,Av(_)];case 3:return C.sent(),[2]}})})}(t.remoteStore,c)}),i.onlineComponents=t,[2]}})})}function Zx(i){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(t){switch(t.label){case 0:return i.offlineComponents?[3,2]:(_e("FirestoreClient","Using default OfflineComponentProvider"),[4,_L(i,new gL)]);case 1:t.sent(),t.label=2;case 2:return[2,i.offlineComponents]}})})}function KD(i){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(t){switch(t.label){case 0:return i.onlineComponents?[3,2]:(_e("FirestoreClient","Using default OnlineComponentProvider"),[4,vL(i,new Jx)]);case 1:t.sent(),t.label=2;case 2:return[2,i.onlineComponents]}})})}function bL(i){return Zx(i).then(function(t){return t.persistence})}function Xx(i){return Zx(i).then(function(t){return t.localStore})}function wL(i){return KD(i).then(function(t){return t.remoteStore})}function eO(i){return KD(i).then(function(t){return t.syncEngine})}function xp(i){return(0,x.mG)(this,void 0,void 0,function(){var t,e;return(0,x.Jh)(this,function(o){switch(o.label){case 0:return[4,KD(i)];case 1:return t=o.sent(),[2,((e=t.eventManager).onListen=S3.bind(null,t.syncEngine),e.onUnlisten=T3.bind(null,t.syncEngine),e)]}})})}function CL(i,t,e){var o=this;void 0===e&&(e={});var a=new Mr;return i.asyncQueue.enqueueAndForget(function(){return(0,x.mG)(o,void 0,void 0,function(){var c;return(0,x.Jh)(this,function(f){switch(f.label){case 0:return c=function(m,_,w,C,S){var T=new WD({next:function(F){_.enqueueAndForget(function(){return Ux(m,I)});var j=F.docs.has(w);!j&&F.fromCache?S.reject(new ee(N.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&F.fromCache&&C&&"server"===C.source?S.reject(new ee(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):S.resolve(F)},error:function(F){return S.reject(F)}}),I=new Gx(up(w.path),T,{includeMetadataChanges:!0,so:!0});return jx(m,I)},[4,xp(i)];case 1:return[2,c.apply(void 0,[f.sent(),i.asyncQueue,t,e,a])]}})})}),a.promise}function EL(i,t,e){var o=this;void 0===e&&(e={});var a=new Mr;return i.asyncQueue.enqueueAndForget(function(){return(0,x.mG)(o,void 0,void 0,function(){var c;return(0,x.Jh)(this,function(f){switch(f.label){case 0:return c=function(m,_,w,C,S){var T=new WD({next:function(F){_.enqueueAndForget(function(){return Ux(m,I)}),F.fromCache&&"server"===C.source?S.reject(new ee(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):S.resolve(F)},error:function(F){return S.reject(F)}}),I=new Gx(w,T,{includeMetadataChanges:!0,so:!0});return jx(m,I)},[4,xp(i)];case 1:return[2,c.apply(void 0,[f.sent(),i.asyncQueue,t,e,a])]}})})}),a.promise}var W3=function(i,t,e,o,a,c,f,m){this.databaseId=i,this.appId=t,this.persistenceKey=e,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=m},QD=function(){function i(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(i.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return t instanceof i&&t.projectId===this.projectId&&t.database===this.database},i}(),DL=new Map,SL=function(i,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+i},TL=function(){function i(){this.changeListener=null}return i.prototype.getToken=function(){return Promise.resolve(null)},i.prototype.invalidateToken=function(){},i.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(pr.UNAUTHENTICATED)})},i.prototype.removeChangeListener=function(){this.changeListener=null},i}(),K3=function(){function i(t){this.token=t,this.changeListener=null}return i.prototype.getToken=function(){return Promise.resolve(this.token)},i.prototype.invalidateToken=function(){},i.prototype.setChangeListener=function(t,e){var o=this;this.changeListener=e,t.enqueueRetryable(function(){return e(o.token.user)})},i.prototype.removeChangeListener=function(){this.changeListener=null},i}(),Q3=function(){function i(t){var e=this;this.currentUser=pr.UNAUTHENTICATED,this.oc=new Mr,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var o=function(a){_e("FirebaseCredentialsProvider","Auth detected"),e.auth=a,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(a){return o(a)}),setTimeout(function(){if(!e.auth){var a=t.getImmediate({optional:!0});a?o(a):(_e("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return i.prototype.getToken=function(){var t=this,e=this.cc,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(function(a){return t.cc!==e?(_e("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):a?(qe("string"==typeof a.accessToken),new SL(a.accessToken,t.currentUser)):null}):Promise.resolve(null)},i.prototype.invalidateToken=function(){this.forceRefresh=!0},i.prototype.setChangeListener=function(t,e){var o=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,x.mG)(o,void 0,void 0,function(){return(0,x.Jh)(this,function(a){switch(a.label){case 0:return[4,this.oc.promise];case 1:return a.sent(),[4,e(this.currentUser)];case 2:return a.sent(),this.changeListener=e,[2]}})})})},i.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},i.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return qe(null===t||"string"==typeof t),new pr(t)},i}(),J3=function(){function i(t,e,o){this.hc=t,this.lc=e,this.fc=o,this.type="FirstParty",this.user=pr.FIRST_PARTY}return Object.defineProperty(i.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),i}(),Z3=function(){function i(t,e,o){this.hc=t,this.lc=e,this.fc=o}return i.prototype.getToken=function(){return Promise.resolve(new J3(this.hc,this.lc,this.fc))},i.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(pr.FIRST_PARTY)})},i.prototype.removeChangeListener=function(){},i.prototype.invalidateToken=function(){},i}();function tO(i,t,e){if(!e)throw new ee(N.INVALID_ARGUMENT,"Function "+i+"() cannot be called with an empty "+t+".")}function nO(i,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ee(N.INVALID_ARGUMENT,"Invalid options passed to function "+i+'(): You cannot specify both "merge" and "mergeFields".');return t}function ML(i,t,e,o){if(!0===t&&!0===o)throw new ee(N.INVALID_ARGUMENT,i+" and "+e+" cannot be used together.")}function AL(i){if(!ze.isDocumentKey(i))throw new ee(N.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+i+" has "+i.length+".")}function IL(i){if(ze.isDocumentKey(i))throw new ee(N.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+i+" has "+i.length+".")}function JD(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=i.substring(0,20)+"..."),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";var t=function(e){if(e.constructor){var o=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(o&&o.length>1)return o[1]}return null}(i);return t?"a custom "+t+" object":"an object"}return"function"==typeof i?"a function":Le()}function Rt(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ee(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var e=JD(i);throw new ee(N.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+e)}return i}function RL(i,t){if(t<=0)throw new ee(N.INVALID_ARGUMENT,"Function "+i+"() requires a positive number, but it was: "+t+".")}var xL=function(){function i(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ee(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ee(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,ML("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return i.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},i}(),Rv=function(){function i(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xL({}),this._settingsFrozen=!1,t instanceof QD?(this._databaseId=t,this._credentials=new TL):(this._app=t,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new ee(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new QD(o.options.projectId)}(t),this._credentials=new Q3(e))}return Object.defineProperty(i.prototype,"app",{get:function(){if(!this._app)throw new ee(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),i.prototype._setSettings=function(t){if(this._settingsFrozen)throw new ee(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xL(t),void 0!==t.credentials&&(this._credentials=function(e){if(!e)return new TL;switch(e.type){case"gapi":var o=e.client;return qe(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Z3(o,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ee(N.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},i.prototype._getSettings=function(){return this._settings},i.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},i.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},i.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},i.prototype._terminate=function(){return(e=DL.get(this))&&(_e("ComponentProvider","Removing Datastore"),DL.delete(this),e.terminate()),Promise.resolve();var e},i}(),fn=function(){function i(t,e,o){this.converter=e,this._key=o,this.type="document",this.firestore=t}return Object.defineProperty(i.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new Jl(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),i.prototype.withConverter=function(t){return new i(this.firestore,t,this._key)},i}(),si=function(){function i(t,e,o){this.converter=e,this._query=o,this.type="query",this.firestore=t}return i.prototype.withConverter=function(t){return new i(this.firestore,t,this._query)},i}(),Jl=function(i){function t(e,o,a){var c=this;return(c=i.call(this,e,o,up(a))||this)._path=a,c.type="collection",c}return(0,x.ZT)(t,i),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new ze(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(si);function OL(i,t){for(var e,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];if(i=(0,At.m9)(i),tO("collection","path",t),i instanceof Rv)return IL(e=It.fromString.apply(It,(0,x.ev)([t],o))),new Jl(i,null,e);if(!(i instanceof fn||i instanceof Jl))throw new ee(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return IL(e=It.fromString.apply(It,(0,x.ev)([i.path],o)).child(It.fromString(t))),new Jl(i.firestore,null,e)}function ZD(i,t){for(var e,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];if(i=(0,At.m9)(i),1===arguments.length&&(t=ip.u()),tO("doc","path",t),i instanceof Rv)return AL(e=It.fromString.apply(It,(0,x.ev)([t],o))),new fn(i,null,new ze(e));if(!(i instanceof fn||i instanceof Jl))throw new ee(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return AL(e=i._path.child(It.fromString.apply(It,(0,x.ev)([t],o)))),new fn(i.firestore,i instanceof Jl?i.converter:null,new ze(e))}function FL(i,t){return i=(0,At.m9)(i),t=(0,At.m9)(t),(i instanceof fn||i instanceof Jl)&&(t instanceof fn||t instanceof Jl)&&i.firestore===t.firestore&&i.path===t.path&&i.converter===t.converter}function kL(i,t){return i=(0,At.m9)(i),t=(0,At.m9)(t),i instanceof si&&t instanceof si&&i.firestore===t.firestore&&mv(i._query,t._query)&&i.converter===t.converter}var X3=function(){function i(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Nx(this,"async_queue_retry"),this.Ic=function(){var o=zD();o&&_e("AsyncQueue","Visibility state changed to "+o.visibilityState),t.Zi.Gi()};var e=zD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(i.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),i.prototype.enqueueAndForget=function(t){this.enqueue(t)},i.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},i.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=zD();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},i.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var o=new Mr;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(o.resolve,o.reject),o.promise)}).then(function(){return o.promise})},i.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},i.prototype.bc=function(){return(0,x.mG)(this,void 0,void 0,function(){var t,e=this;return(0,x.Jh)(this,function(o){switch(o.label){case 0:if(0===this.wc.length)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return o.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!rd(t=o.sent()))throw t;return _e("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),o.label=5;case 5:return[2]}})})},i.prototype.Rc=function(t){var e=this,o=this.dc.then(function(){return e.gc=!0,t().catch(function(a){throw e.yc=a,e.gc=!1,St("INTERNAL UNHANDLED ERROR: ",(f=(c=a).message||"",c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f)),a;var c,f}).then(function(a){return e.gc=!1,a})});return this.dc=o,o},i.prototype.enqueueAfterDelay=function(t,e,o){var a=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var c=g3.createAndSchedule(this,t,e,o,function(f){return a.vc(f)});return this.mc.push(c),c},i.prototype.Ac=function(){this.yc&&Le()},i.prototype.verifyOperationInProgress=function(){},i.prototype.Pc=function(){return(0,x.mG)(this,void 0,void 0,function(){var t;return(0,x.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},i.prototype.Vc=function(t){for(var e=0,o=this.mc;e<o.length;e++)if(o[e].timerId===t)return!0;return!1},i.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(f,m){return f.targetTimeMs-m.targetTimeMs});for(var o=0,a=e.mc;o<a.length;o++){var c=a[o];if(c.skipDelay(),"all"!==t&&c.timerId===t)break}return e.Pc()})},i.prototype.Dc=function(t){this.Tc.push(t)},i.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},i}();function Op(i){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var o=t,a=0,c=["next","error","complete"];a<c.length;a++){var f=c[a];if(f in o&&"function"==typeof o[f])return!0}return!1}(i)}!function(){function i(){this._progressObserver={},this._taskCompletionResolver=new Mr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}i.prototype.onProgress=function(t,e,o){this._progressObserver={next:t,error:e,complete:o}},i.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},i.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},i.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},i.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},i.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Tn=function(i){function t(e,o){var a=this;return(a=i.call(this,e,o)||this).type="firestore",a._queue=new X3,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return(0,x.ZT)(t,i),t.prototype._terminate=function(){return this._firestoreClient||NL(this),this._firestoreClient.terminate()},t}(Rv);function rr(i){return i._firestoreClient||NL(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function NL(i){var t,c,m,e=i._freezeSettings(),o=(c=(null===(t=i._app)||void 0===t?void 0:t.options.appId)||"",new W3(i._databaseId,c,i._persistenceKey,(m=e).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));i._firestoreClient=new Y3(i._credentials,i._queue,o)}function PL(i,t,e){var o=this,a=new Mr;return i.asyncQueue.enqueue(function(){return(0,x.mG)(o,void 0,void 0,function(){var c;return(0,x.Jh)(this,function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),[4,_L(i,e)];case 1:return f.sent(),[4,vL(i,t)];case 2:return f.sent(),a.resolve(),[3,4];case 3:if(!("FirebaseError"===(m=c=f.sent()).name?m.code===N.FAILED_PRECONDITION||m.code===N.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&m instanceof DOMException)||22===m.code||20===m.code||11===m.code))throw c;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),a.reject(c),[3,4];case 4:return[2]}var m})})}).then(function(){return a.promise})}function LL(i){if(i._initialized||i._terminated)throw new ee(N.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var us=function(){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var o=0;o<t.length;++o)if(0===t[o].length)throw new ee(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ko(t)}return i.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},i}(),sd=function(){function i(t){this._byteString=t}return i.fromBase64String=function(t){try{return new i(Br.fromBase64String(t))}catch(e){throw new ee(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},i.fromUint8Array=function(t){return new i(Br.fromUint8Array(t))},i.prototype.toBase64=function(){return this._byteString.toBase64()},i.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},i.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},i.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},i}(),ad=function(i){this._methodName=i},XD=function(){function i(t,e){if(!isFinite(t)||t<-90||t>90)throw new ee(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ee(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(i.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},i.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},i.prototype._compareTo=function(t){return dt(this._lat,t._lat)||dt(this._long,t._long)},i}(),nj=/^__.*__$/,rj=function(){function i(t,e,o){this.data=t,this.fieldMask=e,this.fieldTransforms=o}return i.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Gl(t,this.data,this.fieldMask,e,this.fieldTransforms):new vv(t,this.data,e,this.fieldTransforms)},i}(),VL=function(){function i(t,e,o){this.data=t,this.fieldMask=e,this.fieldTransforms=o}return i.prototype.toMutation=function(t,e){return new Gl(t,this.data,this.fieldMask,e,this.fieldTransforms)},i}();function BL(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le()}}var jL=function(){function i(t,e,o,a,c,f){this.settings=t,this.databaseId=e,this.R=o,this.ignoreUndefinedProperties=a,void 0===c&&this.Cc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}return Object.defineProperty(i.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),i.prototype.xc=function(t){return new i(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},i.prototype.kc=function(t){var e,o=null===(e=this.path)||void 0===e?void 0:e.child(t),a=this.xc({path:o,Fc:!1});return a.$c(t),a},i.prototype.Oc=function(t){var e,o=null===(e=this.path)||void 0===e?void 0:e.child(t),a=this.xc({path:o,Fc:!1});return a.Cc(),a},i.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},i.prototype.Lc=function(t){return tS(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},i.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},i.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},i.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(BL(this.Nc)&&nj.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},i}(),ij=function(){function i(t,e,o){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=o||Mv(t)}return i.prototype.Uc=function(t,e,o,a){return void 0===a&&(a=!1),new jL({Nc:t,methodName:e,qc:o,path:ko.emptyPath(),Fc:!1,Bc:a},this.databaseId,this.R,this.ignoreUndefinedProperties)},i}();function ld(i){var t=i._freezeSettings(),e=Mv(i._databaseId);return new ij(i._databaseId,!!t.ignoreUndefinedProperties,e)}function eS(i,t,e,o,a,c){void 0===c&&(c={});var f=i.Uc(c.merge||c.mergeFields?2:0,t,e,a);sO("Data must be an object, but it was:",f,o);var m,_,w=GL(o,f);if(c.merge)m=new op(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){for(var C=[],S=0,T=c.mergeFields;S<T.length;S++){var I=aO(t,T[S],e);if(!f.contains(I))throw new ee(N.INVALID_ARGUMENT,"Field '"+I+"' is specified in your field mask but missing from your input data.");$L(C,I)||C.push(I)}m=new op(C),_=f.fieldTransforms.filter(function(F){return m.covers(F.field)})}else m=null,_=f.fieldTransforms;return new rj(new Si(w),m,_)}var rO=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,x.ZT)(t,i),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw e.Lc(1===e.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(ad);function UL(i,t,e){return new jL({Nc:3,qc:t.settings.qc,methodName:i._methodName,Fc:e},t.databaseId,t.R,t.ignoreUndefinedProperties)}var oj=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,x.ZT)(t,i),t.prototype._toFieldTransform=function(e){return new _v(e.path,new dp)},t.prototype.isEqual=function(e){return e instanceof t},t}(ad),sj=function(i){function t(e,o){var a=this;return(a=i.call(this,e)||this).Kc=o,a}return(0,x.ZT)(t,i),t.prototype._toFieldTransform=function(e){var o=UL(this,e,!0),a=this.Kc.map(function(f){return ud(f,o)}),c=new ed(a);return new _v(e.path,c)},t.prototype.isEqual=function(e){return this===e},t}(ad),aj=function(i){function t(e,o){var a=this;return(a=i.call(this,e)||this).Kc=o,a}return(0,x.ZT)(t,i),t.prototype._toFieldTransform=function(e){var o=UL(this,e,!0),a=this.Kc.map(function(f){return ud(f,o)}),c=new td(a);return new _v(e.path,c)},t.prototype.isEqual=function(e){return this===e},t}(ad),lj=function(i){function t(e,o){var a=this;return(a=i.call(this,e)||this).Qc=o,a}return(0,x.ZT)(t,i),t.prototype._toFieldTransform=function(e){var o=new hp(e.R,k1(e.R,this.Qc));return new _v(e.path,o)},t.prototype.isEqual=function(e){return this===e},t}(ad);function iO(i,t,e,o){var a=i.Uc(1,t,e);sO("Data must be an object, but it was:",a,o);var c=[],f=Si.empty();Jc(o,function(_,w){var C=lO(t,_,e);w=(0,At.m9)(w);var S=a.Oc(C);if(w instanceof rO)c.push(C);else{var T=ud(w,S);null!=T&&(c.push(C),f.set(C,T))}});var m=new op(c);return new VL(f,m,a.fieldTransforms)}function oO(i,t,e,o,a,c){var f=i.Uc(1,t,e),m=[aO(t,o,e)],_=[a];if(c.length%2!=0)throw new ee(N.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var w=0;w<c.length;w+=2)m.push(aO(t,c[w])),_.push(c[w+1]);for(var C=[],S=Si.empty(),T=m.length-1;T>=0;--T)if(!$L(C,m[T])){var I=m[T],F=_[T];F=(0,At.m9)(F);var j=f.Oc(I);if(F instanceof rO)C.push(I);else{var q=ud(F,j);null!=q&&(C.push(I),S.set(I,q))}}var ce=new op(C);return new VL(S,ce,f.fieldTransforms)}function HL(i,t,e,o){return void 0===o&&(o=!1),ud(e,i.Uc(o?4:3,t))}function ud(i,t){if(zL(i=(0,At.m9)(i)))return sO("Unsupported field value:",t,i),GL(i,t);if(i instanceof ad)return function(e,o){if(!BL(o.Nc))throw o.Lc(e._methodName+"() can only be used with update() and set()");if(!o.path)throw o.Lc(e._methodName+"() is not currently supported inside arrays");var a=e._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(i,t),null;if(void 0===i&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,o){for(var a=[],c=0,f=0,m=e;f<m.length;f++){var _=ud(m[f],o.Mc(c));null==_&&(_={nullValue:"NULL_VALUE"}),a.push(_),c++}return{arrayValue:{values:a}}}(i,t)}return function(e,o){if(null===(e=(0,At.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return k1(o.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var a=ri.fromDate(e);return{timestampValue:wv(o.R,a)}}if(e instanceof ri)return a=new ri(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:wv(o.R,a)};if(e instanceof XD)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof sd)return{bytesValue:eP(o.R,e._byteString)};if(e instanceof fn){var c=e.firestore._databaseId;if(!c.isEqual(a=o.databaseId))throw o.Lc("Document reference is for database "+c.projectId+"/"+c.database+" but should be for database "+a.projectId+"/"+a.database);return{referenceValue:bx(e.firestore._databaseId||o.databaseId,e._key.path)}}throw o.Lc("Unsupported field value: "+JD(e))}(i,t)}function GL(i,t){var e={};return m1(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Jc(i,function(o,a){var c=ud(a,t.kc(o));null!=c&&(e[o]=c)}),{mapValue:{fields:e}}}function zL(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof ri||i instanceof XD||i instanceof sd||i instanceof fn||i instanceof ad)}function sO(i,t,e){if(!zL(e)||"object"!=typeof(a=e)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){var o=JD(e);throw t.Lc("an object"===o?i+" a custom object":i+" "+o)}var a}function aO(i,t,e){if((t=(0,At.m9)(t))instanceof us)return t._internalPath;if("string"==typeof t)return lO(i,t);throw tS("Field path arguments must be of type string or FieldPath.",i,!1,void 0,e)}var uj=new RegExp("[~\\*/\\[\\]]");function lO(i,t,e){if(t.search(uj)>=0)throw tS("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",i,!1,void 0,e);try{return(new(us.bind.apply(us,(0,x.ev)([void 0],t.split(".")))))._internalPath}catch(o){throw tS("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",i,!1,void 0,e)}}function tS(i,t,e,o,a){var c=o&&!o.isEmpty(),f=void 0!==a,m="Function "+t+"() called with invalid data";e&&(m+=" (via `toFirestore()`)");var _="";return(c||f)&&(_+=" (found",c&&(_+=" in field "+o),f&&(_+=" in document "+a),_+=")"),new ee(N.INVALID_ARGUMENT,(m+=". ")+i+_)}function $L(i,t){return i.some(function(e){return e.isEqual(t)})}var xv=function(){function i(t,e,o,a,c){this._firestore=t,this._userDataWriter=e,this._key=o,this._document=a,this._converter=c}return Object.defineProperty(i.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ref",{get:function(){return new fn(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),i.prototype.exists=function(){return null!==this._document},i.prototype.data=function(){if(this._document){if(this._converter){var t=new cj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},i.prototype.get=function(t){if(this._document){var e=this._document.data.field(nS("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},i}(),cj=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,x.ZT)(t,i),t.prototype.data=function(){return i.prototype.data.call(this)},t}(xv);function nS(i,t){return"string"==typeof t?lO(i,t):t instanceof us?t._internalPath:t._delegate._internalPath}var cd=function(){function i(t,e){this.hasPendingWrites=t,this.fromCache=e}return i.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},i}(),Sa=function(i){function t(e,o,a,c,f,m){var _=this;return(_=i.call(this,e,o,a,c,m)||this)._firestore=e,_._firestoreImpl=e,_.metadata=f,_}return(0,x.ZT)(t,i),t.prototype.exists=function(){return i.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var o=new Ov(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,o){if(void 0===o&&(o={}),this._document){var a=this._document.data.field(nS("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,o.serverTimestamps)}},t}(xv),Ov=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,x.ZT)(t,i),t.prototype.data=function(e){return void 0===e&&(e={}),i.prototype.data.call(this,e)},t}(Sa),Zl=function(){function i(t,e,o,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new cd(a.hasPendingWrites,a.fromCache),this.query=o}return Object.defineProperty(i.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),i.prototype.forEach=function(t,e){var o=this;this._snapshot.docs.forEach(function(a){t.call(e,new Ov(o._firestore,o._userDataWriter,a.key,a,new cd(o._snapshot.mutatedKeys.has(a.key),o._snapshot.fromCache),o.query.converter))})},i.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ee(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){var c=0;return o._snapshot.docChanges.map(function(m){return{type:"added",doc:new Ov(o._firestore,o._userDataWriter,m.doc.key,m.doc,new cd(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:c++}})}var f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(function(m){return a||3!==m.type}).map(function(m){var _=new Ov(o._firestore,o._userDataWriter,m.doc.key,m.doc,new cd(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter),w=-1,C=-1;return 0!==m.type&&(w=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),1!==m.type&&(C=(f=f.add(m.doc)).indexOf(m.doc.key)),{type:dj(m.type),doc:_,oldIndex:w,newIndex:C}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},i}();function dj(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le()}}function qL(i,t){return i instanceof Sa&&t instanceof Sa?i._firestore===t._firestore&&i._key.isEqual(t._key)&&(null===i._document?null===t._document:i._document.isEqual(t._document))&&i._converter===t._converter:i instanceof Zl&&t instanceof Zl&&i._firestore===t._firestore&&kL(i.query,t.query)&&i.metadata.isEqual(t.metadata)&&i._snapshot.isEqual(t._snapshot)}function YL(i){if(ID(i)&&0===i.explicitOrderBy.length)throw new ee(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Fv=function(){};function Xl(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];for(var o=0,a=t;o<a.length;o++){var c=a[o];i=c._apply(i)}return i}var hj=function(i){function t(e,o,a){var c=this;return(c=i.call(this)||this).jc=e,c.Wc=o,c.Gc=a,c.type="where",c}return(0,x.ZT)(t,i),t.prototype._apply=function(e){var c,m,o=ld(e.firestore),a=function(c,f,m,_,w,C,S){var T;if(w.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new ee(N.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+C+"' queries on FieldPath.documentId().");if("in"===C||"not-in"===C){XL(S,C);for(var I=[],F=0,j=S;F<j.length;F++)I.push(ZL(_,c,j[F]));T={arrayValue:{values:I}}}else T=ZL(_,c,S)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||XL(S,C),T=HL(m,"where",S,"in"===C||"not-in"===C);var ce=Ti.create(w,C,T);return function(ve,Ce){if(Ce.g()){var xe=hx(ve);if(null!==xe&&!xe.isEqual(Ce.field))throw new ee(N.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+xe.toString()+"' and '"+Ce.field.toString()+"'");var ke=dx(ve);null!==ke&&eV(0,Ce.field,ke)}var st=function(Tt,Ii){for(var Ur=0,ro=Tt.filters;Ur<ro.length;Ur++){var Uv=ro[Ur];if(Ii.indexOf(Uv.op)>=0)return Uv.op}return null}(ve,function(Tt){switch(Tt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ce.op));if(null!==st)throw new ee(N.INVALID_ARGUMENT,st===Ce.op?"Invalid query. You cannot use more than one '"+Ce.op.toString()+"' filter.":"Invalid query. You cannot use '"+Ce.op.toString()+"' filters with '"+st.toString()+"' filters.")}(c,ce),ce}(e._query,0,o,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new si(e.firestore,e.converter,(m=(c=e._query).filters.concat([a]),new wa(c.path,c.collectionGroup,c.explicitOrderBy.slice(),m,c.limit,c.limitType,c.startAt,c.endAt)))},t}(Fv),fj=function(i){function t(e,o){var a=this;return(a=i.call(this)||this).jc=e,a.zc=o,a.type="orderBy",a}return(0,x.ZT)(t,i),t.prototype._apply=function(e){var a,f,o=function(a,c,f){if(null!==a.startAt)throw new ee(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new ee(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var m=new lp(c,f);return function(_,w){if(null===dx(_)){var C=hx(_);null!==C&&eV(0,C,w.field)}}(a,m),m}(e._query,this.jc,this.zc);return new si(e.firestore,e.converter,(f=(a=e._query).explicitOrderBy.concat([o]),new wa(a.path,a.collectionGroup,f,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)))},t}(Fv),WL=function(i){function t(e,o,a){var c=this;return(c=i.call(this)||this).type=e,c.Hc=o,c.Jc=a,c}return(0,x.ZT)(t,i),t.prototype._apply=function(e){return new si(e.firestore,e.converter,I1(e._query,this.Hc,this.Jc))},t}(Fv),KL=function(i){function t(e,o,a){var c=this;return(c=i.call(this)||this).type=e,c.Yc=o,c.Xc=a,c}return(0,x.ZT)(t,i),t.prototype._apply=function(e){var a,c,o=JL(e,this.type,this.Yc,this.Xc);return new si(e.firestore,e.converter,(c=o,new wa((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,c,a.endAt)))},t}(Fv),QL=function(i){function t(e,o,a){var c=this;return(c=i.call(this)||this).type=e,c.Yc=o,c.Xc=a,c}return(0,x.ZT)(t,i),t.prototype._apply=function(e){var a,c,o=JL(e,this.type,this.Yc,this.Xc);return new si(e.firestore,e.converter,(c=o,new wa((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,c)))},t}(Fv);function JL(i,t,e,o){if(e[0]=(0,At.m9)(e[0]),e[0]instanceof xv)return function(c,f,m,_,w){if(!_)throw new ee(N.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+m+"().");for(var C=[],S=0,T=cp(c);S<T.length;S++){var I=T[S];if(I.field.isKeyField())C.push(ED(f,_.key));else{var F=_.data.field(I.field);if(sx(F))throw new ee(N.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===F){var j=I.field.canonicalString();throw new ee(N.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+j+"' (used as the orderBy) does not exist.")}C.push(F)}}return new gv(C,w)}(i._query,i.firestore._databaseId,t,e[0]._document,o);var a=ld(i.firestore);return function(c,f,m,_,w,C){var S=c.explicitOrderBy;if(w.length>S.length)throw new ee(N.INVALID_ARGUMENT,"Too many arguments provided to "+_+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var T=[],I=0;I<w.length;I++){var F=w[I];if(S[I].field.isKeyField()){if("string"!=typeof F)throw new ee(N.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+_+"(), but got a "+typeof F);if(!fx(c)&&-1!==F.indexOf("/"))throw new ee(N.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+_+"() must be a plain document ID, but '"+F+"' contains a slash.");var j=c.path.child(It.fromString(F));if(!ze.isDocumentKey(j))throw new ee(N.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+_+"() must result in a valid document path, but '"+j+"' is not because it contains an odd number of segments.");var q=new ze(j);T.push(ED(f,q))}else{var ce=HL(m,_,F);T.push(ce)}}return new gv(T,C)}(i._query,i.firestore._databaseId,a,t,e,o)}function ZL(i,t,e){if("string"==typeof(e=(0,At.m9)(e))){if(""===e)throw new ee(N.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!fx(t)&&-1!==e.indexOf("/"))throw new ee(N.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var o=t.path.child(It.fromString(e));if(!ze.isDocumentKey(o))throw new ee(N.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+o+"' is not because it has an odd number of segments ("+o.length+").");return ED(i,new ze(o))}if(e instanceof fn)return ED(i,e._key);throw new ee(N.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+JD(e)+".")}function XL(i,t){if(!Array.isArray(i)||0===i.length)throw new ee(N.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(i.length>10)throw new ee(N.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function eV(i,t,e){if(!e.isEqual(t))throw new ee(N.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+e.toString()+"' instead.")}var uO=function(){function i(){}return i.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Xc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Fn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(sp(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Le()}},i.prototype.convertObject=function(t,e){var o=this,a={};return Jc(t.fields,function(c,f){a[c]=o.convertValue(f,e)}),a},i.prototype.convertGeoPoint=function(t){return new XD(Fn(t.latitude),Fn(t.longitude))},i.prototype.convertArray=function(t,e){var o=this;return(t.values||[]).map(function(a){return o.convertValue(a,e)})},i.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var o=_1(t);return null==o?null:this.convertValue(o,e);case"estimate":return this.convertTimestamp(dv(t));default:return null}},i.prototype.convertTimestamp=function(t){var e=Hl(t);return new ri(e.seconds,e.nanos)},i.prototype.convertDocumentKey=function(t,e){var o=It.fromString(t);qe(fP(o));var a=new QD(o.get(1),o.get(3)),c=new ze(o.popFirst(5));return a.isEqual(e)||St("Document "+c+" contains a document reference within a different database ("+a.projectId+"/"+a.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),c},i}();function rS(i,t,e){return i?e&&(e.merge||e.mergeFields)?i.toFirestore(t,e):i.toFirestore(t):t}var pj=function(i){function t(e){var o=this;return(o=i.call(this)||this).firestore=e,o}return(0,x.ZT)(t,i),t.prototype.convertBytes=function(e){return new sd(e)},t.prototype.convertReference=function(e){var o=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,o)},t}(uO),gj=function(){function i(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=ld(t)}return i.prototype.set=function(t,e,o){this._verifyNotCommitted();var a=eu(t,this._firestore),c=rS(a.converter,e,o),f=eS(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,o);return this._mutations.push(f.toMutation(a._key,Dr.none())),this},i.prototype.update=function(t,e,o){for(var a=[],c=3;c<arguments.length;c++)a[c-3]=arguments[c];this._verifyNotCommitted();var f,m=eu(t,this._firestore);return f="string"==typeof(e=(0,At.m9)(e))||e instanceof us?oO(this._dataReader,"WriteBatch.update",m._key,e,o,a):iO(this._dataReader,"WriteBatch.update",m._key,e),this._mutations.push(f.toMutation(m._key,Dr.exists(!0))),this},i.prototype.delete=function(t){this._verifyNotCommitted();var e=eu(t,this._firestore);return this._mutations=this._mutations.concat(new bv(e._key,Dr.none())),this},i.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},i.prototype._verifyNotCommitted=function(){if(this._committed)throw new ee(N.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},i}();function eu(i,t){if((i=(0,At.m9)(i)).firestore!==t)throw new ee(N.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}var dd=function(i){function t(e){var o=this;return(o=i.call(this)||this).firestore=e,o}return(0,x.ZT)(t,i),t.prototype.convertBytes=function(e){return new sd(e)},t.prototype.convertReference=function(e){var o=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,o)},t}(uO);function tV(i,t,e){for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];i=Rt(i,fn);var c=Rt(i.firestore,Tn),f=ld(c);return kv(c,[("string"==typeof(t=(0,At.m9)(t))||t instanceof us?oO(f,"updateDoc",i._key,t,e,o):iO(f,"updateDoc",i._key,t)).toMutation(i._key,Dr.exists(!0))])}function nV(i){for(var t,e,o,a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];i=(0,At.m9)(i);var f={includeMetadataChanges:!1},m=0;"object"!=typeof a[m]||Op(a[m])||(f=a[m],m++);var _,w,C,S={includeMetadataChanges:f.includeMetadataChanges};if(Op(a[m])){var T=a[m];a[m]=null===(t=T.next)||void 0===t?void 0:t.bind(T),a[m+1]=null===(e=T.error)||void 0===e?void 0:e.bind(T),a[m+2]=null===(o=T.complete)||void 0===o?void 0:o.bind(T)}if(i instanceof fn)w=Rt(i.firestore,Tn),C=up(i._key.path),_={next:function(j){a[m]&&a[m](cO(w,i,j))},error:a[m+1],complete:a[m+2]};else{var I=Rt(i,si);w=Rt(I.firestore,Tn),C=I._query;var F=new dd(w);_={next:function(j){a[m]&&a[m](new Zl(w,F,I,j))},error:a[m+1],complete:a[m+2]},YL(i._query)}return function(j,q,ce,ve){var Ce=this,xe=new WD(ve),ke=new Gx(q,xe,ce);return j.asyncQueue.enqueueAndForget(function(){return(0,x.mG)(Ce,void 0,void 0,function(){var st;return(0,x.Jh)(this,function(Tt){switch(Tt.label){case 0:return st=jx,[4,xp(j)];case 1:return[2,st.apply(void 0,[Tt.sent(),ke])]}})})}),function(){xe.Wo(),j.asyncQueue.enqueueAndForget(function(){return(0,x.mG)(Ce,void 0,void 0,function(){var st;return(0,x.Jh)(this,function(Tt){switch(Tt.label){case 0:return st=Ux,[4,xp(j)];case 1:return[2,st.apply(void 0,[Tt.sent(),ke])]}})})})}}(rr(w),C,S,_)}function kv(i,t){return function(e,o){var a=this,c=new Mr;return e.asyncQueue.enqueueAndForget(function(){return(0,x.mG)(a,void 0,void 0,function(){var f;return(0,x.Jh)(this,function(m){switch(m.label){case 0:return f=M3,[4,eO(e)];case 1:return[2,f.apply(void 0,[m.sent(),o,c])]}})})}),c.promise}(rr(i),t)}function cO(i,t,e){var o=e.docs.get(t._key),a=new dd(i);return new Sa(i,a,t._key,o,new cd(e.hasPendingWrites,e.fromCache),t.converter)}var mj=function(i){function t(e,o){var a=this;return(a=i.call(this,e,o)||this)._firestore=e,a}return(0,x.ZT)(t,i),t.prototype.get=function(e){var o=this,a=eu(e,this._firestore),c=new dd(this._firestore);return i.prototype.get.call(this,e).then(function(f){return new Sa(o._firestore,c,a._key,f._document,new cd(!1,!1),a.converter)})},t}(function(){function i(t,e){this._firestore=t,this._transaction=e,this._dataReader=ld(t)}return i.prototype.get=function(t){var e=this,o=eu(t,this._firestore),a=new pj(this._firestore);return this._transaction.lookup([o._key]).then(function(c){if(!c||1!==c.length)return Le();var f=c[0];if(f.isFoundDocument())return new xv(e._firestore,a,f.key,f,o.converter);if(f.isNoDocument())return new xv(e._firestore,a,o._key,null,o.converter);throw Le()})},i.prototype.set=function(t,e,o){var a=eu(t,this._firestore),c=rS(a.converter,e,o),f=eS(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,o);return this._transaction.set(a._key,f),this},i.prototype.update=function(t,e,o){for(var a=[],c=3;c<arguments.length;c++)a[c-3]=arguments[c];var f,m=eu(t,this._firestore);return f="string"==typeof(e=(0,At.m9)(e))||e instanceof us?oO(this._dataReader,"Transaction.update",m._key,e,o,a):iO(this._dataReader,"Transaction.update",m._key,e),this._transaction.update(m._key,f),this},i.prototype.delete=function(t){var e=eu(t,this._firestore);return this._transaction.delete(e._key),this},i}());function rV(){if("undefined"==typeof Uint8Array)throw new ee(N.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function iV(){if("undefined"==typeof atob)throw new ee(N.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var oV=function(){function i(t){this._delegate=t}return i.fromBase64String=function(t){return iV(),new i(sd.fromBase64String(t))},i.fromUint8Array=function(t){return rV(),new i(sd.fromUint8Array(t))},i.prototype.toBase64=function(){return iV(),this._delegate.toBase64()},i.prototype.toUint8Array=function(){return rV(),this._delegate.toUint8Array()},i.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},i.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},i}(),yj=function(){function i(){}return i.prototype.enableIndexedDbPersistence=function(t,e){return function(o,a){LL(o=Rt(o,Tn));var c=rr(o),f=o._freezeSettings(),m=new Jx;return PL(c,m,new mL(m,f.cacheSizeBytes,null==a?void 0:a.forceOwnership))}(t._delegate,{forceOwnership:e})},i.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(e){LL(e=Rt(e,Tn));var o=rr(e),a=e._freezeSettings(),c=new Jx;return PL(o,c,new G3(c,a.cacheSizeBytes))}(t._delegate)},i.prototype.clearIndexedDbPersistence=function(t){return function(e){var o=this;if(e._initialized&&!e._terminated)throw new ee(N.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var a=new Mr;return e._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,x.mG)(o,void 0,void 0,function(){var c;return(0,x.Jh)(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,function(m){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(w){switch(w.label){case 0:return yp.yt()?[4,yp.delete(m+"main")]:[2,Promise.resolve()];case 1:return w.sent(),[2]}})})}(Ix(e._databaseId,e._persistenceKey))];case 1:return f.sent(),a.resolve(),[3,3];case 2:return c=f.sent(),a.reject(c),[3,3];case 3:return[2]}})})}),a.promise}(t._delegate)},i}(),sV=function(){function i(t,e,o){var a=this;this._delegate=e,this.Zc=o,this.INTERNAL={delete:function(){return a.terminate()}},t instanceof QD||(this.tu=t)}return Object.defineProperty(i.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),i.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Fo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},i.prototype.useEmulator=function(t,e,o){void 0===o&&(o={}),function(a,c,f,m){var _;void 0===m&&(m={});var w=(a=Rt(a,Rv))._getSettings();if("firestore.googleapis.com"!==w.host&&w.host!==c&&Fo("Host has been set in both settings() and useEmulator(), emulator host will be used"),a._setSettings(Object.assign(Object.assign({},w),{host:c+":"+f,ssl:!1})),m.mockUserToken){var C,S;if("string"==typeof m.mockUserToken)C=m.mockUserToken,S=pr.MOCK_USER;else{C=(0,At.Sg)(m.mockUserToken,null===(_=a._app)||void 0===_?void 0:_.options.projectId);var T=m.mockUserToken.sub||m.mockUserToken.user_id;if(!T)throw new ee(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new pr(T)}a._credentials=new K3(new SL(C,S))}}(this._delegate,t,e,o)},i.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,x.mG)(e,void 0,void 0,function(){var o,a;return(0,x.Jh)(this,function(c){switch(c.label){case 0:return[4,bL(t)];case 1:return o=c.sent(),[4,wL(t)];case 2:return a=c.sent(),[2,(o.setNetworkEnabled(!0),f=a,m=De(f),m.Or.delete(0),Av(m))]}var f,m})})})}(rr(Rt(this._delegate,Tn)))},i.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,x.mG)(e,void 0,void 0,function(){var o,a;return(0,x.Jh)(this,function(c){switch(c.label){case 0:return[4,bL(t)];case 1:return o=c.sent(),[4,wL(t)];case 2:return a=c.sent(),[2,(o.setNetworkEnabled(!1),function(f){return(0,x.mG)(this,void 0,void 0,function(){var m;return(0,x.Jh)(this,function(_){switch(_.label){case 0:return(m=De(f)).Or.add(0),[4,Tp(m)];case 1:return _.sent(),m.Br.set("Offline"),[2]}})})}(a))]}})})})}(rr(Rt(this._delegate,Tn)))},i.prototype.enablePersistence=function(t){var e=!1,o=!1;return t&&ML("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",o=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,o)},i.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},i.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},i.prototype.waitForPendingWrites=function(){return function(t){var e=this,o=new Mr;return t.asyncQueue.enqueueAndForget(function(){return(0,x.mG)(e,void 0,void 0,function(){var a;return(0,x.Jh)(this,function(c){switch(c.label){case 0:return a=x3,[4,eO(t)];case 1:return[2,a.apply(void 0,[c.sent(),o])]}})})}),o.promise}(rr(Rt(this._delegate,Tn)))},i.prototype.onSnapshotsInSync=function(t){return o=t,function(a,c){var f=this,m=new WD(c);return a.asyncQueue.enqueueAndForget(function(){return(0,x.mG)(f,void 0,void 0,function(){var _;return(0,x.Jh)(this,function(w){switch(w.label){case 0:return _=function(C,S){De(C).Gr.add(S),S.next()},[4,xp(a)];case 1:return[2,_.apply(void 0,[w.sent(),m])]}})})}),function(){m.Wo(),a.asyncQueue.enqueueAndForget(function(){return(0,x.mG)(f,void 0,void 0,function(){var _;return(0,x.Jh)(this,function(w){switch(w.label){case 0:return _=function(C,S){De(C).Gr.delete(S)},[4,xp(a)];case 1:return[2,_.apply(void 0,[w.sent(),m])]}})})})}}(rr(Rt(this._delegate,Tn)),Op(o)?o:{next:o});var o},Object.defineProperty(i.prototype,"app",{get:function(){if(!this.tu)throw new ee(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),i.prototype.collection=function(t){try{return new sS(this,OL(this._delegate,t))}catch(e){throw jr(e,"collection()","Firestore.collection()")}},i.prototype.doc=function(t){try{return new hd(this,ZD(this._delegate,t))}catch(e){throw jr(e,"doc()","Firestore.doc()")}},i.prototype.collectionGroup=function(t){try{return new Lv(this,function(e,o){if(e=Rt(e,Rv),tO("collectionGroup","collection id",o),o.indexOf("/")>=0)throw new ee(N.INVALID_ARGUMENT,"Invalid collection ID '"+o+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new si(e,null,(a=o,new wa(It.emptyPath(),a)));var a}(this._delegate,t))}catch(e){throw jr(e,"collectionGroup()","Firestore.collectionGroup()")}},i.prototype.runTransaction=function(t){var o,e=this;return function(c,f){var m=this,_=new Mr;return c.asyncQueue.enqueueAndForget(function(){return(0,x.mG)(m,void 0,void 0,function(){var w;return(0,x.Jh)(this,function(C){switch(C.label){case 0:return[4,(S=c,KD(S).then(function(T){return T.datastore}))];case 1:return w=C.sent(),new q3(c.asyncQueue,w,f,_).run(),[2]}var S})})}),_.promise}(rr(o=this._delegate),function(c){return function(o){return t(new aV(e,o))}(new mj(o,c))})},i.prototype.batch=function(){var t=this;return rr(this._delegate),new lV(new gj(this._delegate,function(e){return kv(t._delegate,e)}))},i.prototype.loadBundle=function(t){throw new ee(N.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},i.prototype.namedQuery=function(t){throw new ee(N.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},i}(),iS=function(i){function t(e){var o=this;return(o=i.call(this)||this).firestore=e,o}return(0,x.ZT)(t,i),t.prototype.convertBytes=function(e){return new oV(new sd(e))},t.prototype.convertReference=function(e){var o=this.convertDocumentKey(e,this.firestore._databaseId);return hd.eu(o,this.firestore,null)},t}(uO),aV=function(){function i(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new iS(t)}return i.prototype.get=function(t){var e=this,o=fd(t);return this._delegate.get(o).then(function(a){return new Nv(e._firestore,new Sa(e._firestore._delegate,e._userDataWriter,a._key,a._document,a.metadata,o.converter))})},i.prototype.set=function(t,e,o){var a=fd(t);return o?(nO("Transaction.set",o),this._delegate.set(a,e,o)):this._delegate.set(a,e),this},i.prototype.update=function(t,e,o){for(var a,c=[],f=3;f<arguments.length;f++)c[f-3]=arguments[f];var m=fd(t);return 2===arguments.length?this._delegate.update(m,e):(a=this._delegate).update.apply(a,(0,x.ev)([m,e,o],c)),this},i.prototype.delete=function(t){var e=fd(t);return this._delegate.delete(e),this},i}(),lV=function(){function i(t){this._delegate=t}return i.prototype.set=function(t,e,o){var a=fd(t);return o?(nO("WriteBatch.set",o),this._delegate.set(a,e,o)):this._delegate.set(a,e),this},i.prototype.update=function(t,e,o){for(var a,c=[],f=3;f<arguments.length;f++)c[f-3]=arguments[f];var m=fd(t);return 2===arguments.length?this._delegate.update(m,e):(a=this._delegate).update.apply(a,(0,x.ev)([m,e,o],c)),this},i.prototype.delete=function(t){var e=fd(t);return this._delegate.delete(e),this},i.prototype.commit=function(){return this._delegate.commit()},i}(),oS=function(){function i(t,e,o){this._firestore=t,this._userDataWriter=e,this._delegate=o}return i.prototype.fromFirestore=function(t,e){var o=new Ov(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Pv(this._firestore,o),null!=e?e:{})},i.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},i.nu=function(t,e){var o=i.su,a=o.get(t);a||(a=new WeakMap,o.set(t,a));var c=a.get(e);return c||(c=new i(t,new iS(t),e),a.set(e,c)),c},i}();oS.su=new WeakMap;var hd=function(){function i(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new iS(t)}return i.iu=function(t,e,o){if(t.length%2!=0)throw new ee(N.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new i(e,new fn(e._delegate,o,new ze(t)))},i.eu=function(t,e,o){return new i(e,new fn(e._delegate,o,t))},Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new sS(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),i.prototype.collection=function(t){try{return new sS(this.firestore,OL(this._delegate,t))}catch(e){throw jr(e,"collection()","DocumentReference.collection()")}},i.prototype.isEqual=function(t){return(t=(0,At.m9)(t))instanceof fn&&FL(this._delegate,t)},i.prototype.set=function(t,e){e=nO("DocumentReference.set",e);try{return function(o,a,c){o=Rt(o,fn);var f=Rt(o.firestore,Tn),m=rS(o.converter,a,c);return kv(f,[eS(ld(f),"setDoc",o._key,m,null!==o.converter,c).toMutation(o._key,Dr.none())])}(this._delegate,t,e)}catch(o){throw jr(o,"setDoc()","DocumentReference.set()")}},i.prototype.update=function(t,e){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];try{return 1===arguments.length?tV(this._delegate,t):tV.apply(void 0,(0,x.ev)([this._delegate,t,e],o))}catch(c){throw jr(c,"updateDoc()","DocumentReference.update()")}},i.prototype.delete=function(){return kv(Rt((t=this._delegate).firestore,Tn),[new bv(t._key,Dr.none())]);var t},i.prototype.onSnapshot=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var a=uV(e),c=cV(e,function(f){return new Nv(t.firestore,new Sa(t.firestore._delegate,t._userDataWriter,f._key,f._document,f.metadata,t._delegate.converter))});return nV(this._delegate,a,c)},i.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(o){o=Rt(o,fn);var a=Rt(o.firestore,Tn),c=rr(a),f=new dd(a);return function(m,_){var w=this,C=new Mr;return m.asyncQueue.enqueueAndForget(function(){return(0,x.mG)(w,void 0,void 0,function(){var S;return(0,x.Jh)(this,function(T){switch(T.label){case 0:return S=function(I,F,j){return(0,x.mG)(this,void 0,void 0,function(){var q,ce;return(0,x.Jh)(this,function(ve){switch(ve.label){case 0:return ve.trys.push([0,2,,3]),[4,(Ce=I,xe=F,ke=De(Ce),ke.persistence.runTransaction("read document","readonly",function(st){return ke.Mn.mn(st,xe)}))];case 1:return(ce=ve.sent()).isFoundDocument()?j.resolve(ce):ce.isNoDocument()?j.resolve(null):j.reject(new ee(N.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return q=ve.sent(),ce=Ip(q,"Failed to get document '"+F+" from cache"),j.reject(ce),[3,3];case 3:return[2]}var Ce,xe,ke})})},[4,Xx(m)];case 1:return[2,S.apply(void 0,[T.sent(),_,C])]}})})}),C.promise}(c,o._key).then(function(m){return new Sa(a,f,o._key,m,new cd(null!==m&&m.hasLocalMutations,!0),o.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(o){o=Rt(o,fn);var a=Rt(o.firestore,Tn);return CL(rr(a),o._key,{source:"server"}).then(function(c){return cO(a,o,c)})}(this._delegate):function(o){o=Rt(o,fn);var a=Rt(o.firestore,Tn);return CL(rr(a),o._key).then(function(c){return cO(a,o,c)})}(this._delegate)).then(function(o){return new Nv(e.firestore,new Sa(e.firestore._delegate,e._userDataWriter,o._key,o._document,o.metadata,e._delegate.converter))})},i.prototype.withConverter=function(t){return new i(this.firestore,this._delegate.withConverter(t?oS.nu(this.firestore,t):null))},i}();function jr(i,t,e){return i.message=i.message.replace(t,e),i}function uV(i){for(var t=0,e=i;t<e.length;t++){var o=e[t];if("object"==typeof o&&!Op(o))return o}return{}}function cV(i,t){var e,o,a;return{next:function(c){a.next&&a.next(t(c))},error:null===(e=(a=Op(i[0])?i[0]:Op(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]}).error)||void 0===e?void 0:e.bind(a),complete:null===(o=a.complete)||void 0===o?void 0:o.bind(a)}}var Nv=function(){function i(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(i.prototype,"ref",{get:function(){return new hd(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),i.prototype.data=function(t){return this._delegate.data(t)},i.prototype.get=function(t,e){return this._delegate.get(t,e)},i.prototype.isEqual=function(t){return qL(this._delegate,t._delegate)},i}(),Pv=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,x.ZT)(t,i),t.prototype.data=function(e){return this._delegate.data(e)},t}(Nv),Lv=function(){function i(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new iS(t)}return i.prototype.where=function(t,e,o){try{return new i(this.firestore,Xl(this._delegate,(f=o,m=e,_=nS("where",a=t),new hj(_,m,f))))}catch(a){throw jr(a,/(orderBy|where)\(\)/,"Query.$1()")}var a,f,m,_},i.prototype.orderBy=function(t,e){try{return new i(this.firestore,Xl(this._delegate,function(o,a){void 0===a&&(a="asc");var c=a,f=nS("orderBy",o);return new fj(f,c)}(t,e)))}catch(o){throw jr(o,/(orderBy|where)\(\)/,"Query.$1()")}},i.prototype.limit=function(t){try{return new i(this.firestore,Xl(this._delegate,(RL("limit",e=t),new WL("limit",e,"F"))))}catch(e){throw jr(e,"limit()","Query.limit()")}var e},i.prototype.limitToLast=function(t){try{return new i(this.firestore,Xl(this._delegate,(RL("limitToLast",e=t),new WL("limitToLast",e,"L"))))}catch(e){throw jr(e,"limitToLast()","Query.limitToLast()")}var e},i.prototype.startAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,Xl(this._delegate,function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return new KL("startAt",o,!0)}.apply(void 0,t)))}catch(o){throw jr(o,"startAt()","Query.startAt()")}},i.prototype.startAfter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,Xl(this._delegate,function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return new KL("startAfter",o,!1)}.apply(void 0,t)))}catch(o){throw jr(o,"startAfter()","Query.startAfter()")}},i.prototype.endBefore=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,Xl(this._delegate,function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return new QL("endBefore",o,!0)}.apply(void 0,t)))}catch(o){throw jr(o,"endBefore()","Query.endBefore()")}},i.prototype.endAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,Xl(this._delegate,function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return new QL("endAt",o,!1)}.apply(void 0,t)))}catch(o){throw jr(o,"endAt()","Query.endAt()")}},i.prototype.isEqual=function(t){return kL(this._delegate,t._delegate)},i.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(o){o=Rt(o,si);var a=Rt(o.firestore,Tn),c=rr(a),f=new dd(a);return function(m,_){var w=this,C=new Mr;return m.asyncQueue.enqueueAndForget(function(){return(0,x.mG)(w,void 0,void 0,function(){var S;return(0,x.Jh)(this,function(T){switch(T.label){case 0:return S=function(I,F,j){return(0,x.mG)(this,void 0,void 0,function(){var q,ce,ve,Ce,xe;return(0,x.Jh)(this,function(ke){switch(ke.label){case 0:return ke.trys.push([0,2,,3]),[4,GD(I,F,!0)];case 1:return xe=ke.sent(),q=new uL(F,xe.Bn),ce=q._o(xe.documents),ve=q.applyChanges(ce,!1),j.resolve(ve.snapshot),[3,3];case 2:return Ce=ke.sent(),xe=Ip(Ce,"Failed to execute query '"+F+" against cache"),j.reject(xe),[3,3];case 3:return[2]}})})},[4,Xx(m)];case 1:return[2,S.apply(void 0,[T.sent(),_,C])]}})})}),C.promise}(c,o._query).then(function(m){return new Zl(a,f,o,m)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(o){o=Rt(o,si);var a=Rt(o.firestore,Tn),c=rr(a),f=new dd(a);return EL(c,o._query,{source:"server"}).then(function(m){return new Zl(a,f,o,m)})}(this._delegate):function(o){o=Rt(o,si);var a=Rt(o.firestore,Tn),c=rr(a),f=new dd(a);return YL(o._query),EL(c,o._query).then(function(m){return new Zl(a,f,o,m)})}(this._delegate)).then(function(o){return new dO(e.firestore,new Zl(e.firestore._delegate,e._userDataWriter,e._delegate,o._snapshot))})},i.prototype.onSnapshot=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var a=uV(e),c=cV(e,function(f){return new dO(t.firestore,new Zl(t.firestore._delegate,t._userDataWriter,t._delegate,f._snapshot))});return nV(this._delegate,a,c)},i.prototype.withConverter=function(t){return new i(this.firestore,this._delegate.withConverter(t?oS.nu(this.firestore,t):null))},i}(),vj=function(){function i(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(i.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"doc",{get:function(){return new Pv(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),i}(),dO=function(){function i(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(i.prototype,"query",{get:function(){return new Lv(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Pv(t._firestore,e)})},enumerable:!1,configurable:!0}),i.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(o){return new vj(e._firestore,o)})},i.prototype.forEach=function(t,e){var o=this;this._delegate.forEach(function(a){t.call(e,new Pv(o._firestore,a))})},i.prototype.isEqual=function(t){return qL(this._delegate,t._delegate)},i}(),sS=function(i){function t(e,o){var a=this;return(a=i.call(this,e,o)||this).firestore=e,a._delegate=o,a}return(0,x.ZT)(t,i),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new hd(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new hd(this.firestore,void 0===e?ZD(this._delegate):ZD(this._delegate,e))}catch(o){throw jr(o,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var a,c,f,m,_,o=this;return(a=this._delegate,c=e,f=Rt(a.firestore,Tn),m=ZD(a),_=rS(a.converter,c),kv(f,[eS(ld(a.firestore),"addDoc",m._key,_,null!==a.converter,{}).toMutation(m._key,Dr.exists(!1))]).then(function(){return m})).then(function(a){return new hd(o.firestore,a)})},t.prototype.isEqual=function(e){return FL(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?oS.nu(this.firestore,e):null))},t}(Lv);function fd(i){return Rt(i,fn)}var bj=function(){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(us.bind.apply(us,(0,x.ev)([void 0],t)))}return i.documentId=function(){return new i(ko.keyField().canonicalString())},i.prototype.isEqual=function(t){return(t=(0,At.m9)(t))instanceof us&&this._delegate._internalPath.isEqual(t._internalPath)},i}(),wj=function(){function i(t){this._delegate=t}return i.serverTimestamp=function(){var t=new oj("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new i(t)},i.delete=function(){var t=new rO("deleteField");return t._methodName="FieldValue.delete",new i(t)},i.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new sj("arrayUnion",a)}.apply(void 0,t);return o._methodName="FieldValue.arrayUnion",new i(o)},i.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new aj("arrayRemove",a)}.apply(void 0,t);return o._methodName="FieldValue.arrayRemove",new i(o)},i.increment=function(t){var e=new lj("increment",t);return e._methodName="FieldValue.increment",new i(e)},i.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},i}(),Cj=P(6034),Ej={Firestore:sV,GeoPoint:XD,Timestamp:ri,Blob:oV,Transaction:aV,WriteBatch:lV,DocumentReference:hd,DocumentSnapshot:Nv,Query:Lv,QueryDocumentSnapshot:Pv,QuerySnapshot:dO,CollectionReference:sS,FieldPath:bj,FieldValue:wj,setLogLevel:function(i){je.setLogLevel(i)},CACHE_SIZE_UNLIMITED:-1};!function(i){i.INTERNAL.registerComponent(new Cj.wA("firestore",function(o){return t=o.getProvider("app").getImmediate(),e=o.getProvider("auth-internal"),new sV(t,new Tn(t,e),new yj);var t,e},"PUBLIC").setServiceProps(Object.assign({},Ej))),i.registerVersion("@firebase/firestore","2.4.0")}(n1.Z),P(9673);const aS=new h.OlP("angularfire2.auth.use-emulator");function yV(i,t){return function(i,t=lh.z){return new nn.y(e=>{let o;return null!=t?t.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},e)}):o=i.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=o&&o()}})}(i,t)}function fO(i,t){return yV(i,t).pipe((0,Qe.U)(e=>({payload:e,type:"query"})))}function lS(i,t){return fO(i,t).pipe(ho(void 0),nm(),(0,Qe.U)(([e,o])=>{const a=o.payload.docChanges(),c=a.map(f=>({type:f.type,payload:f}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((f,m)=>{const _=a.find(C=>C.doc.ref.isEqual(f.ref)),w=null==e?void 0:e.payload.docs.find(C=>C.ref.isEqual(f.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(f.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(f.metadata)||c.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:f}})}),c}))}function _V(i,t,e){return lS(i,e).pipe(Pd((o,a)=>function(i,t,e){return t.forEach(o=>{e.indexOf(o.type)>-1&&(i=function(i,t){switch(t.type){case"added":if(!i[t.newIndex]||!i[t.newIndex].doc.ref.isEqual(t.doc.ref))return pO(i,t.newIndex,0,t);break;case"modified":if(null==i[t.oldIndex]||i[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=i.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return pO(i,t.newIndex,1,t)}break;case"removed":if(i[t.oldIndex]&&i[t.oldIndex].doc.ref.isEqual(t.doc.ref))return pO(i,t.oldIndex,1)}return i}(i,o))}),i}(o,a.map(c=>c.payload),t),[]),Xg(),(0,Qe.U)(o=>o.map(a=>({type:a.type,payload:a}))))}function pO(i,t,e,...o){const a=i.slice();return a.splice(t,e,...o),a}function vV(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class bV{constructor(t,e,o){this.ref=t,this.query=e,this.afs=o}stateChanges(t){let e=lS(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Qe.U)(o=>o.filter(a=>t.indexOf(a.type)>-1)))),e.pipe(ho(void 0),nm(),br(([o,a])=>a.length>0||!o),(0,Qe.U)(([o,a])=>a),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Pd((e,o)=>[...e,...o],[]))}snapshotChanges(t){const e=vV(t);return _V(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return fO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(e=>e.payload.docs.map(o=>t.idField?Object.assign(Object.assign({},o.data()),{[t.idField]:o.id}):o.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,Gt.D)(this.query.get(t)).pipe((0,Ls.QV)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new wV(this.ref.doc(t),this.afs)}}class wV{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const o=this.ref.collection(t),{ref:a,query:c}=DV(o,e);return new bV(a,c,this.afs)}snapshotChanges(){return function(i,t){return yV(i,t).pipe(ho(void 0),nm(),(0,Qe.U)(([e,o])=>o.exists?(null==e?void 0:e.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Qe.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Gt.D)(this.ref.get(t)).pipe((0,Ls.QV)(this.afs.schedulers.insideAngular))}}class xj{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?lS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(e=>e.filter(o=>t.indexOf(o.type)>-1)),br(e=>e.length>0),this.afs.keepUnstableUntilFirst):lS(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Pd((e,o)=>[...e,...o],[]))}snapshotChanges(t){const e=vV(t);return _V(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return fO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(o=>o.payload.docs.map(a=>t.idField?Object.assign({[t.idField]:a.id},a.data()):a.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,Gt.D)(this.query.get(t)).pipe((0,Ls.QV)(this.afs.schedulers.insideAngular))}}const gO=new h.OlP("angularfire2.enableFirestorePersistence"),mO=new h.OlP("angularfire2.firestore.persistenceSettings"),CV=new h.OlP("angularfire2.firestore.settings"),EV=new h.OlP("angularfire2.firestore.use-emulator");function DV(i,t=(e=>e)){return{query:t(i),ref:i}}let yO=(()=>{class i{constructor(e,o,a,c,f,m,_,w,C){this.schedulers=new Jt.HU(m),this.keepUnstableUntilFirst=(0,Jt.ss)(this.schedulers);const S=(0,Jt.on)(e,m,o);!TE.Z.auth&&C&&(0,Jt.yq)();const T=w;[this.firestore,this.persistenceEnabled$]=(0,Jt.sI)(`${S.name}.firestore`,"AngularFirestore",S,()=>{const I=m.runOutsideAngular(()=>S.firestore());if(c&&I.settings(c),T&&I.useEmulator(...T),a&&!function(i){return"server"===i}(f)){const F=()=>{try{return(0,Gt.D)(I.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(j){return"undefined"!=typeof console&&console.warn(j),(0,Pe.of)(!1)}};return[I,m.runOutsideAngular(F)]}return[I,(0,Pe.of)(!1)]},[c,T,a])}collection(e,o){let a;a="string"==typeof e?this.firestore.collection(e):e;const{ref:c,query:f}=DV(a,o),m=this.schedulers.ngZone.run(()=>c);return new bV(m,f,this)}collectionGroup(e,o){const a=o||(f=>f),c=this.firestore.collectionGroup(e);return new xj(a(c),this)}doc(e){let o;o="string"==typeof e?this.firestore.doc(e):e;const a=this.schedulers.ngZone.run(()=>o);return new wV(a,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(Jt.Dh),h.LFG(Jt.xv,8),h.LFG(gO,8),h.LFG(CV,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(mO,8),h.LFG(EV,8),h.LFG(aS,8))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(Jt.Dh),h.LFG(Jt.xv,8),h.LFG(gO,8),h.LFG(CV,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(mO,8),h.LFG(EV,8),h.LFG(aS,8))},token:i,providedIn:"any"}),i})(),Oj=(()=>{class i{static enablePersistence(e){return{ngModule:i,providers:[{provide:gO,useValue:!0},{provide:mO,useValue:e}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:[yO]}),i})();const Fj=["*",[["mat-toolbar-row"]]],kj=["*","mat-toolbar-row"],Nj=Xh(class{constructor(i){this._elementRef=i}});let Pj=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=h.lG2({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),i})(),Lj=(()=>{class i extends Nj{constructor(e,o,a){super(e),this._platform=o,this._document=a}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.SBq),h.Y36(Ot),h.Y36(J))},i.\u0275cmp=h.Xpm({type:i,selectors:[["mat-toolbar"]],contentQueries:function(e,o,a){if(1&e&&h.Suo(a,Pj,5),2&e){let c;h.iGM(c=h.CRH())&&(o._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,o){2&e&&h.ekj("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",0===o._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[h.qOj],ngContentSelectors:kj,decls:2,vars:0,template:function(e,o){1&e&&(h.F$t(Fj),h.Hsn(0),h.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),i})(),Vj=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[hn],hn]}),i})();var Bj=P(205),jj=P(8819);class SV{}class Ta{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const o=e.indexOf(":");if(o>0){const a=e.slice(0,o),c=a.toLowerCase(),f=e.slice(o+1).trim();this.maybeSetNormalizedName(a,c),this.headers.has(c)?this.headers.get(c).push(f):this.headers.set(c,[f])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let o=t[e];const a=e.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(a,o),this.maybeSetNormalizedName(e,a))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ta?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ta;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ta?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let o=t.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(t.name,e);const a=("a"===t.op?this.headers.get(e):void 0)||[];a.push(...o),this.headers.set(e,a);break;case"d":const c=t.value;if(c){let f=this.headers.get(e);if(!f)return;f=f.filter(m=>-1===c.indexOf(m)),0===f.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,f)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Uj{encodeKey(t){return MV(t)}encodeValue(t){return MV(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Gj=/%(\d[a-f0-9])/gi,zj={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function MV(i){return encodeURIComponent(i).replace(Gj,(t,e)=>{var o;return null!==(o=zj[e])&&void 0!==o?o:t})}function AV(i){return`${i}`}class tu{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Uj,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(i,t){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(a=>{const c=a.indexOf("="),[f,m]=-1==c?[t.decodeKey(a),""]:[t.decodeKey(a.slice(0,c)),t.decodeValue(a.slice(c+1))],_=e.get(f)||[];_.push(m),e.set(f,_)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const o=t.fromObject[e];this.map.set(e,Array.isArray(o)?o:[o])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(o=>{const a=t[o];Array.isArray(a)?a.forEach(c=>{e.push({param:o,value:c,op:"a"})}):e.push({param:o,value:a,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(o=>e+"="+this.encoder.encodeValue(o)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new tu({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(AV(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let o=this.map.get(t.param)||[];const a=o.indexOf(AV(t.value));-1!==a&&o.splice(a,1),o.length>0?this.map.set(t.param,o):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class $j{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function IV(i){return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer}function RV(i){return"undefined"!=typeof Blob&&i instanceof Blob}function xV(i){return"undefined"!=typeof FormData&&i instanceof FormData}class Vv{constructor(t,e,o,a){let c;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==o?o:null,c=a):c=o,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new Ta),this.context||(this.context=new $j),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=e;else{const m=e.indexOf("?");this.urlWithParams=e+(-1===m?"?":m<e.length-1?"&":"")+f}}else this.params=new tu,this.urlWithParams=e}serializeBody(){return null===this.body?null:IV(this.body)||RV(this.body)||xV(this.body)||function(i){return"undefined"!=typeof URLSearchParams&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof tu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xV(this.body)?null:RV(this.body)?this.body.type||null:IV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof tu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const o=t.method||this.method,a=t.url||this.url,c=t.responseType||this.responseType,f=void 0!==t.body?t.body:this.body,m=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,_=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let w=t.headers||this.headers,C=t.params||this.params;const S=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(w=Object.keys(t.setHeaders).reduce((T,I)=>T.set(I,t.setHeaders[I]),w)),t.setParams&&(C=Object.keys(t.setParams).reduce((T,I)=>T.set(I,t.setParams[I]),C)),new Vv(o,a,f,{params:C,headers:w,context:S,reportProgress:_,responseType:c,withCredentials:m})}}var Nn=(()=>((Nn=Nn||{})[Nn.Sent=0]="Sent",Nn[Nn.UploadProgress=1]="UploadProgress",Nn[Nn.ResponseHeader=2]="ResponseHeader",Nn[Nn.DownloadProgress=3]="DownloadProgress",Nn[Nn.Response=4]="Response",Nn[Nn.User=5]="User",Nn))();class uS extends class{constructor(t,e=200,o="OK"){this.headers=t.headers||new Ta,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||o,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=Nn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new uS({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function bO(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let cS=(()=>{class i{constructor(e){this.handler=e}request(e,o,a={}){let c;if(e instanceof Vv)c=e;else{let _,w;_=a.headers instanceof Ta?a.headers:new Ta(a.headers),a.params&&(w=a.params instanceof tu?a.params:new tu({fromObject:a.params})),c=new Vv(e,o,void 0!==a.body?a.body:null,{headers:_,context:a.context,params:w,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const f=(0,Pe.of)(c).pipe(wu(_=>this.handler.handle(_)));if(e instanceof Vv||"events"===a.observe)return f;const m=f.pipe(br(_=>_ instanceof uS));switch(a.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return m.pipe((0,Qe.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return m.pipe((0,Qe.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return m.pipe((0,Qe.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));case"json":default:return m.pipe((0,Qe.U)(_=>_.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,o={}){return this.request("DELETE",e,o)}get(e,o={}){return this.request("GET",e,o)}head(e,o={}){return this.request("HEAD",e,o)}jsonp(e,o){return this.request("JSONP",e,{params:(new tu).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,o={}){return this.request("OPTIONS",e,o)}patch(e,o,a={}){return this.request("PATCH",e,bO(a,o))}post(e,o,a={}){return this.request("POST",e,bO(a,o))}put(e,o,a={}){return this.request("PUT",e,bO(a,o))}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(SV))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();const eU=["*"];function LV(i){return Error(`Unable to find icon with the name "${i}"`)}function VV(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function BV(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class pd{constructor(t,e,o){this.url=t,this.svgText=e,this.options=o}}let dS=(()=>{class i{constructor(e,o,a,c){this._httpClient=e,this._sanitizer=o,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=a}addSvgIcon(e,o,a){return this.addSvgIconInNamespace("",e,o,a)}addSvgIconLiteral(e,o,a){return this.addSvgIconLiteralInNamespace("",e,o,a)}addSvgIconInNamespace(e,o,a,c){return this._addSvgIconConfig(e,o,new pd(a,null,c))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,o,a,c){const f=this._sanitizer.sanitize(h.q3G.HTML,a);if(!f)throw BV(a);return this._addSvgIconConfig(e,o,new pd("",f,c))}addSvgIconSet(e,o){return this.addSvgIconSetInNamespace("",e,o)}addSvgIconSetLiteral(e,o){return this.addSvgIconSetLiteralInNamespace("",e,o)}addSvgIconSetInNamespace(e,o,a){return this._addSvgIconSetConfig(e,new pd(o,null,a))}addSvgIconSetLiteralInNamespace(e,o,a){const c=this._sanitizer.sanitize(h.q3G.HTML,o);if(!c)throw BV(o);return this._addSvgIconSetConfig(e,new pd("",c,a))}registerFontClassAlias(e,o=e){return this._fontCssClassesByAlias.set(e,o),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const o=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,e);if(!o)throw VV(e);const a=this._cachedIconsByUrl.get(o);return a?(0,Pe.of)(hS(a)):this._loadSvgIconFromConfig(new pd(e,null)).pipe((0,Rn.b)(c=>this._cachedIconsByUrl.set(o,c)),(0,Qe.U)(c=>hS(c)))}getNamedSvgIcon(e,o=""){const a=jV(o,e);let c=this._svgIconConfigs.get(a);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(o,e),c)return this._svgIconConfigs.set(a,c),this._getSvgFromConfig(c);const f=this._iconSetConfigs.get(o);return f?this._getSvgFromIconSetConfigs(e,f):(0,Bj._)(LV(a))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,Pe.of)(hS(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Qe.U)(o=>hS(o)))}_getSvgFromIconSetConfigs(e,o){const a=this._extractIconWithNameFromAnySet(e,o);return a?(0,Pe.of)(a):G0(o.filter(f=>!f.svgText).map(f=>this._loadSvgIconSetFromConfig(f).pipe(Cs(m=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(h.q3G.RESOURCE_URL,f.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(w)),(0,Pe.of)(null)})))).pipe((0,Qe.U)(()=>{const f=this._extractIconWithNameFromAnySet(e,o);if(!f)throw LV(e);return f}))}_extractIconWithNameFromAnySet(e,o){for(let a=o.length-1;a>=0;a--){const c=o[a];if(c.svgText&&c.svgText.indexOf(e)>-1){const f=this._svgElementFromConfig(c),m=this._extractSvgIconFromSet(f,e,c.options);if(m)return m}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Rn.b)(o=>e.svgText=o),(0,Qe.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,Pe.of)(null):this._fetchIcon(e).pipe((0,Rn.b)(o=>e.svgText=o))}_extractSvgIconFromSet(e,o,a){const c=e.querySelector(`[id="${o}"]`);if(!c)return null;const f=c.cloneNode(!0);if(f.removeAttribute("id"),"svg"===f.nodeName.toLowerCase())return this._setSvgAttributes(f,a);if("symbol"===f.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(f),a);const m=this._svgElementFromString("<svg></svg>");return m.appendChild(f),this._setSvgAttributes(m,a)}_svgElementFromString(e){const o=this._document.createElement("DIV");o.innerHTML=e;const a=o.querySelector("svg");if(!a)throw Error("<svg> tag not found");return a}_toSvgElement(e){const o=this._svgElementFromString("<svg></svg>"),a=e.attributes;for(let c=0;c<a.length;c++){const{name:f,value:m}=a[c];"id"!==f&&o.setAttribute(f,m)}for(let c=0;c<e.childNodes.length;c++)e.childNodes[c].nodeType===this._document.ELEMENT_NODE&&o.appendChild(e.childNodes[c].cloneNode(!0));return o}_setSvgAttributes(e,o){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),o&&o.viewBox&&e.setAttribute("viewBox",o.viewBox),e}_fetchIcon(e){var o;const{url:a,options:c}=e,f=null!==(o=null==c?void 0:c.withCredentials)&&void 0!==o&&o;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==a)throw Error(`Cannot fetch icon from URL "${a}".`);const m=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,a);if(!m)throw VV(a);const _=this._inProgressUrlFetches.get(m);if(_)return _;const w=this._httpClient.get(m,{responseType:"text",withCredentials:f}).pipe(og(()=>this._inProgressUrlFetches.delete(m)),(0,jj.B)());return this._inProgressUrlFetches.set(m,w),w}_addSvgIconConfig(e,o,a){return this._svgIconConfigs.set(jV(e,o),a),this}_addSvgIconSetConfig(e,o){const a=this._iconSetConfigs.get(e);return a?a.push(o):this._iconSetConfigs.set(e,[o]),this}_svgElementFromConfig(e){if(!e.svgElement){const o=this._svgElementFromString(e.svgText);this._setSvgAttributes(o,e.options),e.svgElement=o}return e.svgElement}_getIconConfigFromResolvers(e,o){for(let a=0;a<this._resolvers.length;a++){const c=this._resolvers[a](o,e);if(c)return rU(c)?new pd(c.url,null,c.options):new pd(c,null)}}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(cS,8),h.LFG(La),h.LFG(J,8),h.LFG(h.qLn))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(cS,8),h.LFG(La),h.LFG(J,8),h.LFG(h.qLn))},token:i,providedIn:"root"}),i})();function hS(i){return i.cloneNode(!0)}function jV(i,t){return i+":"+t}function rU(i){return!(!i.url||!i.options)}const iU=Xh(class{constructor(i){this._elementRef=i}}),oU=new h.OlP("mat-icon-location",{providedIn:"root",factory:function(){const i=(0,h.f3M)(J),t=i?i.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),UV=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],lU=UV.map(i=>`[${i}]`).join(", "),uU=/^url\(['"]?#(.*?)['"]?\)$/;let cU=(()=>{class i extends iU{constructor(e,o,a,c,f){super(e),this._iconRegistry=o,this._location=c,this._errorHandler=f,this._inline=!1,this._currentIconFetch=fo.w.EMPTY,a||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=sn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const o=this._cleanupFontValue(e);o!==this._fontSet&&(this._fontSet=o,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const o=this._cleanupFontValue(e);o!==this._fontIcon&&(this._fontIcon=o,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const o=e.split(":");switch(o.length){case 1:return["",o[0]];case 2:return o;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const o=this._location.getPathname();o!==this._previousPath&&(this._previousPath=o,this._prependPathToReferences(o))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const o=e.querySelectorAll("style");for(let c=0;c<o.length;c++)o[c].textContent+=" ";const a=this._location.getPathname();this._previousPath=a,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(a),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let o=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();o--;){const a=e.childNodes[o];(1!==a.nodeType||"svg"===a.nodeName.toLowerCase())&&e.removeChild(a)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,o=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();o!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),o&&e.classList.add(o),this._previousFontSetClass=o),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const o=this._elementsWithExternalReferences;o&&o.forEach((a,c)=>{a.forEach(f=>{c.setAttribute(f.name,`url('${e}#${f.value}')`)})})}_cacheChildrenWithExternalReferences(e){const o=e.querySelectorAll(lU),a=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<o.length;c++)UV.forEach(f=>{const m=o[c],_=m.getAttribute(f),w=_?_.match(uU):null;if(w){let C=a.get(m);C||(C=[],a.set(m,C)),C.push({name:f,value:w[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[o,a]=this._splitIconName(e);o&&(this._svgNamespace=o),a&&(this._svgName=a),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(a,o).pipe(ki(1)).subscribe(c=>this._setSvgElement(c),c=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${o}:${a}! ${c.message}`))})}}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.SBq),h.Y36(dS),h.$8M("aria-hidden"),h.Y36(oU),h.Y36(h.qLn))},i.\u0275cmp=h.Xpm({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,o){2&e&&(h.uIk("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet),h.ekj("mat-icon-inline",o.inline)("mat-icon-no-color","primary"!==o.color&&"accent"!==o.color&&"warn"!==o.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[h.qOj],ngContentSelectors:eU,decls:1,vars:0,template:function(e,o){1&e&&(h.F$t(),h.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),i})(),dU=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[hn],hn]}),i})();const hU=[[["caption"]],[["colgroup"],["col"]]],fU=["caption","colgroup, col"];function DO(i){return class extends i{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=sn(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const Fp=new h.OlP("CDK_TABLE");let kp=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.Rgc))},i.\u0275dir=h.lG2({type:i,selectors:[["","cdkCellDef",""]]}),i})(),Np=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.Rgc))},i.\u0275dir=h.lG2({type:i,selectors:[["","cdkHeaderCellDef",""]]}),i})(),fS=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.Rgc))},i.\u0275dir=h.lG2({type:i,selectors:[["","cdkFooterCellDef",""]]}),i})();class yU{}const _U=DO(yU);let Ma=(()=>{class i extends _U{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const o=this._stickyEnd;this._stickyEnd=sn(e),this._hasStickyChanged=o!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(Fp,8))},i.\u0275dir=h.lG2({type:i,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,o,a){if(1&e&&(h.Suo(a,kp,5),h.Suo(a,Np,5),h.Suo(a,fS,5)),2&e){let c;h.iGM(c=h.CRH())&&(o.cell=c.first),h.iGM(c=h.CRH())&&(o.headerCell=c.first),h.iGM(c=h.CRH())&&(o.footerCell=c.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[h._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),h.qOj]}),i})();class SO{constructor(t,e){const o=e.nativeElement.classList;for(const a of t._columnCssClassName)o.add(a)}}let TO=(()=>{class i extends SO{constructor(e,o){super(e,o)}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(Ma),h.Y36(h.SBq))},i.\u0275dir=h.lG2({type:i,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[h.qOj]}),i})(),MO=(()=>{class i extends SO{constructor(e,o){var a;if(super(e,o),1===(null===(a=e._table)||void 0===a?void 0:a._elementRef.nativeElement.nodeType)){const c=e._table._elementRef.nativeElement.getAttribute("role");o.nativeElement.setAttribute("role","grid"===c||"treegrid"===c?"gridcell":"cell")}}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(Ma),h.Y36(h.SBq))},i.\u0275dir=h.lG2({type:i,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[h.qOj]}),i})();class GV{constructor(){this.tasks=[],this.endTasks=[]}}const AO=new h.OlP("_COALESCED_STYLE_SCHEDULER");let zV=(()=>{class i{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new rt.xQ}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new GV,this._getScheduleObservable().pipe(Kr(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new GV;for(const o of e.tasks)o();for(const o of e.endTasks)o()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Gt.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(ki(1))}}return i.\u0275fac=function(e){return new(e||i)(h.LFG(h.R0b))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})(),IO=(()=>{class i{constructor(e,o){this.template=e,this._differs=o}ngOnChanges(e){if(!this._columnsDiffer){const o=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(o).create(),this._columnsDiffer.diff(o)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Bv?e.headerCell.template:this instanceof jv?e.footerCell.template:e.cell.template}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.Rgc),h.Y36(h.ZZ4))},i.\u0275dir=h.lG2({type:i,features:[h.TTD]}),i})();class vU extends IO{}const bU=DO(vU);let Bv=(()=>{class i extends bU{constructor(e,o,a){super(e,o),this._table=a}ngOnChanges(e){super.ngOnChanges(e)}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.Rgc),h.Y36(h.ZZ4),h.Y36(Fp,8))},i.\u0275dir=h.lG2({type:i,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[h.qOj,h.TTD]}),i})();class wU extends IO{}const CU=DO(wU);let jv=(()=>{class i extends CU{constructor(e,o,a){super(e,o),this._table=a}ngOnChanges(e){super.ngOnChanges(e)}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.Rgc),h.Y36(h.ZZ4),h.Y36(Fp,8))},i.\u0275dir=h.lG2({type:i,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[h.qOj,h.TTD]}),i})(),pS=(()=>{class i extends IO{constructor(e,o,a){super(e,o),this._table=a}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.Rgc),h.Y36(h.ZZ4),h.Y36(Fp,8))},i.\u0275dir=h.lG2({type:i,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[h.qOj]}),i})(),Aa=(()=>{class i{constructor(e){this._viewContainer=e,i.mostRecentCellOutlet=this}ngOnDestroy(){i.mostRecentCellOutlet===this&&(i.mostRecentCellOutlet=null)}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.s_b))},i.\u0275dir=h.lG2({type:i,selectors:[["","cdkCellOutlet",""]]}),i.mostRecentCellOutlet=null,i})(),RO=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=h.Xpm({type:i,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,o){1&e&&h.GkF(0,0)},directives:[Aa],encapsulation:2}),i})(),OO=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=h.Xpm({type:i,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,o){1&e&&h.GkF(0,0)},directives:[Aa],encapsulation:2}),i})(),gS=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.Rgc))},i.\u0275dir=h.lG2({type:i,selectors:[["ng-template","cdkNoDataRow",""]]}),i})();const $V=["top","bottom","left","right"];class EU{constructor(t,e,o,a,c=!0,f=!0,m){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=o,this._coalescedStyleScheduler=a,this._isBrowser=c,this._needsPositionStickyOnElement=f,this._positionListener=m,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const o=[];for(const a of t)if(a.nodeType===a.ELEMENT_NODE){o.push(a);for(let c=0;c<a.children.length;c++)o.push(a.children[c])}this._coalescedStyleScheduler.schedule(()=>{for(const a of o)this._removeStickyStyle(a,e)})}updateStickyColumns(t,e,o,a=!0){if(!t.length||!this._isBrowser||!e.some(T=>T)&&!o.some(T=>T))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const c=t[0],f=c.children.length,m=this._getCellWidths(c,a),_=this._getStickyStartColumnPositions(m,e),w=this._getStickyEndColumnPositions(m,o),C=e.lastIndexOf(!0),S=o.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const T="rtl"===this.direction,I=T?"right":"left",F=T?"left":"right";for(const j of t)for(let q=0;q<f;q++){const ce=j.children[q];e[q]&&this._addStickyStyle(ce,I,_[q],q===C),o[q]&&this._addStickyStyle(ce,F,w[q],q===S)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===C?[]:m.slice(0,C+1).map((j,q)=>e[q]?j:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===S?[]:m.slice(S).map((j,q)=>o[q+S]?j:null).reverse()}))})}stickRows(t,e,o){if(!this._isBrowser)return;const a="bottom"===o?t.slice().reverse():t,c="bottom"===o?e.slice().reverse():e,f=[],m=[],_=[];for(let C=0,S=0;C<a.length;C++){if(!c[C])continue;f[C]=S;const T=a[C];_[C]=this._isNativeHtmlTable?Array.from(T.children):[T];const I=T.getBoundingClientRect().height;S+=I,m[C]=I}const w=c.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var C,S;for(let T=0;T<a.length;T++){if(!c[T])continue;const I=f[T],F=T===w;for(const j of _[T])this._addStickyStyle(j,o,I,F)}"top"===o?null===(C=this._positionListener)||void 0===C||C.stickyHeaderRowsUpdated({sizes:m,offsets:f,elements:_}):null===(S=this._positionListener)||void 0===S||S.stickyFooterRowsUpdated({sizes:m,offsets:f,elements:_})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const o=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(a=>!a)?this._removeStickyStyle(o,["bottom"]):this._addStickyStyle(o,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const a of e)t.style[a]="",t.classList.remove(this._borderCellCss[a]);$V.some(a=>-1===e.indexOf(a)&&t.style[a])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,o,a){t.classList.add(this._stickCellCss),a&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${o}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let o=0;for(const a of $V)t.style[a]&&(o+=e[a]);return o?`${o}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const o=[],a=t.children;for(let c=0;c<a.length;c++)o.push(a[c].getBoundingClientRect().width);return this._cachedCellWidths=o,o}_getStickyStartColumnPositions(t,e){const o=[];let a=0;for(let c=0;c<t.length;c++)e[c]&&(o[c]=a,a+=t[c]);return o}_getStickyEndColumnPositions(t,e){const o=[];let a=0;for(let c=t.length;c>0;c--)e[c]&&(o[c]=a,a+=t[c]);return o}}const FO=new h.OlP("CDK_SPL");let mS=(()=>{class i{constructor(e,o){this.viewContainer=e,this.elementRef=o}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.s_b),h.Y36(h.SBq))},i.\u0275dir=h.lG2({type:i,selectors:[["","rowOutlet",""]]}),i})(),yS=(()=>{class i{constructor(e,o){this.viewContainer=e,this.elementRef=o}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.s_b),h.Y36(h.SBq))},i.\u0275dir=h.lG2({type:i,selectors:[["","headerRowOutlet",""]]}),i})(),_S=(()=>{class i{constructor(e,o){this.viewContainer=e,this.elementRef=o}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.s_b),h.Y36(h.SBq))},i.\u0275dir=h.lG2({type:i,selectors:[["","footerRowOutlet",""]]}),i})(),vS=(()=>{class i{constructor(e,o){this.viewContainer=e,this.elementRef=o}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.s_b),h.Y36(h.SBq))},i.\u0275dir=h.lG2({type:i,selectors:[["","noDataRowOutlet",""]]}),i})(),bS=(()=>{class i{constructor(e,o,a,c,f,m,_,w,C,S,T){this._differs=e,this._changeDetectorRef=o,this._elementRef=a,this._dir=f,this._platform=_,this._viewRepeater=w,this._coalescedStyleScheduler=C,this._viewportRuler=S,this._stickyPositioningListener=T,this._onDestroy=new rt.xQ,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new h.vpe,this.viewChange=new vr({start:0,end:Number.MAX_VALUE}),c||this._elementRef.nativeElement.setAttribute("role","table"),this._document=m,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=sn(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=sn(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,o)=>this.trackBy?this.trackBy(o.dataIndex,o.data):o),this._viewportRuler.change().pipe(Kr(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const o=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||o,this._forceRecalculateCellWidths=o,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),$u(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const o=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,o,(a,c,f)=>this._getEmbeddedViewArgs(a.item,f),a=>a.item.data,a=>{1===a.operation&&a.context&&this._renderCellTemplateForItem(a.record.item.rowDef,a.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(a=>{o.get(a.currentIndex).context.$implicit=a.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),a=this._elementRef.nativeElement.querySelector("thead");a&&(a.style.display=e.length?"":"none");const c=this._headerRowDefs.map(f=>f.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,c,"top"),this._headerRowDefs.forEach(f=>f.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),a=this._elementRef.nativeElement.querySelector("tfoot");a&&(a.style.display=e.length?"":"none");const c=this._footerRowDefs.map(f=>f.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,c,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,c),this._footerRowDefs.forEach(f=>f.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),o=this._getRenderedRows(this._rowOutlet),a=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...o,...a],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((c,f)=>{this._addStickyColumnStyles([c],this._headerRowDefs[f])}),this._rowDefs.forEach(c=>{const f=[];for(let m=0;m<o.length;m++)this._renderRows[m].rowDef===c&&f.push(o[m]);this._addStickyColumnStyles(f,c)}),a.forEach((c,f)=>{this._addStickyColumnStyles([c],this._footerRowDefs[f])}),Array.from(this._columnDefsByName.values()).forEach(c=>c.resetStickyChanged())}_getAllRenderRows(){const e=[],o=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let a=0;a<this._data.length;a++){let c=this._data[a];const f=this._getRenderRowsForData(c,a,o.get(c));this._cachedRenderRowsMap.has(c)||this._cachedRenderRowsMap.set(c,new WeakMap);for(let m=0;m<f.length;m++){let _=f[m];const w=this._cachedRenderRowsMap.get(_.data);w.has(_.rowDef)?w.get(_.rowDef).push(_):w.set(_.rowDef,[_]),e.push(_)}}return e}_getRenderRowsForData(e,o,a){return this._getRowDefs(e,o).map(f=>{const m=a&&a.has(f)?a.get(f):[];if(m.length){const _=m.shift();return _.dataIndex=o,_}return{data:e,rowDef:f,dataIndex:o}})}_cacheColumnDefs(){this._columnDefsByName.clear(),wS(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(o=>{this._columnDefsByName.has(o.name),this._columnDefsByName.set(o.name,o)})}_cacheRowDefs(){this._headerRowDefs=wS(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=wS(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=wS(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(o=>!o.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(f,m)=>f||!!m.getColumnsDiff(),o=this._rowDefs.reduce(e,!1);o&&this._forceRenderDataRows();const a=this._headerRowDefs.reduce(e,!1);a&&this._forceRenderHeaderRows();const c=this._footerRowDefs.reduce(e,!1);return c&&this._forceRenderFooterRows(),o||a||c}_switchDataSource(e){this._data=[],$u(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;$u(this.dataSource)?e=this.dataSource.connect(this):function(i){return!!i&&(i instanceof nn.y||"function"==typeof i.lift&&"function"==typeof i.subscribe)}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,Pe.of)(this.dataSource)),this._renderChangeSubscription=e.pipe(Kr(this._onDestroy)).subscribe(o=>{this._data=o||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,o)=>this._renderRow(this._headerRowOutlet,e,o)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,o)=>this._renderRow(this._footerRowOutlet,e,o)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,o){const a=Array.from(o.columns||[]).map(m=>this._columnDefsByName.get(m)),c=a.map(m=>m.sticky),f=a.map(m=>m.stickyEnd);this._stickyStyler.updateStickyColumns(e,c,f,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const o=[];for(let a=0;a<e.viewContainer.length;a++){const c=e.viewContainer.get(a);o.push(c.rootNodes[0])}return o}_getRowDefs(e,o){if(1==this._rowDefs.length)return[this._rowDefs[0]];let a=[];if(this.multiTemplateDataRows)a=this._rowDefs.filter(c=>!c.when||c.when(o,e));else{let c=this._rowDefs.find(f=>f.when&&f.when(o,e))||this._defaultRowDef;c&&a.push(c)}return a}_getEmbeddedViewArgs(e,o){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:o}}_renderRow(e,o,a,c={}){const f=e.viewContainer.createEmbeddedView(o.template,c,a);return this._renderCellTemplateForItem(o,c),f}_renderCellTemplateForItem(e,o){for(let a of this._getCellTemplates(e))Aa.mostRecentCellOutlet&&Aa.mostRecentCellOutlet._viewContainer.createEmbeddedView(a,o);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let o=0,a=e.length;o<a;o++){const f=e.get(o).context;f.count=a,f.first=0===o,f.last=o===a-1,f.even=o%2==0,f.odd=!f.even,this.multiTemplateDataRows?(f.dataIndex=this._renderRows[o].dataIndex,f.renderIndex=o):f.index=this._renderRows[o].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,o=>{const a=this._columnDefsByName.get(o);return e.extractCellTemplate(a)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),o=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const a of o){const c=this._document.createElement(a.tag);c.setAttribute("role","rowgroup");for(const f of a.outlets)c.appendChild(f.elementRef.nativeElement);e.appendChild(c)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(o,a)=>o||a.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new EU(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,Pe.of)()).pipe(Kr(this._onDestroy)).subscribe(o=>{this._stickyStyler.direction=o,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(o=>!o._table||o._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(e){const o=0===this._rowOutlet.viewContainer.length;if(o!==this._isShowingNoDataRow){const a=this._noDataRowOutlet.viewContainer;o?a.createEmbeddedView(e.templateRef):a.clear(),this._isShowingNoDataRow=o}}}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.ZZ4),h.Y36(h.sBO),h.Y36(h.SBq),h.$8M("role"),h.Y36(Ui,8),h.Y36(J),h.Y36(Ot),h.Y36(Hs),h.Y36(AO),h.Y36(al),h.Y36(FO,12))},i.\u0275cmp=h.Xpm({type:i,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,o,a){if(1&e&&(h.Suo(a,gS,5),h.Suo(a,Ma,5),h.Suo(a,pS,5),h.Suo(a,Bv,5),h.Suo(a,jv,5)),2&e){let c;h.iGM(c=h.CRH())&&(o._noDataRow=c.first),h.iGM(c=h.CRH())&&(o._contentColumnDefs=c),h.iGM(c=h.CRH())&&(o._contentRowDefs=c),h.iGM(c=h.CRH())&&(o._contentHeaderRowDefs=c),h.iGM(c=h.CRH())&&(o._contentFooterRowDefs=c)}},viewQuery:function(e,o){if(1&e&&(h.Gf(mS,7),h.Gf(yS,7),h.Gf(_S,7),h.Gf(vS,7)),2&e){let a;h.iGM(a=h.CRH())&&(o._rowOutlet=a.first),h.iGM(a=h.CRH())&&(o._headerRowOutlet=a.first),h.iGM(a=h.CRH())&&(o._footerRowOutlet=a.first),h.iGM(a=h.CRH())&&(o._noDataRowOutlet=a.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,o){2&e&&h.ekj("cdk-table-fixed-layout",o.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[h._Bn([{provide:Fp,useExisting:i},{provide:Hs,useClass:Sw},{provide:AO,useClass:zV},{provide:FO,useValue:null}])],ngContentSelectors:fU,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,o){1&e&&(h.F$t(hU),h.Hsn(0),h.Hsn(1,1),h.GkF(2,0),h.GkF(3,1),h.GkF(4,2),h.GkF(5,3))},directives:[yS,mS,vS,_S],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),i})();function wS(i,t){return i.concat(Array.from(t))}let SU=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[hm]]}),i})();const TU=[[["caption"]],[["colgroup"],["col"]]],MU=["caption","colgroup, col"];let YV=(()=>{class i extends bS{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=h.n5z(i)))(o||i)}}(),i.\u0275cmp=h.Xpm({type:i,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,o){2&e&&h.ekj("mat-table-fixed-layout",o.fixedLayout)},exportAs:["matTable"],features:[h._Bn([{provide:Hs,useClass:Sw},{provide:bS,useExisting:i},{provide:Fp,useExisting:i},{provide:AO,useClass:zV},{provide:FO,useValue:null}]),h.qOj],ngContentSelectors:MU,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,o){1&e&&(h.F$t(TU),h.Hsn(0),h.Hsn(1,1),h.GkF(2,0),h.GkF(3,1),h.GkF(4,2),h.GkF(5,3))},directives:[yS,mS,vS,_S],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),i})(),kO=(()=>{class i extends kp{}return i.\u0275fac=function(){let t;return function(o){return(t||(t=h.n5z(i)))(o||i)}}(),i.\u0275dir=h.lG2({type:i,selectors:[["","matCellDef",""]],features:[h._Bn([{provide:kp,useExisting:i}]),h.qOj]}),i})(),NO=(()=>{class i extends Np{}return i.\u0275fac=function(){let t;return function(o){return(t||(t=h.n5z(i)))(o||i)}}(),i.\u0275dir=h.lG2({type:i,selectors:[["","matHeaderCellDef",""]],features:[h._Bn([{provide:Np,useExisting:i}]),h.qOj]}),i})(),PO=(()=>{class i extends Ma{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=h.n5z(i)))(o||i)}}(),i.\u0275dir=h.lG2({type:i,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[h._Bn([{provide:Ma,useExisting:i},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),h.qOj]}),i})(),LO=(()=>{class i extends TO{}return i.\u0275fac=function(){let t;return function(o){return(t||(t=h.n5z(i)))(o||i)}}(),i.\u0275dir=h.lG2({type:i,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[h.qOj]}),i})(),VO=(()=>{class i extends MO{}return i.\u0275fac=function(){let t;return function(o){return(t||(t=h.n5z(i)))(o||i)}}(),i.\u0275dir=h.lG2({type:i,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[h.qOj]}),i})(),WV=(()=>{class i extends Bv{}return i.\u0275fac=function(){let t;return function(o){return(t||(t=h.n5z(i)))(o||i)}}(),i.\u0275dir=h.lG2({type:i,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[h._Bn([{provide:Bv,useExisting:i}]),h.qOj]}),i})(),KV=(()=>{class i extends pS{}return i.\u0275fac=function(){let t;return function(o){return(t||(t=h.n5z(i)))(o||i)}}(),i.\u0275dir=h.lG2({type:i,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[h._Bn([{provide:pS,useExisting:i}]),h.qOj]}),i})(),QV=(()=>{class i extends RO{}return i.\u0275fac=function(){let t;return function(o){return(t||(t=h.n5z(i)))(o||i)}}(),i.\u0275cmp=h.Xpm({type:i,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[h._Bn([{provide:RO,useExisting:i}]),h.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,o){1&e&&h.GkF(0,0)},directives:[Aa],encapsulation:2}),i})(),JV=(()=>{class i extends OO{}return i.\u0275fac=function(){let t;return function(o){return(t||(t=h.n5z(i)))(o||i)}}(),i.\u0275cmp=h.Xpm({type:i,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[h._Bn([{provide:OO,useExisting:i}]),h.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,o){1&e&&h.GkF(0,0)},directives:[Aa],encapsulation:2}),i})(),LU=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[SU,hn],hn]}),i})();function BU(i,t){1&i&&(h.TgZ(0,"th",8),h._uU(1," \u540d\u5b57 "),h.qZA())}function jU(i,t){if(1&i&&(h.TgZ(0,"td",9),h._uU(1),h.qZA()),2&i){const e=t.$implicit;h.xp6(1),h.hij(" ",e.name," ")}}function UU(i,t){1&i&&(h.TgZ(0,"th",8),h._uU(1," \u8a02\u9910\u5167\u5bb9 "),h.qZA())}function HU(i,t){if(1&i&&(h.TgZ(0,"td",9),h._uU(1),h.qZA()),2&i){const e=t.$implicit;h.xp6(1),h.hij(" ",e.content," ")}}function GU(i,t){1&i&&(h.TgZ(0,"th",8),h._uU(1," \u4fee\u6539 "),h.qZA())}function zU(i,t){1&i&&h._UZ(0,"td",9)}function $U(i,t){1&i&&h._UZ(0,"tr",10)}function qU(i,t){1&i&&h._UZ(0,"tr",11)}let YU=(()=>{class i{constructor(e){this.store=e,this.displayedColumns=["name","content","button"],this.dataSource=this.store.collection("todo").valueChanges({name:"\bssss "})}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(yO))},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-maintable"]],decls:12,vars:3,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","content"],["matColumnDef","button"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(h.TgZ(0,"table",0),h.ynx(1,1),h.YNc(2,BU,2,0,"th",2),h.YNc(3,jU,2,1,"td",3),h.BQk(),h.ynx(4,4),h.YNc(5,UU,2,0,"th",2),h.YNc(6,HU,2,1,"td",3),h.BQk(),h.ynx(7,5),h.YNc(8,GU,2,0,"th",2),h.YNc(9,zU,1,0,"td",3),h.BQk(),h.YNc(10,$U,1,0,"tr",6),h.YNc(11,qU,1,0,"tr",7),h.qZA()),2&e&&(h.Q6J("dataSource",o.dataSource),h.xp6(10),h.Q6J("matHeaderRowDef",o.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",o.displayedColumns))},directives:[YV,PO,NO,kO,WV,KV,LO,VO,QV,JV],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),i})(),WU=(()=>{class i{constructor(e,o){this.dialog=e,this.store=o,this.displayedColumns=["position","name","content","button"]}newTask(){this.dialog.open(SE,{width:"270px",data:{periodicElement:{}}}).afterClosed().subscribe(o=>{this.store.collection("todo").add(o.periodicElement)})}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(oa),h.Y36(yO))},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-root"]],decls:11,vars:0,consts:[["color","primary"],[1,"content-wrapper"],["mat-button","",3,"click"]],template:function(e,o){1&e&&(h.TgZ(0,"mat-toolbar",0),h.TgZ(1,"mat-icon"),h._uU(2,"local_fire_department"),h.qZA(),h.TgZ(3,"span"),h._uU(4,"Kanban Fire"),h.qZA(),h.qZA(),h.TgZ(5,"div",1),h.TgZ(6,"button",2),h.NdJ("click",function(){return o.newTask()}),h.TgZ(7,"mat-icon"),h._uU(8,"add"),h.qZA(),h._uU(9," Add Content "),h.qZA(),h.qZA(),h._UZ(10,"app-maintable"))},directives:[Lj,cU,Mf,YU],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),i})(),tH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[hn],hn]}),i})();const ZV_firebase={apiKey:"AIzaSyAlBpqAXg1vZVwwV8RmEQMZy9YY_qEFMNg",authDomain:"alansid-bfc4b.firebaseapp.com",databaseURL:"https://alansid-bfc4b-default-rtdb.firebaseio.com",projectId:"alansid-bfc4b",storageBucket:"alansid-bfc4b.appspot.com",messagingSenderId:"216454174565",appId:"1:216454174565:web:1c324bca34433da266338c",measurementId:"G-X6JX0E9G83"};let nH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=h.oAB({type:i,bootstrap:[WU]}),i.\u0275inj=h.cJS({providers:[{provide:tf,useValue:{}},{provide:Ao,useValue:{}}],imports:[[Xp,oM,LU,Jt.hO.initializeApp(ZV_firebase),Oj,Qh,Vj,DE,dU,tH,_c,ER,YN]]}),i})();gu().bootstrapModule(nH).catch(i=>console.error(i))},4762:(Be,ge,P)=>{"use strict";P.d(ge,{ZT:()=>ie,pi:()=>fe,mG:()=>W,Jh:()=>z,XA:()=>O,CR:()=>U,ev:()=>he});var h=function(te,re){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oe,ne){oe.__proto__=ne}||function(oe,ne){for(var be in ne)Object.prototype.hasOwnProperty.call(ne,be)&&(oe[be]=ne[be])})(te,re)};function ie(te,re){if("function"!=typeof re&&null!==re)throw new TypeError("Class extends value "+String(re)+" is not a constructor or null");function oe(){this.constructor=te}h(te,re),te.prototype=null===re?Object.create(re):(oe.prototype=re.prototype,new oe)}var fe=function(){return(fe=Object.assign||function(re){for(var oe,ne=1,be=arguments.length;ne<be;ne++)for(var se in oe=arguments[ne])Object.prototype.hasOwnProperty.call(oe,se)&&(re[se]=oe[se]);return re}).apply(this,arguments)};function W(te,re,oe,ne){return new(oe||(oe=Promise))(function(se,Ge){function We(mt){try{Ue(ne.next(mt))}catch(Ie){Ge(Ie)}}function Yt(mt){try{Ue(ne.throw(mt))}catch(Ie){Ge(Ie)}}function Ue(mt){mt.done?se(mt.value):function(se){return se instanceof oe?se:new oe(function(Ge){Ge(se)})}(mt.value).then(We,Yt)}Ue((ne=ne.apply(te,re||[])).next())})}function z(te,re){var ne,be,se,Ge,oe={label:0,sent:function(){if(1&se[0])throw se[1];return se[1]},trys:[],ops:[]};return Ge={next:We(0),throw:We(1),return:We(2)},"function"==typeof Symbol&&(Ge[Symbol.iterator]=function(){return this}),Ge;function We(Ue){return function(mt){return function(Ue){if(ne)throw new TypeError("Generator is already executing.");for(;oe;)try{if(ne=1,be&&(se=2&Ue[0]?be.return:Ue[0]?be.throw||((se=be.return)&&se.call(be),0):be.next)&&!(se=se.call(be,Ue[1])).done)return se;switch(be=0,se&&(Ue=[2&Ue[0],se.value]),Ue[0]){case 0:case 1:se=Ue;break;case 4:return oe.label++,{value:Ue[1],done:!1};case 5:oe.label++,be=Ue[1],Ue=[0];continue;case 7:Ue=oe.ops.pop(),oe.trys.pop();continue;default:if(!(se=(se=oe.trys).length>0&&se[se.length-1])&&(6===Ue[0]||2===Ue[0])){oe=0;continue}if(3===Ue[0]&&(!se||Ue[1]>se[0]&&Ue[1]<se[3])){oe.label=Ue[1];break}if(6===Ue[0]&&oe.label<se[1]){oe.label=se[1],se=Ue;break}if(se&&oe.label<se[2]){oe.label=se[2],oe.ops.push(Ue);break}se[2]&&oe.ops.pop(),oe.trys.pop();continue}Ue=re.call(te,oe)}catch(mt){Ue=[6,mt],be=0}finally{ne=se=0}if(5&Ue[0])throw Ue[1];return{value:Ue[0]?Ue[1]:void 0,done:!0}}([Ue,mt])}}}function O(te){var re="function"==typeof Symbol&&Symbol.iterator,oe=re&&te[re],ne=0;if(oe)return oe.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&ne>=te.length&&(te=void 0),{value:te&&te[ne++],done:!te}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}function U(te,re){var oe="function"==typeof Symbol&&te[Symbol.iterator];if(!oe)return te;var be,Ge,ne=oe.call(te),se=[];try{for(;(void 0===re||re-- >0)&&!(be=ne.next()).done;)se.push(be.value)}catch(We){Ge={error:We}}finally{try{be&&!be.done&&(oe=ne.return)&&oe.call(ne)}finally{if(Ge)throw Ge.error}}return se}function he(te,re,oe){if(oe||2===arguments.length)for(var se,ne=0,be=re.length;ne<be;ne++)(se||!(ne in re))&&(se||(se=Array.prototype.slice.call(re,0,ne)),se[ne]=re[ne]);return te.concat(se||Array.prototype.slice.call(re))}}},Be=>{Be(Be.s=4190)}]);